ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_file_delete.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._fx_file_delete,"ax",%progbits
  20              		.align	1
  21              		.global	_fx_file_delete
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_fx_file_delete:
  27              	.LVL0:
  28              	.LFB8:
  29              		.file 1 "Middlewares/ST/filex/common/src/fx_file_delete.c"
   1:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  12:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  13:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_file_delete.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**   File                                                                */
  19:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  23:Middlewares/ST/filex/common/src/fx_file_delete.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  25:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  26:Middlewares/ST/filex/common/src/fx_file_delete.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  28:Middlewares/ST/filex/common/src/fx_file_delete.c **** #include "fx_api.h"
  29:Middlewares/ST/filex/common/src/fx_file_delete.c **** #include "fx_system.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 2


  30:Middlewares/ST/filex/common/src/fx_file_delete.c **** #include "fx_directory.h"
  31:Middlewares/ST/filex/common/src/fx_file_delete.c **** #include "fx_file.h"
  32:Middlewares/ST/filex/common/src/fx_file_delete.c **** #include "fx_utility.h"
  33:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  34:Middlewares/ST/filex/common/src/fx_file_delete.c **** #include "fx_fault_tolerant.h"
  35:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  36:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  37:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  38:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
  39:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  40:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  FUNCTION                                               RELEASE        */
  41:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  42:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_file_delete                                     PORTABLE C      */
  43:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                           6.1          */
  44:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  AUTHOR                                                                */
  45:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  46:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    William E. Lamie, Microsoft Corporation                             */
  47:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  48:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  DESCRIPTION                                                           */
  49:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  50:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    This function first attempts to find the specified file.  If found, */
  51:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    the delete request is valid and all of its clusters will be         */
  52:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    released and its directory entry will be marked as available.       */
  53:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    Otherwise, if the file is not found, the appropriate error code is  */
  54:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    returned to the caller.                                             */
  55:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  56:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  INPUT                                                                 */
  57:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  58:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    media_ptr                             Media control block pointer   */
  59:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    file_name                             File name pointer             */
  60:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  61:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  OUTPUT                                                                */
  62:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  63:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    return status                                                       */
  64:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  65:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  CALLS                                                                 */
  66:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  67:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_directory_entry_write             Write the new directory entry */
  68:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_directory_search                  Search for the file name in   */
  69:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                          the directory structure       */
  70:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_utility_exFAT_cluster_state_set   Set cluster state             */
  71:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_utility_FAT_entry_read            Read a FAT entry              */
  72:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_utility_FAT_entry_write           Write a FAT entry             */
  73:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_utility_FAT_flush                 Flush written FAT entries     */
  74:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_fault_tolerant_transaction_start  Start fault tolerant          */
  75:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                            transaction                 */
  76:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_fault_tolerant_transaction_end    End fault tolerant transaction*/
  77:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_fault_tolerant_recover            Recover FAT chain             */
  78:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_fault_tolerant_reset_log_file     Reset the log file            */
  79:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    _fx_fault_tolerant_set_FAT_chain      Set data of FAT chain         */
  80:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  81:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  CALLED BY                                                             */
  82:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  83:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    Application Code                                                    */
  84:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  85:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  RELEASE HISTORY                                                       */
  86:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 3


  87:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*    DATE              NAME                      DESCRIPTION             */
  88:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  89:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  90:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  91:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                            resulting in version 6.1    */
  92:Middlewares/ST/filex/common/src/fx_file_delete.c **** /*                                                                        */
  93:Middlewares/ST/filex/common/src/fx_file_delete.c **** /**************************************************************************/
  94:Middlewares/ST/filex/common/src/fx_file_delete.c **** UINT  _fx_file_delete(FX_MEDIA *media_ptr, CHAR *file_name)
  95:Middlewares/ST/filex/common/src/fx_file_delete.c **** {
  30              		.loc 1 95 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 120
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 95 1 is_stmt 0 view .LVU1
  35 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 A0B0     		sub	sp, sp, #128
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 152
  96:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  97:Middlewares/ST/filex/common/src/fx_file_delete.c **** UINT         status;
  47              		.loc 1 97 1 is_stmt 1 view .LVU2
  98:Middlewares/ST/filex/common/src/fx_file_delete.c **** ULONG        cluster;
  48              		.loc 1 98 1 view .LVU3
  99:Middlewares/ST/filex/common/src/fx_file_delete.c **** ULONG        contents;
  49              		.loc 1 99 1 view .LVU4
 100:Middlewares/ST/filex/common/src/fx_file_delete.c **** ULONG        open_count;
  50              		.loc 1 100 1 view .LVU5
 101:Middlewares/ST/filex/common/src/fx_file_delete.c **** FX_FILE     *search_ptr;
  51              		.loc 1 101 1 view .LVU6
 102:Middlewares/ST/filex/common/src/fx_file_delete.c **** ULONG        cluster_count;
  52              		.loc 1 102 1 view .LVU7
 103:Middlewares/ST/filex/common/src/fx_file_delete.c **** FX_DIR_ENTRY dir_entry;
  53              		.loc 1 103 1 view .LVU8
 104:Middlewares/ST/filex/common/src/fx_file_delete.c **** UCHAR        not_a_file_attr;
  54              		.loc 1 104 1 view .LVU9
 105:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 106:Middlewares/ST/filex/common/src/fx_file_delete.c **** ULONG        bytes_per_cluster;
 107:Middlewares/ST/filex/common/src/fx_file_delete.c **** ULONG        clusters_count;
 108:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 109:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 110:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 111:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 112:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Increment the number of times this service has been called.  */
 113:Middlewares/ST/filex/common/src/fx_file_delete.c ****     media_ptr -> fx_media_file_deletes++;
  55              		.loc 1 113 5 view .LVU10
  56              		.loc 1 113 15 is_stmt 0 view .LVU11
  57 0006 D0F83431 		ldr	r3, [r0, #308]
  58              		.loc 1 113 39 view .LVU12
  59 000a 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 4


  60 000c C0F83431 		str	r3, [r0, #308]
 114:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif
 115:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 116:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Setup pointer to media name buffer.  */
 117:Middlewares/ST/filex/common/src/fx_file_delete.c ****     dir_entry.fx_dir_entry_name =  media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN;
  61              		.loc 1 117 5 is_stmt 1 view .LVU13
  62              		.loc 1 117 70 is_stmt 0 view .LVU14
  63 0010 00F69C13 		addw	r3, r0, #2460
  64              		.loc 1 117 33 view .LVU15
  65 0014 0293     		str	r3, [sp, #8]
 118:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 119:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Clear the short name string.  */
 120:Middlewares/ST/filex/common/src/fx_file_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  0;
  66              		.loc 1 120 5 is_stmt 1 view .LVU16
  67              		.loc 1 120 42 is_stmt 0 view .LVU17
  68 0016 0023     		movs	r3, #0
  69 0018 8DF80C30 		strb	r3, [sp, #12]
 121:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 122:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Check the media to make sure it is open.  */
 123:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (media_ptr -> fx_media_id != FX_MEDIA_ID)
  70              		.loc 1 123 5 is_stmt 1 view .LVU18
  71              		.loc 1 123 19 is_stmt 0 view .LVU19
  72 001c 0268     		ldr	r2, [r0]
  73              		.loc 1 123 8 view .LVU20
  74 001e 514B     		ldr	r3, .L29
  75 0020 9A42     		cmp	r2, r3
  76 0022 04D0     		beq	.L21
 124:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 125:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 126:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Return the media not opened error.  */
 127:Middlewares/ST/filex/common/src/fx_file_delete.c ****         return(FX_MEDIA_NOT_OPEN);
  77              		.loc 1 127 15 view .LVU21
  78 0024 1127     		movs	r7, #17
  79              	.LVL1:
  80              	.L1:
 128:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 129:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 130:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 131:Middlewares/ST/filex/common/src/fx_file_delete.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_FILE_DELETE, media_ptr, file_name, 0, 0, FX_TRACE_FILE_EVENTS,
 132:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 133:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Protect against other threads accessing the media.  */
 134:Middlewares/ST/filex/common/src/fx_file_delete.c ****     FX_PROTECT
 135:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 136:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 137:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Start transaction. */
 138:Middlewares/ST/filex/common/src/fx_file_delete.c ****     _fx_fault_tolerant_transaction_start(media_ptr);
 139:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 140:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 141:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Check for write protect at the media level (set by driver).  */
 142:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (media_ptr -> fx_media_driver_write_protect)
 143:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 144:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 145:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 146:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 147:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 148:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 149:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Release media protection.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 5


 150:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_UNPROTECT
 151:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 152:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Return write protect error.  */
 153:Middlewares/ST/filex/common/src/fx_file_delete.c ****         return(FX_WRITE_PROTECT);
 154:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 155:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 156:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Search the system for the supplied file name.  */
 157:Middlewares/ST/filex/common/src/fx_file_delete.c ****     status =  _fx_directory_search(media_ptr, file_name, &dir_entry, FX_NULL, FX_NULL);
 158:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 159:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Determine if the search was successful.  */
 160:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (status != FX_SUCCESS)
 161:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 162:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 163:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 164:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 165:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 166:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 167:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Release media protection.  */
 168:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_UNPROTECT
 169:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 170:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Return the error code.  */
 171:Middlewares/ST/filex/common/src/fx_file_delete.c ****         return(status);
 172:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 173:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 174:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 175:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 176:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 177:Middlewares/ST/filex/common/src/fx_file_delete.c ****         not_a_file_attr = FX_DIRECTORY;
 178:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 179:Middlewares/ST/filex/common/src/fx_file_delete.c ****     else
 180:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 181:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 182:Middlewares/ST/filex/common/src/fx_file_delete.c ****         not_a_file_attr = FX_DIRECTORY | FX_VOLUME;
 183:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 184:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 185:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 186:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 187:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Check to make sure the found entry is a file.  */
 188:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (dir_entry.fx_dir_entry_attributes & not_a_file_attr)
 189:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 190:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 191:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 192:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 193:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 194:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 195:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Release media protection.  */
 196:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_UNPROTECT
 197:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 198:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Return the not a file error code.  */
 199:Middlewares/ST/filex/common/src/fx_file_delete.c ****         return(FX_NOT_A_FILE);
 200:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 201:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 202:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Check if the entry is read only */
 203:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (dir_entry.fx_dir_entry_attributes & (UCHAR)(FX_READ_ONLY))
 204:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 205:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 206:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 6


 207:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 208:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 209:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Release media protection.  */
 210:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_UNPROTECT
 211:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 212:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Return the not a directory error code.  */
 213:Middlewares/ST/filex/common/src/fx_file_delete.c ****         return(FX_WRITE_PROTECT);
 214:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 215:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 216:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Search the opened files to see if this file is currently
 217:Middlewares/ST/filex/common/src/fx_file_delete.c ****        opened.  */
 218:Middlewares/ST/filex/common/src/fx_file_delete.c ****     open_count =  media_ptr -> fx_media_opened_file_count;
 219:Middlewares/ST/filex/common/src/fx_file_delete.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 220:Middlewares/ST/filex/common/src/fx_file_delete.c ****     while (open_count)
 221:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 222:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 223:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Look at each opened file to see if the same file is opened.  */
 224:Middlewares/ST/filex/common/src/fx_file_delete.c ****         if ((search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector == dir_entry.fx_dir_entry_log_
 225:Middlewares/ST/filex/common/src/fx_file_delete.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 226:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 227:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 228:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 229:Middlewares/ST/filex/common/src/fx_file_delete.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 230:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 231:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 232:Middlewares/ST/filex/common/src/fx_file_delete.c ****             /* Release media protection.  */
 233:Middlewares/ST/filex/common/src/fx_file_delete.c ****             FX_UNPROTECT
 234:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 235:Middlewares/ST/filex/common/src/fx_file_delete.c ****             /* The file is currently open.  */
 236:Middlewares/ST/filex/common/src/fx_file_delete.c ****             return(FX_ACCESS_ERROR);
 237:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 238:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 239:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Adjust the pointer and decrement the search count.  */
 240:Middlewares/ST/filex/common/src/fx_file_delete.c ****         search_ptr =  search_ptr -> fx_file_opened_next;
 241:Middlewares/ST/filex/common/src/fx_file_delete.c ****         open_count--;
 242:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 243:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 244:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Pickup the starting cluster of the file.  */
 245:Middlewares/ST/filex/common/src/fx_file_delete.c ****     cluster =           dir_entry.fx_dir_entry_cluster;
 246:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 247:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* At this point, make the directory entry invalid in order to delete the file.  */
 248:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 249:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifndef FX_MEDIA_DISABLE_SEARCH_CACHE
 250:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 251:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Invalidate the directory search saved information.  */
 252:Middlewares/ST/filex/common/src/fx_file_delete.c ****     media_ptr -> fx_media_last_found_name[0] =  FX_NULL;
 253:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif
 254:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 255:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Mark the directory entry as available, while leaving the other
 256:Middlewares/ST/filex/common/src/fx_file_delete.c ****        information for the sake of posterity.  */
 257:Middlewares/ST/filex/common/src/fx_file_delete.c ****     dir_entry.fx_dir_entry_name[0] =        (CHAR)FX_DIR_ENTRY_FREE;
 258:Middlewares/ST/filex/common/src/fx_file_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 259:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 260:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Now write out the directory entry.  */
 261:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 262:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 263:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 7


 264:Middlewares/ST/filex/common/src/fx_file_delete.c ****         status = _fx_directory_exFAT_entry_write(media_ptr, &dir_entry, UPDATE_DELETE);
 265:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 266:Middlewares/ST/filex/common/src/fx_file_delete.c ****     else
 267:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 268:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 269:Middlewares/ST/filex/common/src/fx_file_delete.c ****         status = _fx_directory_entry_write(media_ptr, &dir_entry);
 270:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 271:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 272:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 273:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 274:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Determine if the write was successful.  */
 275:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (status != FX_SUCCESS)
 276:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 277:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 278:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 279:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 280:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 281:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 282:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Release media protection.  */
 283:Middlewares/ST/filex/common/src/fx_file_delete.c ****         FX_UNPROTECT
 284:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 285:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Return the error code.  */
 286:Middlewares/ST/filex/common/src/fx_file_delete.c ****         return(status);
 287:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 288:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 289:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Now that the directory entry is no longer valid and pointing at the chain of clusters,
 290:Middlewares/ST/filex/common/src/fx_file_delete.c ****        walk the chain of allocated FAT entries and mark each of them as free.  */
 291:Middlewares/ST/filex/common/src/fx_file_delete.c ****     cluster_count =     0;
 292:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 293:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 294:Middlewares/ST/filex/common/src/fx_file_delete.c ****     bytes_per_cluster =  ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 295:Middlewares/ST/filex/common/src/fx_file_delete.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 296:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 297:Middlewares/ST/filex/common/src/fx_file_delete.c ****     clusters_count =
 298:Middlewares/ST/filex/common/src/fx_file_delete.c ****         (ULONG)((dir_entry.fx_dir_entry_file_size + bytes_per_cluster - 1) / bytes_per_cluster - 1)
 299:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 300:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 301:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 302:Middlewares/ST/filex/common/src/fx_file_delete.c ****     if (media_ptr -> fx_media_fault_tolerant_enabled)
 303:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 304:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 305:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Note:  Directory entries are already written to log files. FAT chain is updated as the l
 306:Middlewares/ST/filex/common/src/fx_file_delete.c ****            Since there are no others FAT entries written to the log.  Therefore there is no need to
 307:Middlewares/ST/filex/common/src/fx_file_delete.c ****            the flag FX_FRAULT_TOLERANT_STATE_SET_FAT_CHAIN here. */
 308:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 309:Middlewares/ST/filex/common/src/fx_file_delete.c ****         if (dir_entry.fx_dir_entry_dont_use_fat & 1)
 310:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 311:Middlewares/ST/filex/common/src/fx_file_delete.c ****             status = _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_TRUE, 0,
 312:Middlewares/ST/filex/common/src/fx_file_delete.c ****                                                       media_ptr -> fx_media_fat_last, cluster, clus
 313:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 314:Middlewares/ST/filex/common/src/fx_file_delete.c ****         else
 315:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 316:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 317:Middlewares/ST/filex/common/src/fx_file_delete.c ****             status = _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_FALSE, 0,
 318:Middlewares/ST/filex/common/src/fx_file_delete.c ****                                                       media_ptr -> fx_media_fat_last, cluster, medi
 319:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 320:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 8


 321:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 322:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 323:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Determine if the write was successful.  */
 324:Middlewares/ST/filex/common/src/fx_file_delete.c ****         if (status != FX_SUCCESS)
 325:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 326:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 327:Middlewares/ST/filex/common/src/fx_file_delete.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 328:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 329:Middlewares/ST/filex/common/src/fx_file_delete.c ****             /* Release media protection.  */
 330:Middlewares/ST/filex/common/src/fx_file_delete.c ****             FX_UNPROTECT
 331:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 332:Middlewares/ST/filex/common/src/fx_file_delete.c ****             /* Return the error code.  */
 333:Middlewares/ST/filex/common/src/fx_file_delete.c ****             return(status);
 334:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 335:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 336:Middlewares/ST/filex/common/src/fx_file_delete.c ****     else
 337:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 338:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 339:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 340:Middlewares/ST/filex/common/src/fx_file_delete.c ****         /* Follow the link of FAT entries.  */
 341:Middlewares/ST/filex/common/src/fx_file_delete.c ****         while ((cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_reserved))
 342:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 343:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 344:Middlewares/ST/filex/common/src/fx_file_delete.c ****             /* Increment the number of clusters.  */
 345:Middlewares/ST/filex/common/src/fx_file_delete.c ****             cluster_count++;
 346:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 347:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 348:Middlewares/ST/filex/common/src/fx_file_delete.c ****             if (dir_entry.fx_dir_entry_dont_use_fat & 1)
 349:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 350:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 351:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Check for file size range.  */
 352:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 if (cluster_count - 1 >= clusters_count)
 353:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 354:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     contents = FX_LAST_CLUSTER_exFAT;
 355:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 356:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 else
 357:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 358:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     contents = cluster + 1;
 359:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 360:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 361:Middlewares/ST/filex/common/src/fx_file_delete.c ****             else
 362:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 363:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 364:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 365:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Read the current cluster entry from the FAT.  */
 366:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &contents);
 367:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 368:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Check the return value.  */
 369:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 if (status != FX_SUCCESS)
 370:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 371:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 372:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 373:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 374:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 375:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 376:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     /* Release media protection.  */
 377:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     FX_UNPROTECT
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 9


 378:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 379:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     /* Return the error status.  */
 380:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     return(status);
 381:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 382:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 383:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 384:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 385:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 386:Middlewares/ST/filex/common/src/fx_file_delete.c ****             if ((cluster == contents) || (cluster_count > media_ptr -> fx_media_total_clusters))
 387:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 388:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 389:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 390:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 391:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 392:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 393:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Release media protection.  */
 394:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 FX_UNPROTECT
 395:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 396:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Return the bad status.  */
 397:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 return(FX_FAT_READ_ERROR);
 398:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 399:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 400:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 401:Middlewares/ST/filex/common/src/fx_file_delete.c ****             if (!(dir_entry.fx_dir_entry_dont_use_fat & 1))
 402:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 403:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 404:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 405:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Make the current cluster available.  */
 406:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 status =  _fx_utility_FAT_entry_write(media_ptr, cluster, FX_FREE_CLUSTER);
 407:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 408:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Check the return value.  */
 409:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 if (status != FX_SUCCESS)
 410:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 411:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 412:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 413:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 414:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 415:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 416:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     /* Release media protection.  */
 417:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     FX_UNPROTECT
 418:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 419:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     /* Return the error status.  */
 420:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     return(status);
 421:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 422:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 423:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 424:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 425:Middlewares/ST/filex/common/src/fx_file_delete.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 426:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 427:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 428:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Mark the cluster as free.  */
 429:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 status = _fx_utility_exFAT_cluster_state_set(media_ptr, cluster, FX_EXFAT_BITMAP_CL
 430:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 431:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 /* Check the return status.  */
 432:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 if (status != FX_SUCCESS)
 433:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 434:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 10


 435:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 436:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 437:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 438:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 439:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     /* Release media protection.  */
 440:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     FX_UNPROTECT
 441:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 442:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     /* Return the bad status.  */
 443:Middlewares/ST/filex/common/src/fx_file_delete.c ****                     return(status);
 444:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 445:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 446:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_EXFAT */
 447:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 448:Middlewares/ST/filex/common/src/fx_file_delete.c ****             /* Setup for the next cluster.  */
 449:Middlewares/ST/filex/common/src/fx_file_delete.c ****             cluster =  contents;
 450:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 451:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 452:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 453:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 454:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 455:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Update the free clusters in the media control block.  */
 456:Middlewares/ST/filex/common/src/fx_file_delete.c ****     media_ptr -> fx_media_available_clusters =
 457:Middlewares/ST/filex/common/src/fx_file_delete.c ****         media_ptr -> fx_media_available_clusters + cluster_count;
 458:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 459:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_FAULT_TOLERANT
 460:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 461:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Flush the cached individual FAT entries */
 462:Middlewares/ST/filex/common/src/fx_file_delete.c ****     _fx_utility_FAT_flush(media_ptr);
 463:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif
 464:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 465:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 466:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 467:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* End transaction. */
 468:Middlewares/ST/filex/common/src/fx_file_delete.c ****     status = _fx_fault_tolerant_transaction_end(media_ptr);
 469:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 470:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 471:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* Release media protection.  */
 472:Middlewares/ST/filex/common/src/fx_file_delete.c ****     FX_UNPROTECT
 473:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 474:Middlewares/ST/filex/common/src/fx_file_delete.c ****     /* File delete is complete, return status.  */
 475:Middlewares/ST/filex/common/src/fx_file_delete.c ****     return(status);
 476:Middlewares/ST/filex/common/src/fx_file_delete.c **** }
  81              		.loc 1 476 1 view .LVU22
  82 0026 3846     		mov	r0, r7
  83 0028 20B0     		add	sp, sp, #128
  84              	.LCFI2:
  85              		.cfi_remember_state
  86              		.cfi_def_cfa_offset 24
  87              		@ sp needed
  88 002a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
  89              	.LVL2:
  90              	.L21:
  91              	.LCFI3:
  92              		.cfi_restore_state
  93              		.loc 1 476 1 view .LVU23
  94 002e 0446     		mov	r4, r0
  95 0030 0D46     		mov	r5, r1
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 11


 134:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  96              		.loc 1 134 5 is_stmt 1 discriminator 2 view .LVU24
 134:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
  97              		.loc 1 134 5 discriminator 2 view .LVU25
  98 0032 00F5E476 		add	r6, r0, #456
  99 0036 4FF0FF31 		mov	r1, #-1
 100              	.LVL3:
 134:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 101              		.loc 1 134 5 is_stmt 0 discriminator 2 view .LVU26
 102 003a 3046     		mov	r0, r6
 103              	.LVL4:
 134:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 104              		.loc 1 134 5 discriminator 2 view .LVU27
 105 003c FFF7FEFF 		bl	_tx_mutex_get
 106              	.LVL5:
 107 0040 0028     		cmp	r0, #0
 108 0042 40F08D80 		bne	.L18
 142:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 109              		.loc 1 142 5 is_stmt 1 view .LVU28
 142:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 110              		.loc 1 142 19 is_stmt 0 view .LVU29
 111 0046 D4F8A830 		ldr	r3, [r4, #168]
 142:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 112              		.loc 1 142 8 view .LVU30
 113 004a ABB9     		cbnz	r3, .L22
 157:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 114              		.loc 1 157 5 is_stmt 1 view .LVU31
 157:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 115              		.loc 1 157 15 is_stmt 0 view .LVU32
 116 004c 0023     		movs	r3, #0
 117 004e 0093     		str	r3, [sp]
 118 0050 02AA     		add	r2, sp, #8
 119 0052 2946     		mov	r1, r5
 120 0054 2046     		mov	r0, r4
 121 0056 FFF7FEFF 		bl	_fx_directory_search
 122              	.LVL6:
 160:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 123              		.loc 1 160 5 is_stmt 1 view .LVU33
 160:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 124              		.loc 1 160 8 is_stmt 0 view .LVU34
 125 005a 0746     		mov	r7, r0
 126 005c 88B9     		cbnz	r0, .L23
 182:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 127              		.loc 1 182 9 is_stmt 1 view .LVU35
 128              	.LVL7:
 188:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 129              		.loc 1 188 5 view .LVU36
 188:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 130              		.loc 1 188 18 is_stmt 0 view .LVU37
 131 005e 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 188:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 132              		.loc 1 188 8 view .LVU38
 133 0062 13F0180F 		tst	r3, #24
 134 0066 10D1     		bne	.L24
 203:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 135              		.loc 1 203 5 is_stmt 1 view .LVU39
 203:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 12


 136              		.loc 1 203 8 is_stmt 0 view .LVU40
 137 0068 13F0010F 		tst	r3, #1
 138 006c 12D1     		bne	.L25
 218:Middlewares/ST/filex/common/src/fx_file_delete.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 139              		.loc 1 218 5 is_stmt 1 view .LVU41
 218:Middlewares/ST/filex/common/src/fx_file_delete.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 140              		.loc 1 218 16 is_stmt 0 view .LVU42
 141 006e D4F8CC20 		ldr	r2, [r4, #204]
 142              	.LVL8:
 219:Middlewares/ST/filex/common/src/fx_file_delete.c ****     while (open_count)
 143              		.loc 1 219 5 is_stmt 1 view .LVU43
 219:Middlewares/ST/filex/common/src/fx_file_delete.c ****     while (open_count)
 144              		.loc 1 219 16 is_stmt 0 view .LVU44
 145 0072 D4F8C830 		ldr	r3, [r4, #200]
 146              	.LVL9:
 220:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 147              		.loc 1 220 5 is_stmt 1 view .LVU45
 220:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 148              		.loc 1 220 11 is_stmt 0 view .LVU46
 149 0076 14E0     		b	.L7
 150              	.LVL10:
 151              	.L22:
 150:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 152              		.loc 1 150 9 is_stmt 1 view .LVU47
 153 0078 3046     		mov	r0, r6
 154 007a FFF7FEFF 		bl	_tx_mutex_put
 155              	.LVL11:
 153:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 156              		.loc 1 153 9 view .LVU48
 153:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 157              		.loc 1 153 15 is_stmt 0 view .LVU49
 158 007e 2327     		movs	r7, #35
 159 0080 D1E7     		b	.L1
 160              	.LVL12:
 161              	.L23:
 168:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 162              		.loc 1 168 9 is_stmt 1 view .LVU50
 163 0082 3046     		mov	r0, r6
 164              	.LVL13:
 168:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 165              		.loc 1 168 9 is_stmt 0 view .LVU51
 166 0084 FFF7FEFF 		bl	_tx_mutex_put
 167              	.LVL14:
 171:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 168              		.loc 1 171 9 is_stmt 1 view .LVU52
 171:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 169              		.loc 1 171 15 is_stmt 0 view .LVU53
 170 0088 CDE7     		b	.L1
 171              	.LVL15:
 172              	.L24:
 196:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 173              		.loc 1 196 9 is_stmt 1 view .LVU54
 174 008a 3046     		mov	r0, r6
 175              	.LVL16:
 196:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 176              		.loc 1 196 9 is_stmt 0 view .LVU55
 177 008c FFF7FEFF 		bl	_tx_mutex_put
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 13


 178              	.LVL17:
 199:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 179              		.loc 1 199 9 is_stmt 1 view .LVU56
 199:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 180              		.loc 1 199 15 is_stmt 0 view .LVU57
 181 0090 0527     		movs	r7, #5
 182              	.LVL18:
 199:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 183              		.loc 1 199 15 view .LVU58
 184 0092 C8E7     		b	.L1
 185              	.LVL19:
 186              	.L25:
 210:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 187              		.loc 1 210 9 is_stmt 1 view .LVU59
 188 0094 3046     		mov	r0, r6
 189              	.LVL20:
 210:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 190              		.loc 1 210 9 is_stmt 0 view .LVU60
 191 0096 FFF7FEFF 		bl	_tx_mutex_put
 192              	.LVL21:
 213:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 193              		.loc 1 213 9 is_stmt 1 view .LVU61
 213:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 194              		.loc 1 213 15 is_stmt 0 view .LVU62
 195 009a 2327     		movs	r7, #35
 196              	.LVL22:
 213:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 197              		.loc 1 213 15 view .LVU63
 198 009c C3E7     		b	.L1
 199              	.LVL23:
 200              	.L8:
 240:Middlewares/ST/filex/common/src/fx_file_delete.c ****         open_count--;
 201              		.loc 1 240 9 is_stmt 1 view .LVU64
 240:Middlewares/ST/filex/common/src/fx_file_delete.c ****         open_count--;
 202              		.loc 1 240 20 is_stmt 0 view .LVU65
 203 009e DB6D     		ldr	r3, [r3, #92]
 204              	.LVL24:
 241:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 205              		.loc 1 241 9 is_stmt 1 view .LVU66
 241:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 206              		.loc 1 241 19 is_stmt 0 view .LVU67
 207 00a0 013A     		subs	r2, r2, #1
 208              	.LVL25:
 209              	.L7:
 220:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 210              		.loc 1 220 11 is_stmt 1 view .LVU68
 211 00a2 9AB1     		cbz	r2, .L26
 224:Middlewares/ST/filex/common/src/fx_file_delete.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 212              		.loc 1 224 9 view .LVU69
 224:Middlewares/ST/filex/common/src/fx_file_delete.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 213              		.loc 1 224 45 is_stmt 0 view .LVU70
 214 00a4 D3F8AC00 		ldr	r0, [r3, #172]
 224:Middlewares/ST/filex/common/src/fx_file_delete.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 215              		.loc 1 224 12 view .LVU71
 216 00a8 129D     		ldr	r5, [sp, #72]
 217 00aa 1399     		ldr	r1, [sp, #76]
 218 00ac D3F8A870 		ldr	r7, [r3, #168]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 14


 219 00b0 8842     		cmp	r0, r1
 220 00b2 08BF     		it	eq
 221 00b4 AF42     		cmpeq	r7, r5
 222 00b6 F2D1     		bne	.L8
 225:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 223              		.loc 1 225 45 discriminator 1 view .LVU72
 224 00b8 D3F8B000 		ldr	r0, [r3, #176]
 225:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 225              		.loc 1 225 83 discriminator 1 view .LVU73
 226 00bc 1499     		ldr	r1, [sp, #80]
 224:Middlewares/ST/filex/common/src/fx_file_delete.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 227              		.loc 1 224 108 discriminator 1 view .LVU74
 228 00be 8842     		cmp	r0, r1
 229 00c0 EDD1     		bne	.L8
 233:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 230              		.loc 1 233 13 is_stmt 1 view .LVU75
 231 00c2 3046     		mov	r0, r6
 232 00c4 FFF7FEFF 		bl	_tx_mutex_put
 233              	.LVL26:
 236:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 234              		.loc 1 236 13 view .LVU76
 236:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 235              		.loc 1 236 19 is_stmt 0 view .LVU77
 236 00c8 0627     		movs	r7, #6
 237 00ca ACE7     		b	.L1
 238              	.LVL27:
 239              	.L26:
 245:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 240              		.loc 1 245 5 is_stmt 1 view .LVU78
 245:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 241              		.loc 1 245 13 is_stmt 0 view .LVU79
 242 00cc 0F9D     		ldr	r5, [sp, #60]
 243              	.LVL28:
 252:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif
 244              		.loc 1 252 5 is_stmt 1 view .LVU80
 252:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif
 245              		.loc 1 252 46 is_stmt 0 view .LVU81
 246 00ce 0023     		movs	r3, #0
 247              	.LVL29:
 252:Middlewares/ST/filex/common/src/fx_file_delete.c **** #endif
 248              		.loc 1 252 46 view .LVU82
 249 00d0 84F8E033 		strb	r3, [r4, #992]
 257:Middlewares/ST/filex/common/src/fx_file_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 250              		.loc 1 257 5 is_stmt 1 view .LVU83
 257:Middlewares/ST/filex/common/src/fx_file_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 251              		.loc 1 257 36 is_stmt 0 view .LVU84
 252 00d4 E523     		movs	r3, #229
 253 00d6 029A     		ldr	r2, [sp, #8]
 254              	.LVL30:
 257:Middlewares/ST/filex/common/src/fx_file_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 255              		.loc 1 257 36 view .LVU85
 256 00d8 1370     		strb	r3, [r2]
 258:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 257              		.loc 1 258 5 is_stmt 1 view .LVU86
 258:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 258              		.loc 1 258 42 is_stmt 0 view .LVU87
 259 00da 8DF80C30 		strb	r3, [sp, #12]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 15


 269:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 260              		.loc 1 269 9 is_stmt 1 view .LVU88
 269:Middlewares/ST/filex/common/src/fx_file_delete.c **** #ifdef FX_ENABLE_EXFAT
 261              		.loc 1 269 18 is_stmt 0 view .LVU89
 262 00de 02A9     		add	r1, sp, #8
 263 00e0 2046     		mov	r0, r4
 264 00e2 FFF7FEFF 		bl	_fx_directory_entry_write
 265              	.LVL31:
 275:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 266              		.loc 1 275 5 is_stmt 1 view .LVU90
 275:Middlewares/ST/filex/common/src/fx_file_delete.c ****     {
 267              		.loc 1 275 8 is_stmt 0 view .LVU91
 268 00e6 0746     		mov	r7, r0
 269 00e8 08B9     		cbnz	r0, .L27
 291:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 270              		.loc 1 291 19 view .LVU92
 271 00ea 8046     		mov	r8, r0
 272 00ec 0DE0     		b	.L10
 273              	.L27:
 283:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 274              		.loc 1 283 9 is_stmt 1 view .LVU93
 275 00ee 3046     		mov	r0, r6
 276              	.LVL32:
 283:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 277              		.loc 1 283 9 is_stmt 0 view .LVU94
 278 00f0 FFF7FEFF 		bl	_tx_mutex_put
 279              	.LVL33:
 286:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 280              		.loc 1 286 9 is_stmt 1 view .LVU95
 286:Middlewares/ST/filex/common/src/fx_file_delete.c ****     }
 281              		.loc 1 286 15 is_stmt 0 view .LVU96
 282 00f4 97E7     		b	.L1
 283              	.LVL34:
 284              	.L28:
 377:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 285              		.loc 1 377 21 is_stmt 1 view .LVU97
 286 00f6 3046     		mov	r0, r6
 287              	.LVL35:
 377:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 288              		.loc 1 377 21 is_stmt 0 view .LVU98
 289 00f8 FFF7FEFF 		bl	_tx_mutex_put
 290              	.LVL36:
 380:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 291              		.loc 1 380 21 is_stmt 1 view .LVU99
 380:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 292              		.loc 1 380 27 is_stmt 0 view .LVU100
 293 00fc 93E7     		b	.L1
 294              	.LVL37:
 295              	.L12:
 394:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 296              		.loc 1 394 17 is_stmt 1 view .LVU101
 297 00fe 3046     		mov	r0, r6
 298              	.LVL38:
 394:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 299              		.loc 1 394 17 is_stmt 0 view .LVU102
 300 0100 FFF7FEFF 		bl	_tx_mutex_put
 301              	.LVL39:
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 16


 397:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 302              		.loc 1 397 17 is_stmt 1 view .LVU103
 397:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 303              		.loc 1 397 23 is_stmt 0 view .LVU104
 304 0104 0327     		movs	r7, #3
 305              	.LVL40:
 397:Middlewares/ST/filex/common/src/fx_file_delete.c ****             }
 306              		.loc 1 397 23 view .LVU105
 307 0106 8EE7     		b	.L1
 308              	.LVL41:
 309              	.L14:
 449:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 310              		.loc 1 449 13 is_stmt 1 view .LVU106
 449:Middlewares/ST/filex/common/src/fx_file_delete.c ****         }
 311              		.loc 1 449 21 is_stmt 0 view .LVU107
 312 0108 1F9D     		ldr	r5, [sp, #124]
 313              	.LVL42:
 314              	.L10:
 341:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 315              		.loc 1 341 15 is_stmt 1 view .LVU108
 316 010a 012D     		cmp	r5, #1
 317 010c 21D9     		bls	.L15
 341:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 318              		.loc 1 341 72 is_stmt 0 discriminator 1 view .LVU109
 319 010e 04F50053 		add	r3, r4, #8192
 320 0112 D3F8A834 		ldr	r3, [r3, #1192]
 341:Middlewares/ST/filex/common/src/fx_file_delete.c ****         {
 321              		.loc 1 341 48 discriminator 1 view .LVU110
 322 0116 AB42     		cmp	r3, r5
 323 0118 1BD9     		bls	.L15
 345:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 324              		.loc 1 345 13 is_stmt 1 view .LVU111
 345:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 325              		.loc 1 345 26 is_stmt 0 view .LVU112
 326 011a 08F10108 		add	r8, r8, #1
 327              	.LVL43:
 366:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 328              		.loc 1 366 17 is_stmt 1 view .LVU113
 366:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 329              		.loc 1 366 27 is_stmt 0 view .LVU114
 330 011e 1FAA     		add	r2, sp, #124
 331 0120 2946     		mov	r1, r5
 332 0122 2046     		mov	r0, r4
 333              	.LVL44:
 366:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 334              		.loc 1 366 27 view .LVU115
 335 0124 FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 336              	.LVL45:
 369:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 337              		.loc 1 369 17 is_stmt 1 view .LVU116
 369:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 338              		.loc 1 369 20 is_stmt 0 view .LVU117
 339 0128 0746     		mov	r7, r0
 340 012a 0028     		cmp	r0, #0
 341 012c E3D1     		bne	.L28
 386:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 342              		.loc 1 386 13 is_stmt 1 view .LVU118
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 17


 386:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 343              		.loc 1 386 26 is_stmt 0 view .LVU119
 344 012e 1F9B     		ldr	r3, [sp, #124]
 386:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 345              		.loc 1 386 16 view .LVU120
 346 0130 AB42     		cmp	r3, r5
 347 0132 E4D0     		beq	.L12
 386:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 348              		.loc 1 386 69 discriminator 1 view .LVU121
 349 0134 236C     		ldr	r3, [r4, #64]
 386:Middlewares/ST/filex/common/src/fx_file_delete.c ****             {
 350              		.loc 1 386 39 discriminator 1 view .LVU122
 351 0136 4345     		cmp	r3, r8
 352 0138 E1D3     		bcc	.L12
 406:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 353              		.loc 1 406 17 is_stmt 1 view .LVU123
 406:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 354              		.loc 1 406 27 is_stmt 0 view .LVU124
 355 013a 0022     		movs	r2, #0
 356 013c 2946     		mov	r1, r5
 357 013e 2046     		mov	r0, r4
 358              	.LVL46:
 406:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 359              		.loc 1 406 27 view .LVU125
 360 0140 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 361              	.LVL47:
 409:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 362              		.loc 1 409 17 is_stmt 1 view .LVU126
 409:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 {
 363              		.loc 1 409 20 is_stmt 0 view .LVU127
 364 0144 0746     		mov	r7, r0
 365 0146 0028     		cmp	r0, #0
 366 0148 DED0     		beq	.L14
 417:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 367              		.loc 1 417 21 is_stmt 1 view .LVU128
 368 014a 3046     		mov	r0, r6
 369              	.LVL48:
 417:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 370              		.loc 1 417 21 is_stmt 0 view .LVU129
 371 014c FFF7FEFF 		bl	_tx_mutex_put
 372              	.LVL49:
 420:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 373              		.loc 1 420 21 is_stmt 1 view .LVU130
 420:Middlewares/ST/filex/common/src/fx_file_delete.c ****                 }
 374              		.loc 1 420 27 is_stmt 0 view .LVU131
 375 0150 69E7     		b	.L1
 376              	.LVL50:
 377              	.L15:
 456:Middlewares/ST/filex/common/src/fx_file_delete.c ****         media_ptr -> fx_media_available_clusters + cluster_count;
 378              		.loc 1 456 5 is_stmt 1 view .LVU132
 457:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 379              		.loc 1 457 19 is_stmt 0 view .LVU133
 380 0152 E36F     		ldr	r3, [r4, #124]
 457:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 381              		.loc 1 457 50 view .LVU134
 382 0154 4344     		add	r3, r3, r8
 456:Middlewares/ST/filex/common/src/fx_file_delete.c ****         media_ptr -> fx_media_available_clusters + cluster_count;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 18


 383              		.loc 1 456 46 view .LVU135
 384 0156 E367     		str	r3, [r4, #124]
 472:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 385              		.loc 1 472 5 is_stmt 1 view .LVU136
 386 0158 3046     		mov	r0, r6
 387              	.LVL51:
 472:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 388              		.loc 1 472 5 is_stmt 0 view .LVU137
 389 015a FFF7FEFF 		bl	_tx_mutex_put
 390              	.LVL52:
 475:Middlewares/ST/filex/common/src/fx_file_delete.c **** }
 391              		.loc 1 475 5 is_stmt 1 view .LVU138
 475:Middlewares/ST/filex/common/src/fx_file_delete.c **** }
 392              		.loc 1 475 11 is_stmt 0 view .LVU139
 393 015e 62E7     		b	.L1
 394              	.LVL53:
 395              	.L18:
 134:Middlewares/ST/filex/common/src/fx_file_delete.c **** 
 396              		.loc 1 134 5 view .LVU140
 397 0160 1127     		movs	r7, #17
 398 0162 60E7     		b	.L1
 399              	.L30:
 400              		.align	2
 401              	.L29:
 402 0164 4944454D 		.word	1296385097
 403              		.cfi_endproc
 404              	.LFE8:
 406              		.text
 407              	.Letext0:
 408              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 409              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 410              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 411              		.file 5 "Middlewares/ST/filex/common/inc/fx_directory.h"
 412              		.file 6 "Middlewares/ST/filex/common/inc/fx_utility.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc9dThPX.s 			page 19


DEFINED SYMBOLS
                            *ABS*:00000000 fx_file_delete.c
C:\Users\HP\AppData\Local\Temp\cc9dThPX.s:20     .text._fx_file_delete:00000000 $t
C:\Users\HP\AppData\Local\Temp\cc9dThPX.s:26     .text._fx_file_delete:00000000 _fx_file_delete
C:\Users\HP\AppData\Local\Temp\cc9dThPX.s:402    .text._fx_file_delete:00000164 $d

UNDEFINED SYMBOLS
_tx_mutex_get
_fx_directory_search
_tx_mutex_put
_fx_directory_entry_write
_fx_utility_FAT_entry_read
_fx_utility_FAT_entry_write

ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_utility_memory_allocate.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._ux_utility_memory_allocate,"ax",%progbits
  20              		.align	1
  21              		.global	_ux_utility_memory_allocate
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ux_utility_memory_allocate:
  27              	.LVL0:
  28              	.LFB11:
  29              		.file 1 "Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c"
   1:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
   2:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
   3:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
   5:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  10:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  11:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  12:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  13:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  14:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  15:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */ 
  16:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /** USBX Component                                                        */ 
  17:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */
  18:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**   Utility                                                             */
  19:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */
  20:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  21:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  22:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  23:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  24:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /* Include necessary system files.  */
  25:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  26:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #define UX_SOURCE_CODE
  27:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  28:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #include "ux_api.h"
  29:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 2


  30:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  31:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/ 
  32:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  33:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  FUNCTION                                               RELEASE        */ 
  34:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  35:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_allocate                         PORTABLE C      */ 
  36:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                           6.1.11       */
  37:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  AUTHOR                                                                */
  38:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  39:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  40:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  41:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  DESCRIPTION                                                           */
  42:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  43:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    This function allocates a block of memory for the specified size    */ 
  44:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    and alignment.                                                      */
  45:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  46:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  INPUT                                                                 */ 
  47:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  48:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_alignment                      Memory alignment required     */ 
  49:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_cache_flag                     Memory pool source            */ 
  50:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_size_requested                 Number of bytes required      */ 
  51:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  52:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  OUTPUT                                                                */ 
  53:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  54:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    Pointer to block of memory                                          */ 
  55:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  56:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  CALLS                                                                 */ 
  57:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  58:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_free_block_best_get Get best fit block of memory */ 
  59:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_set                 Set block of memory          */ 
  60:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  61:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  CALLED BY                                                             */ 
  62:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  63:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    USBX Components                                                     */ 
  64:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  65:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  RELEASE HISTORY                                                       */ 
  66:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  67:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    DATE              NAME                      DESCRIPTION             */ 
  68:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  69:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  70:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  09-30-2020     Chaoqiong Xiao           Modified comment(s),          */
  71:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            verified memset and memcpy  */
  72:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            cases,                      */
  73:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1    */
  74:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
  75:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            added standalone support,   */
  76:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1.10 */
  77:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  04-25-2022     Chaoqiong Xiao           Modified comment(s),          */
  78:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            internal clean up,          */
  79:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1.11 */
  80:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  81:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  82:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** VOID  *_ux_utility_memory_allocate(ULONG memory_alignment, ULONG memory_cache_flag,
  83:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                    ULONG memory_size_requested)
  84:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** {
  30              		.loc 1 84 1 view -0
  31              		.cfi_startproc
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 3


  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 84 1 is_stmt 0 view .LVU1
  35 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 8046     		mov	r8, r0
  45 0006 0F46     		mov	r7, r1
  46 0008 1546     		mov	r5, r2
  85:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  86:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *memory_block;
  47              		.loc 1 86 1 is_stmt 1 view .LVU2
  87:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *new_memory_block;
  48              		.loc 1 87 1 view .LVU3
  88:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *leftover_memory_block;
  49              		.loc 1 88 1 view .LVU4
  89:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               memory_for_alignment;
  50              		.loc 1 89 1 view .LVU5
  90:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               memory_removed_from_pool;
  51              		.loc 1 90 1 view .LVU6
  91:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               leftover;
  52              		.loc 1 91 1 view .LVU7
  92:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UCHAR               *memory_buffer;
  53              		.loc 1 92 1 view .LVU8
  93:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ALIGN_TYPE          int_memory_buffer;
  54              		.loc 1 93 1 view .LVU9
  94:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  95:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  96:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Get the mutex as this is a critical section.  */
  97:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_system_mutex_on(&_ux_system -> ux_system_mutex);
  55              		.loc 1 97 5 view .LVU10
  56              		.loc 1 97 37 is_stmt 0 view .LVU11
  57 000a 4A4B     		ldr	r3, .L17
  58 000c 1868     		ldr	r0, [r3]
  59              	.LVL1:
  60              		.loc 1 97 5 view .LVU12
  61 000e 1C30     		adds	r0, r0, #28
  62 0010 FFF7FEFF 		bl	_ux_utility_mutex_on
  63              	.LVL2:
  98:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  99:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #ifdef UX_ENFORCE_SAFE_ALIGNMENT
 100:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 101:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Check if safe alignment requested, in this case switch to UX_NO_ALIGN.  */
 102:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment == UX_SAFE_ALIGN)
 103:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 104:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 105:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* We will use the memory_size_requested for the alignment. 
 106:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            But we check to see if we have a minimum or maximum alignment.  */
 107:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (memory_size_requested < UX_ALIGN_MIN)
 108:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
 109:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* No need to bother about alignment for small packets sizes.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 4


 110:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             memory_alignment = UX_NO_ALIGN;
 111:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
 112:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         else
 113:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 114:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     
 115:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* Check if we are over the maximum.  */
 116:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             if (memory_size_requested > UX_MAX_SCATTER_GATHER_ALIGNMENT)
 117:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 118:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* We are over the max alignment required. Use the maximum instead.  */
 119:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 memory_alignment = UX_MAX_SCATTER_GATHER_ALIGNMENT - 1;
 120:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 121:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             else
 122:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             {
 123:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* We are not over the maximum, so approximate the alignment according to the size 
 124:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                    Check range for alignment on 4096 bytes.  */
 125:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 if (memory_size_requested >= UX_ALIGN_2048 + 1)
 126:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     memory_alignment = UX_ALIGN_4096;
 127:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 128:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 else
 129:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 {
 130:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 131:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                        /* Check range for alignment on 2048 bytes.  */
 132:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     if (memory_size_requested >= UX_ALIGN_1024 + 1)
 133:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         memory_alignment = UX_ALIGN_2048;
 134:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 135:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     else
 136:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     {
 137:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 138:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                            /* Check range for alignment on 1024 bytes.  */
 139:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         if (memory_size_requested >= UX_ALIGN_512 + 1)
 140:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             memory_alignment = UX_ALIGN_1024;
 141:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 142:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         else
 143:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         {
 144:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 145:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                /* Check range for alignment on 512 bytes.  */
 146:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             if (memory_size_requested >= UX_ALIGN_256 + 1)
 147:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 memory_alignment = UX_ALIGN_512;
 148:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 
 149:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             else
 150:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             {
 151:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 152:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                    /* Check range for alignment on 256 bytes.  */
 153:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 if (memory_size_requested >= UX_ALIGN_128 + 1)
 154:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     memory_alignment = UX_ALIGN_256;
 155:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 156:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 else
 157:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 {
 158:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             
 159:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                        /* Check range for alignment on 128 bytes.  */
 160:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     if (memory_size_requested >= UX_ALIGN_64 + 1)
 161:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         memory_alignment = UX_ALIGN_128;
 162:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 163:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     else
 164:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     {
 165:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             
 166:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                            /* Check range for alignment on 128 bytes.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 5


 167:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         if (memory_size_requested >= UX_ALIGN_64 + 1)
 168:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             memory_alignment = UX_ALIGN_128;
 169:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 170:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         else
 171:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         {
 172:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 173:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                /* Check range for alignment on 64 bytes.  */
 174:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             if (memory_size_requested >= UX_ALIGN_32 + 1)
 175:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 memory_alignment = UX_ALIGN_64;
 176:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 177:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             else
 178:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             {
 179:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     
 180:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                    /* Check range for alignment on 32 bytes.  */
 181:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 if (memory_size_requested >= UX_ALIGN_16 + 1)
 182:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_32;
 183:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 184:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 else
 185:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_MIN;
 186:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 187:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 188:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             }                        
 189:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         }                        
 190:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     }                        
 191:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 }                        
 192:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             }                        
 193:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         }                        
 194:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     }                        
 195:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 }
 196:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             }                
 197:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }        
 198:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 199:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 200:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #else
 201:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 202:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Check if safe alignment requested, in this case switch to UX_NO_ALIGN.  */
 203:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment == UX_SAFE_ALIGN)
  64              		.loc 1 203 5 is_stmt 1 view .LVU13
  65              		.loc 1 203 8 is_stmt 0 view .LVU14
  66 0014 B8F1FF3F 		cmp	r8, #-1
  67 0018 05D0     		beq	.L11
 204:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_alignment = UX_NO_ALIGN;
 205:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     
 206:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #endif
 207:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 208:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Ensure the alignment meats the minimum.  */
 209:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment < UX_ALIGN_MIN)
  68              		.loc 1 209 5 is_stmt 1 view .LVU15
  69              		.loc 1 209 8 is_stmt 0 view .LVU16
  70 001a B8F10E0F 		cmp	r8, #14
  71 001e 04D8     		bhi	.L2
 210:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_alignment =  UX_ALIGN_MIN;
  72              		.loc 1 210 26 view .LVU17
  73 0020 4FF00F08 		mov	r8, #15
  74              	.LVL3:
  75              		.loc 1 210 26 view .LVU18
  76 0024 01E0     		b	.L2
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 6


  77              	.LVL4:
  78              	.L11:
  79              		.loc 1 210 26 view .LVU19
  80 0026 4FF00F08 		mov	r8, #15
  81              	.LVL5:
  82              	.L2:
 211:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 212:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Adjust the memory alignment since our macros are one minus the desired alignment.
 213:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        Also determine the amount of extra memory we need for the alignment, which is one
 214:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        minus the actual alignment.  */
 215:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_for_alignment =  memory_alignment;
  83              		.loc 1 215 5 is_stmt 1 view .LVU20
 216:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_alignment++;
  84              		.loc 1 216 5 view .LVU21
  85              		.loc 1 216 21 is_stmt 0 view .LVU22
  86 002a 08F10106 		add	r6, r8, #1
  87              	.LVL6:
 217:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 218:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* We need to make sure that the next memory block buffer is 16-byte aligned too. We
 219:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        do this by first adjusting the requested memory to be 16-byte aligned. One problem
 220:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        now is that the memory block might not be a size that is a multiple of 16, so we need
 221:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        to add the amount of memory required such that the memory buffer after the block has 
 222:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        the correct alignment. For example, if the memory block has a size of 24, then we need
 223:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        to make sure it is placed on an 8-byte alignment that is after a 16-byte alignment so
 224:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        that the memory right after the memory block is 16-byte aligned (8 + 24 = 32).  */
 225:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_size_requested =  (memory_size_requested +    UX_ALIGN_MIN) & (~(ULONG)UX_ALIGN_MIN);
  88              		.loc 1 225 5 is_stmt 1 view .LVU23
  89              		.loc 1 225 53 is_stmt 0 view .LVU24
  90 002e 0F35     		adds	r5, r5, #15
  91              	.LVL7:
  92              		.loc 1 225 27 view .LVU25
  93 0030 25F00F05 		bic	r5, r5, #15
  94              	.LVL8:
 226:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_size_requested += (((ULONG)sizeof(UX_MEMORY_BLOCK) + UX_ALIGN_MIN) & (~(ULONG)UX_ALIGN_M
  95              		.loc 1 226 5 is_stmt 1 view .LVU26
 227:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 228:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Try to find the best block for this memory by requesting the maximum amount of
 229:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        memory we'll need which is calculated as follows: the amount memory requested by
 230:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        the caller plus the maximum amount of memory wasted due to alignment plus 2 memory
 231:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        blocks structs - one for the new memory block we'll create for the user block and one
 232:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        that we might create if there is extra memory after doing the alignment.  */
 233:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_block =  _ux_utility_memory_free_block_best_get(memory_cache_flag, memory_size_requested
  96              		.loc 1 233 5 view .LVU27
  97              		.loc 1 233 101 is_stmt 0 view .LVU28
  98 0034 08EB0501 		add	r1, r8, r5
  99              		.loc 1 233 21 view .LVU29
 100 0038 1031     		adds	r1, r1, #16
 101 003a 3846     		mov	r0, r7
 102 003c FFF7FEFF 		bl	_ux_utility_memory_free_block_best_get
 103              	.LVL9:
 234:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 235:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* If the block returned is NULL, there is no free memory in the pool
 236:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        for that size. */
 237:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_block == UX_NULL)
 104              		.loc 1 237 5 is_stmt 1 view .LVU30
 105              		.loc 1 237 8 is_stmt 0 view .LVU31
 106 0040 0446     		mov	r4, r0
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 7


 107 0042 60B3     		cbz	r0, .L14
 238:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 239:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 240:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Release the protection.  */
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system_mutex_off(&_ux_system -> ux_system_mutex);
 242:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 243:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 244:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_MEMORY_INSUFFICIENT, memory_size_requested, 0, 0
 245:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 246:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Error trap. */
 247:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_UTILITY, UX_MEMORY_INSUF
 248:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 249:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Return NULL to indicate no block was found.  */
 250:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         return(UX_NULL);
 251:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 252:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 253:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Get the memory buffer for this block.  */
 254:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     int_memory_buffer = (ALIGN_TYPE) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK));
 108              		.loc 1 254 5 is_stmt 1 view .LVU32
 109              		.loc 1 254 62 is_stmt 0 view .LVU33
 110 0044 00F11002 		add	r2, r0, #16
 111              	.LVL10:
 255:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 256:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Are we already aligned?  */
 257:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if ((int_memory_buffer & (memory_alignment - 1)) == 0)
 112              		.loc 1 257 5 is_stmt 1 view .LVU34
 113              		.loc 1 257 8 is_stmt 0 view .LVU35
 114 0048 18EA020F 		tst	r8, r2
 115 004c 32D1     		bne	.L5
 258:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 259:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 260:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Setup the new memory block.  */
 261:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block =  (UX_MEMORY_BLOCK *) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK) +
 116              		.loc 1 261 9 is_stmt 1 view .LVU36
 117              		.loc 1 261 99 is_stmt 0 view .LVU37
 118 004e 05F11006 		add	r6, r5, #16
 119              	.LVL11:
 120              		.loc 1 261 26 view .LVU38
 121 0052 8219     		adds	r2, r0, r6
 122              	.LVL12:
 262:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 123              		.loc 1 262 9 is_stmt 1 view .LVU39
 124              		.loc 1 262 66 is_stmt 0 view .LVU40
 125 0054 8368     		ldr	r3, [r0, #8]
 126              		.loc 1 262 50 view .LVU41
 127 0056 9360     		str	r3, [r2, #8]
 263:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 128              		.loc 1 263 9 is_stmt 1 view .LVU42
 129              		.loc 1 263 54 is_stmt 0 view .LVU43
 130 0058 D060     		str	r0, [r2, #12]
 264:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size - memory_s
 131              		.loc 1 264 9 is_stmt 1 view .LVU44
 132              		.loc 1 264 66 is_stmt 0 view .LVU45
 133 005a 0368     		ldr	r3, [r0]
 134              		.loc 1 264 90 view .LVU46
 135 005c 5B1B     		subs	r3, r3, r5
 136              		.loc 1 264 114 view .LVU47
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 8


 137 005e 103B     		subs	r3, r3, #16
 138              		.loc 1 264 50 view .LVU48
 139 0060 8351     		str	r3, [r0, r6]
 265:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 140              		.loc 1 265 9 is_stmt 1 view .LVU49
 141              		.loc 1 265 52 is_stmt 0 view .LVU50
 142 0062 0023     		movs	r3, #0
 143 0064 5360     		str	r3, [r2, #4]
 266:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 267:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the current memory block.  */
 268:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  memory_size_requested;
 144              		.loc 1 268 9 is_stmt 1 view .LVU51
 145              		.loc 1 268 46 is_stmt 0 view .LVU52
 146 0066 0560     		str	r5, [r0]
 269:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 147              		.loc 1 269 9 is_stmt 1 view .LVU53
 148              		.loc 1 269 46 is_stmt 0 view .LVU54
 149 0068 8260     		str	r2, [r0, #8]
 270:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 150              		.loc 1 270 9 is_stmt 1 view .LVU55
 151              		.loc 1 270 66 is_stmt 0 view .LVU56
 152 006a 47F00043 		orr	r3, r7, #-2147483648
 153              		.loc 1 270 48 view .LVU57
 154 006e 4360     		str	r3, [r0, #4]
 271:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 272:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Declare how much memory we removed from the pool.  */
 273:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_removed_from_pool =  memory_block -> ux_memory_block_size + (ULONG)sizeof(UX_MEMORY_
 155              		.loc 1 273 9 is_stmt 1 view .LVU58
 156              	.LVL13:
 157              	.L6:
 274:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 275:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 276:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 277:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 278:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Align the buffer. The first thing we do is increment by the size of a
 279:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            memory block because we have to make sure we have enough memory for at
 280:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            least that.  */
 281:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  (ULONG)sizeof(UX_MEMORY_BLOCK);
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 283:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 284:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 285:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Setup the new memory block. Note that its size is updated again later.  */
 286:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block =  (UX_MEMORY_BLOCK *) (int_memory_buffer - (ULONG)sizeof(UX_MEMORY_BLOCK)
 287:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 291:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 292:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the current memory block.  */
 293:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer =  (ALIGN_TYPE) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK));
 294:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 296:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 297:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the new memory block's size.  */
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size -=  (memory_block -> ux_memory_block_size + (ULONG
 299:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 300:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Calculate how much memory is leftover in the new memory block after doing
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 9


 301:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            the alignment.  */
 302:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         leftover =  new_memory_block -> ux_memory_block_size - memory_size_requested;
 303:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 304:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Can we fit another block after the new block? */
 305:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (leftover > sizeof(UX_MEMORY_BLOCK))
 306:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 307:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 308:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* Setup the leftover memory block.  */
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block = (UX_MEMORY_BLOCK *) (((ALIGN_TYPE) new_memory_block + sizeof(UX
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 311:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 314:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 315:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_next =  leftover_memory_block;
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 317:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 318:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 319:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Declare how much memory we removed from the pool.  */
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_removed_from_pool =  new_memory_block -> ux_memory_block_size + (ULONG)sizeof(UX_MEM
 321:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 322:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* The new memory block is the one we give to the user.  */
 323:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block =  new_memory_block;
 324:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 325:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 326:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* The memory to be returned is after the block header.  */
 327:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_buffer =  ((UCHAR *) memory_block) + sizeof(UX_MEMORY_BLOCK);
 158              		.loc 1 327 5 view .LVU59
 159              		.loc 1 327 19 is_stmt 0 view .LVU60
 160 0070 1034     		adds	r4, r4, #16
 161              	.LVL14:
 328:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 329:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Clear the memory block.  */
 330:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_utility_memory_set(memory_buffer, 0, memory_size_requested); /* Use case of memset is verif
 162              		.loc 1 330 5 is_stmt 1 view .LVU61
 163 0072 2A46     		mov	r2, r5
 164 0074 0021     		movs	r1, #0
 165 0076 2046     		mov	r0, r4
 166              	.LVL15:
 167              		.loc 1 330 5 is_stmt 0 view .LVU62
 168 0078 FFF7FEFF 		bl	_ux_utility_memory_set
 169              	.LVL16:
 331:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 332:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Update the memory free in the pool.  */
 333:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_cache_safe_memory_pool_start == _ux_system -> ux_system_regular_mem
 170              		.loc 1 333 5 is_stmt 1 view .LVU63
 171              		.loc 1 333 20 is_stmt 0 view .LVU64
 172 007c 2D4B     		ldr	r3, .L17
 173 007e 1868     		ldr	r0, [r3]
 174 0080 C268     		ldr	r2, [r0, #12]
 175              		.loc 1 333 76 view .LVU65
 176 0082 0368     		ldr	r3, [r0]
 177              		.loc 1 333 8 view .LVU66
 178 0084 9A42     		cmp	r2, r3
 179 0086 4DD0     		beq	.L15
 334:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 335:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 10


 336:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* There is only one memory pool.  */
 337:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_free -= memory_removed_from_pool;
 338:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 339:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 340:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 341:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 342:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        switch (memory_cache_flag)
 180              		.loc 1 342 8 is_stmt 1 view .LVU67
 181 0088 012F     		cmp	r7, #1
 182 008a 4FD0     		beq	.L16
 343:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        {
 344:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 345:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             case UX_CACHE_SAFE_MEMORY:
 346:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* Update the amount of free memory in the cache safe memory pool.  */
 347:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 _ux_system -> ux_system_cache_safe_memory_pool_free -= memory_removed_from_pool;
 348:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 349:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             break;
 350:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 351:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             default:
 352:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* Update the amount of free memory in the regular memory pool.  */
 353:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 _ux_system -> ux_system_regular_memory_pool_free -= memory_removed_from_pool;
 183              		.loc 1 353 17 view .LVU68
 184              		.loc 1 353 66 is_stmt 0 view .LVU69
 185 008c 8368     		ldr	r3, [r0, #8]
 186 008e 9B1B     		subs	r3, r3, r6
 187 0090 8360     		str	r3, [r0, #8]
 354:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             break;
 188              		.loc 1 354 13 is_stmt 1 view .LVU70
 189              	.L9:
 355:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 356:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 357:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 358:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 359:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #ifdef UX_ENABLE_MEMORY_STATISTICS
 360:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 361:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Update allocate count, total size.  */
 362:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_cache_flag == UX_REGULAR_MEMORY)
 363:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 364:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_alloc_count ++;
 365:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_alloc_total += memory_size_requested;
 366:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_regular_memory_pool_alloc_max_count < _ux_system -> ux_system_r
 367:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_regular_memory_pool_alloc_max_count = _ux_system -> ux_system_r
 368:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_regular_memory_pool_alloc_max_total < _ux_system -> ux_system_r
 369:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_regular_memory_pool_alloc_max_total = _ux_system -> ux_system_r
 370:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 371:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 372:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 373:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_alloc_count ++;
 374:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_alloc_total += memory_size_requested;
 375:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_cache_safe_memory_pool_alloc_max_count < _ux_system -> ux_syste
 376:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_cache_safe_memory_pool_alloc_max_count = _ux_system -> ux_syste
 377:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_cache_safe_memory_pool_alloc_max_total < _ux_system -> ux_syste
 378:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_cache_safe_memory_pool_alloc_max_total = _ux_system -> ux_syste
 379:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 380:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 381:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Log max usage of regular memory pool.  */
 382:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_removed_from_pool = (ALIGN_TYPE)_ux_system -> ux_system_regular_memory_pool_start -
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 11


 383:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                (ALIGN_TYPE)_ux_system -> ux_system_regular_memory_pool_base;
 384:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_removed_from_pool > _ux_system -> ux_system_regular_memory_pool_max_start_offset)
 385:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_max_start_offset = memory_removed_from_pool;
 386:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_regular_memory_pool_min_free > _ux_system -> ux_system_regular_memo
 387:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_min_free = _ux_system -> ux_system_regular_memo
 388:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 389:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Log max usage of cache safe memory pool.  */
 390:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_removed_from_pool = (ALIGN_TYPE)_ux_system -> ux_system_cache_safe_memory_pool_start -
 391:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                (ALIGN_TYPE)_ux_system -> ux_system_cache_safe_memory_pool_base;
 392:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_removed_from_pool > _ux_system -> ux_system_cache_safe_memory_pool_max_start_offset)
 393:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_max_start_offset = memory_removed_from_pool;
 394:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_cache_safe_memory_pool_min_free > _ux_system -> ux_system_cache_saf
 395:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_min_free = _ux_system -> ux_system_cache_saf
 396:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 397:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #endif
 398:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 399:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Release the protection.  */
 400:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_system_mutex_off(&_ux_system -> ux_system_mutex);
 190              		.loc 1 400 5 view .LVU71
 191 0092 1C30     		adds	r0, r0, #28
 192 0094 FFF7FEFF 		bl	_ux_utility_mutex_off
 193              	.LVL17:
 401:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 402:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* The memory block pointer contains a memory area properly
 403:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        aligned.  */
 404:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     return(memory_buffer);
 194              		.loc 1 404 5 view .LVU72
 195              	.L1:
 405:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** }                                
 196              		.loc 1 405 1 is_stmt 0 view .LVU73
 197 0098 2046     		mov	r0, r4
 198 009a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 199              	.LVL18:
 200              	.L14:
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 201              		.loc 1 241 9 is_stmt 1 view .LVU74
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 202              		.loc 1 241 42 is_stmt 0 view .LVU75
 203 009e 254B     		ldr	r3, .L17
 204 00a0 1868     		ldr	r0, [r3]
 205              	.LVL19:
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 206              		.loc 1 241 9 view .LVU76
 207 00a2 1C30     		adds	r0, r0, #28
 208 00a4 FFF7FEFF 		bl	_ux_utility_mutex_off
 209              	.LVL20:
 247:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 210              		.loc 1 247 9 is_stmt 1 view .LVU77
 211 00a8 1222     		movs	r2, #18
 212 00aa 0821     		movs	r1, #8
 213 00ac 0220     		movs	r0, #2
 214 00ae FFF7FEFF 		bl	_ux_system_error_handler
 215              	.LVL21:
 250:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 216              		.loc 1 250 9 view .LVU78
 250:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 217              		.loc 1 250 15 is_stmt 0 view .LVU79
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 12


 218 00b2 F1E7     		b	.L1
 219              	.LVL22:
 220              	.L5:
 281:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 221              		.loc 1 281 9 is_stmt 1 view .LVU80
 281:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 222              		.loc 1 281 27 is_stmt 0 view .LVU81
 223 00b4 02F11003 		add	r3, r2, #16
 224              	.LVL23:
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 225              		.loc 1 282 9 is_stmt 1 view .LVU82
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 226              		.loc 1 282 27 is_stmt 0 view .LVU83
 227 00b8 3344     		add	r3, r3, r6
 228              	.LVL24:
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 229              		.loc 1 282 27 view .LVU84
 230 00ba 013B     		subs	r3, r3, #1
 231              	.LVL25:
 283:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 232              		.loc 1 283 9 is_stmt 1 view .LVU85
 283:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 233              		.loc 1 283 27 is_stmt 0 view .LVU86
 234 00bc 23EA0803 		bic	r3, r3, r8
 235              	.LVL26:
 286:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 236              		.loc 1 286 9 is_stmt 1 view .LVU87
 286:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 237              		.loc 1 286 68 is_stmt 0 view .LVU88
 238 00c0 A3F11000 		sub	r0, r3, #16
 239              	.LVL27:
 287:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 240              		.loc 1 287 9 is_stmt 1 view .LVU89
 287:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 241              		.loc 1 287 54 is_stmt 0 view .LVU90
 242 00c4 C460     		str	r4, [r0, #12]
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 243              		.loc 1 288 9 is_stmt 1 view .LVU91
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 244              		.loc 1 288 66 is_stmt 0 view .LVU92
 245 00c6 A168     		ldr	r1, [r4, #8]
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 246              		.loc 1 288 50 view .LVU93
 247 00c8 8160     		str	r1, [r0, #8]
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 248              		.loc 1 289 9 is_stmt 1 view .LVU94
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 249              		.loc 1 289 66 is_stmt 0 view .LVU95
 250 00ca 2168     		ldr	r1, [r4]
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 251              		.loc 1 289 50 view .LVU96
 252 00cc 43F8101C 		str	r1, [r3, #-16]
 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 253              		.loc 1 290 9 is_stmt 1 view .LVU97
 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 254              		.loc 1 290 70 is_stmt 0 view .LVU98
 255 00d0 47F00041 		orr	r1, r7, #-2147483648
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 13


 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 256              		.loc 1 290 52 view .LVU99
 257 00d4 4160     		str	r1, [r0, #4]
 293:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 258              		.loc 1 293 9 is_stmt 1 view .LVU100
 259              	.LVL28:
 294:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 260              		.loc 1 294 9 view .LVU101
 294:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 261              		.loc 1 294 46 is_stmt 0 view .LVU102
 262 00d6 A060     		str	r0, [r4, #8]
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 263              		.loc 1 295 9 is_stmt 1 view .LVU103
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 264              		.loc 1 295 49 is_stmt 0 view .LVU104
 265 00d8 821A     		subs	r2, r0, r2
 266              	.LVL29:
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 267              		.loc 1 295 46 view .LVU105
 268 00da 2260     		str	r2, [r4]
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 269              		.loc 1 298 9 is_stmt 1 view .LVU106
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 270              		.loc 1 298 50 is_stmt 0 view .LVU107
 271 00dc 53F8101C 		ldr	r1, [r3, #-16]
 272 00e0 8A1A     		subs	r2, r1, r2
 273 00e2 103A     		subs	r2, r2, #16
 274 00e4 43F8102C 		str	r2, [r3, #-16]
 302:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 275              		.loc 1 302 9 is_stmt 1 view .LVU108
 302:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 276              		.loc 1 302 18 is_stmt 0 view .LVU109
 277 00e8 511B     		subs	r1, r2, r5
 278              	.LVL30:
 305:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 279              		.loc 1 305 9 is_stmt 1 view .LVU110
 305:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 280              		.loc 1 305 12 is_stmt 0 view .LVU111
 281 00ea 1029     		cmp	r1, #16
 282 00ec 15D9     		bls	.L7
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 283              		.loc 1 309 13 is_stmt 1 view .LVU112
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 284              		.loc 1 309 115 is_stmt 0 view .LVU113
 285 00ee 00EB050C 		add	ip, r0, r5
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 286              		.loc 1 309 140 view .LVU114
 287 00f2 0CF11004 		add	r4, ip, #16
 288              	.LVL31:
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 289              		.loc 1 310 13 is_stmt 1 view .LVU115
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 290              		.loc 1 310 79 is_stmt 0 view .LVU116
 291 00f6 8668     		ldr	r6, [r0, #8]
 292              	.LVL32:
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 293              		.loc 1 310 59 view .LVU117
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 14


 294 00f8 CCF81860 		str	r6, [ip, #24]
 311:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 295              		.loc 1 311 13 is_stmt 1 view .LVU118
 311:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 296              		.loc 1 311 63 is_stmt 0 view .LVU119
 297 00fc CCF81C00 		str	r0, [ip, #28]
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 298              		.loc 1 312 13 is_stmt 1 view .LVU120
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 299              		.loc 1 312 71 is_stmt 0 view .LVU121
 300 0100 1039     		subs	r1, r1, #16
 301              	.LVL33:
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 302              		.loc 1 312 59 view .LVU122
 303 0102 CCF81010 		str	r1, [ip, #16]
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 304              		.loc 1 313 13 is_stmt 1 view .LVU123
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 305              		.loc 1 313 61 is_stmt 0 view .LVU124
 306 0106 0021     		movs	r1, #0
 307              	.LVL34:
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 308              		.loc 1 313 61 view .LVU125
 309 0108 CCF81410 		str	r1, [ip, #20]
 315:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 310              		.loc 1 315 13 is_stmt 1 view .LVU126
 315:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 311              		.loc 1 315 54 is_stmt 0 view .LVU127
 312 010c 8460     		str	r4, [r0, #8]
 313              	.LVL35:
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 314              		.loc 1 316 13 is_stmt 1 view .LVU128
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 315              		.loc 1 316 54 is_stmt 0 view .LVU129
 316 010e AA1A     		subs	r2, r5, r2
 317              	.LVL36:
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 318              		.loc 1 316 54 view .LVU130
 319 0110 53F8101C 		ldr	r1, [r3, #-16]
 320 0114 0A44     		add	r2, r2, r1
 321 0116 43F8102C 		str	r2, [r3, #-16]
 322              	.LVL37:
 323              	.L7:
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 324              		.loc 1 320 9 is_stmt 1 view .LVU131
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 325              		.loc 1 320 54 is_stmt 0 view .LVU132
 326 011a 53F8106C 		ldr	r6, [r3, #-16]
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 327              		.loc 1 320 34 view .LVU133
 328 011e 1036     		adds	r6, r6, #16
 329              	.LVL38:
 323:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 330              		.loc 1 323 9 is_stmt 1 view .LVU134
 323:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 331              		.loc 1 323 22 is_stmt 0 view .LVU135
 332 0120 0446     		mov	r4, r0
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 15


 333 0122 A5E7     		b	.L6
 334              	.LVL39:
 335              	.L15:
 337:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 336              		.loc 1 337 9 is_stmt 1 view .LVU136
 337:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 337              		.loc 1 337 58 is_stmt 0 view .LVU137
 338 0124 8368     		ldr	r3, [r0, #8]
 339 0126 9B1B     		subs	r3, r3, r6
 340 0128 8360     		str	r3, [r0, #8]
 341 012a B2E7     		b	.L9
 342              	.L16:
 347:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 343              		.loc 1 347 17 is_stmt 1 view .LVU138
 347:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 344              		.loc 1 347 69 is_stmt 0 view .LVU139
 345 012c 4369     		ldr	r3, [r0, #20]
 346 012e 9B1B     		subs	r3, r3, r6
 347 0130 4361     		str	r3, [r0, #20]
 349:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 348              		.loc 1 349 13 is_stmt 1 view .LVU140
 349 0132 AEE7     		b	.L9
 350              	.L18:
 351              		.align	2
 352              	.L17:
 353 0134 00000000 		.word	_ux_system
 354              		.cfi_endproc
 355              	.LFE11:
 357              		.text
 358              	.Letext0:
 359              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 360              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 361              		.file 4 "Middlewares/ST/usbx/common/core/inc/ux_api.h"
 362              		.file 5 "Middlewares/ST/usbx/common/core/inc/ux_system.h"
 363              		.file 6 "Middlewares/ST/usbx/common/core/inc/ux_utility.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccipr2yk.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 ux_utility_memory_allocate.c
C:\Users\HP\AppData\Local\Temp\ccipr2yk.s:20     .text._ux_utility_memory_allocate:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccipr2yk.s:26     .text._ux_utility_memory_allocate:00000000 _ux_utility_memory_allocate
C:\Users\HP\AppData\Local\Temp\ccipr2yk.s:353    .text._ux_utility_memory_allocate:00000134 $d

UNDEFINED SYMBOLS
_ux_utility_mutex_on
_ux_utility_memory_free_block_best_get
_ux_utility_memory_set
_ux_utility_mutex_off
_ux_system_error_handler
_ux_system

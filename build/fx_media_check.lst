ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_media_check.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._fx_media_check,"ax",%progbits
  20              		.align	1
  21              		.global	_fx_media_check
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_fx_media_check:
  27              	.LVL0:
  28              	.LFB8:
  29              		.file 1 "Middlewares/ST/filex/common/src/fx_media_check.c"
   1:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_media_check.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_media_check.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_media_check.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_media_check.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_media_check.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  12:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  13:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_media_check.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_media_check.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_media_check.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_media_check.c **** /**   Media                                                               */
  19:Middlewares/ST/filex/common/src/fx_media_check.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  23:Middlewares/ST/filex/common/src/fx_media_check.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  25:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  26:Middlewares/ST/filex/common/src/fx_media_check.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  28:Middlewares/ST/filex/common/src/fx_media_check.c **** #include "fx_api.h"
  29:Middlewares/ST/filex/common/src/fx_media_check.c **** #include "fx_system.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 2


  30:Middlewares/ST/filex/common/src/fx_media_check.c **** #include "fx_directory.h"
  31:Middlewares/ST/filex/common/src/fx_media_check.c **** #include "fx_media.h"
  32:Middlewares/ST/filex/common/src/fx_media_check.c **** #include "fx_utility.h"
  33:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
  34:Middlewares/ST/filex/common/src/fx_media_check.c **** #include "fx_directory_exFAT.h"
  35:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
  36:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  37:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  38:Middlewares/ST/filex/common/src/fx_media_check.c **** /* Define parameters for FileX media check utility.  */
  39:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  40:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifndef FX_MAX_DIRECTORY_NESTING
  41:Middlewares/ST/filex/common/src/fx_media_check.c **** #define FX_MAX_DIRECTORY_NESTING 20
  42:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif
  43:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  44:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  45:Middlewares/ST/filex/common/src/fx_media_check.c **** /* Define data structures local to the FileX media check utility.  */
  46:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  47:Middlewares/ST/filex/common/src/fx_media_check.c **** typedef struct CURRENT_DIRECTORY_ENTRY_STRUCT
  48:Middlewares/ST/filex/common/src/fx_media_check.c **** {
  49:Middlewares/ST/filex/common/src/fx_media_check.c ****     ULONG current_directory_entry;
  50:Middlewares/ST/filex/common/src/fx_media_check.c ****     ULONG current_total_entries;
  51:Middlewares/ST/filex/common/src/fx_media_check.c ****     ULONG current_start_cluster;
  52:Middlewares/ST/filex/common/src/fx_media_check.c **** } CURRENT_DIRECTORY_ENTRY;
  53:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  54:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  55:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
  56:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  57:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  FUNCTION                                               RELEASE        */
  58:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  59:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_media_check                                     PORTABLE C      */
  60:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                           6.1          */
  61:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  AUTHOR                                                                */
  62:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  63:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    William E. Lamie, Microsoft Corporation                             */
  64:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  65:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  DESCRIPTION                                                           */
  66:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  67:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    This function checks the specified media for basic structural       */
  68:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    errors, including cross linking, invalid FAT chains, and lost       */
  69:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    clusters. The function also provides the capability to correct      */
  70:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    errors.                                                             */
  71:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  72:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    The algorithm is to follow all sub-directories immediately and      */
  73:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    check their contents. The maximum depth of sub-directories is       */
  74:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    determined by the constant FX_MAX_DIRECTORY_NESTING.                */
  75:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    By default, this is set at 20. Basically, the FAT chain of every    */
  76:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    file and sub-directory is traversed. If valid, clusters are marked  */
  77:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    in a logical FAT bit map to signal they are already in-use. The     */
  78:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    algorithm should detect any broken or cross linked FAT condition.   */
  79:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  80:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    As for memory usage, the scratch memory supplied to the media check */
  81:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    function is used to hold several directory entries, a data          */
  82:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    structure to "stack" the current directory entry position before    */
  83:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    diving into the sub-directory, and finally the logical FAT bit map. */
  84:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    The basic data structures take from 512-1024 bytes and the logical  */
  85:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    FAT bit map requires as many bits as there are clusters in your     */
  86:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    device. For example, a device with 8000 clusters would require      */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 3


  87:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    1000 bytes to represent.                                            */
  88:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  89:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    On the performance end of things, the traversal is reasonably fast  */
  90:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    and is basically linear with the number of files and their sizes.   */
  91:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    The lost cluster checking at the end of media check is a bit more   */
  92:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    performance comprehensive. It basically checks that each unused     */
  93:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    cluster is actually marked as free. You might decide to bypass this */
  94:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    step if no other errors are found... or there might be ways to      */
  95:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    optimize the search by reading whole FAT sectors. You probably just */
  96:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    need to see how it behaves in your system.                          */
  97:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
  98:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  INPUT                                                                 */
  99:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 100:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    media_ptr                             Pointer to a previously       */
 101:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            opened media                */
 102:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    scratch_memory_ptr                    Pointer to memory area for    */
 103:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            media check to use (as      */
 104:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            mentioned above)            */
 105:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    scratch_memory_size                   Size of the scratch memory    */
 106:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    error_correction_option               Specifies which - if any -    */
 107:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            errors are corrected by     */
 108:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            the media check function.   */
 109:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            Setting the following bit   */
 110:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            causes that error to be     */
 111:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            corrected:                  */
 112:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 113:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            0x01 -> Fix FAT Chain Errors*/
 114:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            0x02 -> Fix Directory Entry */
 115:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                      Errors            */
 116:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            0x04 -> Fix Lost Clusters   */
 117:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 118:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    errors_detected                       Specifies the destination     */
 119:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            ULONG to place the error    */
 120:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            report from media check.    */
 121:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            This has a similar bit map  */
 122:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            as before:                  */
 123:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 124:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            0x01 -> FAT Chain Error(s)  */
 125:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            0x02 -> Directory Entry     */
 126:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                      Error(s)          */
 127:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            0x04 -> Lost Cluster(s)     */
 128:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 129:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  OUTPUT                                                                */
 130:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 131:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    FX_SUCCESS                            Media check performed its     */
 132:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            operation successfully.     */
 133:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            This does not mean that     */
 134:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            there were no errors. The   */
 135:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            errors_detected variable    */
 136:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            needs to be examined.       */
 137:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    FX_MEDIA_NOT_OPEN                     The media was not open.       */
 138:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    FX_NOT_ENOUGH_MEMORY                  The scratch memory was not    */
 139:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            large enough or the nesting */
 140:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            depth was greater than the  */
 141:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            maximum specified.          */
 142:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    FX_IO_ERROR                           I/O Error reading/writing to  */
 143:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            the media.                  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 4


 144:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    FX_ERROR_NOT_FIXED                    Fundamental problem with      */
 145:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            media that couldn't be fixed*/
 146:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 147:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  CALLS                                                                 */
 148:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 149:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_media_cache_invalidate            Invalidate the cache          */
 150:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_media_check_FAT_chain_check       Walk the supplied FAT chain   */
 151:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_media_check_lost_cluster_check    Check for lost clusters       */
 152:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_directory_entry_read              Directory entry read          */
 153:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_directory_entry_write             Directory entry write         */
 154:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_media_flush                       Flush changes to the media    */
 155:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    _fx_utility_FAT_entry_write           Write value to FAT entry      */
 156:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 157:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  CALLED BY                                                             */
 158:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 159:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    Application Code                                                    */
 160:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 161:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  RELEASE HISTORY                                                       */
 162:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 163:Middlewares/ST/filex/common/src/fx_media_check.c **** /*    DATE              NAME                      DESCRIPTION             */
 164:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 165:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
 166:Middlewares/ST/filex/common/src/fx_media_check.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
 167:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                            resulting in version 6.1    */
 168:Middlewares/ST/filex/common/src/fx_media_check.c **** /*                                                                        */
 169:Middlewares/ST/filex/common/src/fx_media_check.c **** /**************************************************************************/
 170:Middlewares/ST/filex/common/src/fx_media_check.c **** UINT  _fx_media_check(FX_MEDIA *media_ptr, UCHAR *scratch_memory_ptr, ULONG scratch_memory_size, UL
 171:Middlewares/ST/filex/common/src/fx_media_check.c **** {
  30              		.loc 1 171 1 view -0
  31              		.cfi_startproc
  32              		@ args = 4, pretend = 0, frame = 32
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 171 1 is_stmt 0 view .LVU1
  35 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 36
  38              		.cfi_offset 4, -36
  39              		.cfi_offset 5, -32
  40              		.cfi_offset 6, -28
  41              		.cfi_offset 7, -24
  42              		.cfi_offset 8, -20
  43              		.cfi_offset 9, -16
  44              		.cfi_offset 10, -12
  45              		.cfi_offset 11, -8
  46              		.cfi_offset 14, -4
  47 0004 8BB0     		sub	sp, sp, #44
  48              	.LCFI1:
  49              		.cfi_def_cfa_offset 80
  50 0006 0392     		str	r2, [sp, #12]
  51 0008 0293     		str	r3, [sp, #8]
  52 000a 149F     		ldr	r7, [sp, #80]
 172:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 173:Middlewares/ST/filex/common/src/fx_media_check.c **** CURRENT_DIRECTORY_ENTRY *current_directory;
  53              		.loc 1 173 1 is_stmt 1 view .LVU2
 174:Middlewares/ST/filex/common/src/fx_media_check.c **** ULONG                    total_entries, last_cluster, valid_clusters;
  54              		.loc 1 174 1 view .LVU3
 175:Middlewares/ST/filex/common/src/fx_media_check.c **** ULONG                    bytes_per_cluster, i, current_errors;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 5


  55              		.loc 1 175 1 view .LVU4
 176:Middlewares/ST/filex/common/src/fx_media_check.c **** UINT                     status, long_name_size;
  56              		.loc 1 176 1 view .LVU5
 177:Middlewares/ST/filex/common/src/fx_media_check.c **** UINT                     current_directory_index;
  57              		.loc 1 177 1 view .LVU6
 178:Middlewares/ST/filex/common/src/fx_media_check.c **** UCHAR                   *logical_fat, *working_ptr;
  58              		.loc 1 178 1 view .LVU7
 179:Middlewares/ST/filex/common/src/fx_media_check.c **** ALIGN_TYPE               address_mask;
  59              		.loc 1 179 1 view .LVU8
 180:Middlewares/ST/filex/common/src/fx_media_check.c **** FX_DIR_ENTRY            *temp_dir_ptr, *source_dir_ptr, *dir_entry_ptr;
  60              		.loc 1 180 1 view .LVU9
 181:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 182:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef TX_ENABLE_EVENT_TRACE
 183:Middlewares/ST/filex/common/src/fx_media_check.c **** TX_TRACE_BUFFER_ENTRY   *trace_event;
 184:Middlewares/ST/filex/common/src/fx_media_check.c **** ULONG                    trace_timestamp;
 185:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif
 186:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 187:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 188:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_errors = 0;
 189:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif
 190:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 191:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Check the media to make sure it is open.  */
 192:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (media_ptr -> fx_media_id != FX_MEDIA_ID)
  61              		.loc 1 192 5 view .LVU10
  62              		.loc 1 192 19 is_stmt 0 view .LVU11
  63 000c 0268     		ldr	r2, [r0]
  64              	.LVL1:
  65              		.loc 1 192 8 view .LVU12
  66 000e 784B     		ldr	r3, .L53
  67              	.LVL2:
  68              		.loc 1 192 8 view .LVU13
  69 0010 9A42     		cmp	r2, r3
  70 0012 05D0     		beq	.L36
 193:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 194:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 195:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Return the media not opened error.  */
 196:Middlewares/ST/filex/common/src/fx_media_check.c ****         return(FX_MEDIA_NOT_OPEN);
  71              		.loc 1 196 15 view .LVU14
  72 0014 1123     		movs	r3, #17
  73 0016 9B46     		mov	fp, r3
  74              	.LVL3:
  75              	.L1:
 197:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 198:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 199:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 200:Middlewares/ST/filex/common/src/fx_media_check.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_MEDIA_CHECK, media_ptr, scratch_memory_ptr, scratch_memory_siz
 201:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 202:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Protect against other threads accessing the media.  */
 203:Middlewares/ST/filex/common/src/fx_media_check.c ****     FX_PROTECT
 204:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 205:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Determine if there are any opened files.  */
 206:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (media_ptr -> fx_media_opened_file_count)
 207:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 208:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 209:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* There are opened files... this is an error!  */
 210:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 211:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Release protection.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 6


 212:Middlewares/ST/filex/common/src/fx_media_check.c ****         FX_UNPROTECT
 213:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 214:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Return an error.  */
 215:Middlewares/ST/filex/common/src/fx_media_check.c ****         return(FX_ACCESS_ERROR);
 216:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 217:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 218:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Invalidate the cache.  */
 219:Middlewares/ST/filex/common/src/fx_media_check.c ****     _fx_media_cache_invalidate(media_ptr);
 220:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 221:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Initialize the reported error flag.  */
 222:Middlewares/ST/filex/common/src/fx_media_check.c ****     *errors_detected =  0;
 223:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 224:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Calculate the long name size, rounded up to something that is evenly divisible by 4.  */
 225:Middlewares/ST/filex/common/src/fx_media_check.c ****     long_name_size =  (((FX_MAX_LONG_NAME_LEN + 3) >> 2) << 2);
 226:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 227:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Calculate the number of bytes per cluster.  */
 228:Middlewares/ST/filex/common/src/fx_media_check.c ****     bytes_per_cluster =  media_ptr -> fx_media_sectors_per_cluster * media_ptr -> fx_media_bytes_pe
 229:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 230:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Setup address mask.  */
 231:Middlewares/ST/filex/common/src/fx_media_check.c ****     address_mask =  sizeof(ULONG) - 1;
 232:Middlewares/ST/filex/common/src/fx_media_check.c ****     address_mask =  ~address_mask;
 233:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 234:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Setup working pointer.  */
 235:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  scratch_memory_ptr + (sizeof(ULONG) - 1);
 236:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  (UCHAR *)(((ALIGN_TYPE)working_ptr) & address_mask);
 237:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 238:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Memory is set aside for two FX_DIR_ENTRY structures */
 239:Middlewares/ST/filex/common/src/fx_media_check.c ****     dir_entry_ptr =  (FX_DIR_ENTRY *)working_ptr;
 240:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 241:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Adjust the scratch memory pointer forward.  */
 242:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  &working_ptr[sizeof(FX_DIR_ENTRY)];
 243:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 244:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Setup the name buffer for the first directory entry.  */
 245:Middlewares/ST/filex/common/src/fx_media_check.c ****     dir_entry_ptr -> fx_dir_entry_name =  (CHAR *)working_ptr;
 246:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 247:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Adjust the scratch memory pointer forward.  */
 248:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  working_ptr + long_name_size + (sizeof(ULONG) - 1);
 249:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  (UCHAR *)(((ALIGN_TYPE)working_ptr) & address_mask);
 250:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 251:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Setup the source directory entry.  */
 252:Middlewares/ST/filex/common/src/fx_media_check.c ****     source_dir_ptr =  (FX_DIR_ENTRY *)working_ptr;
 253:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 254:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Adjust the scratch memory pointer forward.  */
 255:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  &working_ptr[sizeof(FX_DIR_ENTRY)];
 256:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 257:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Setup the name buffer for the source directory entry.  */
 258:Middlewares/ST/filex/common/src/fx_media_check.c ****     source_dir_ptr -> fx_dir_entry_name =  (CHAR *)working_ptr;
 259:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 260:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Adjust the scratch memory pointer forward.  */
 261:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  working_ptr + long_name_size + (sizeof(ULONG) - 1);
 262:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  (UCHAR *)(((ALIGN_TYPE)working_ptr) & address_mask);
 263:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 264:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Setup the current directory stack memory.  */
 265:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory =  (CURRENT_DIRECTORY_ENTRY *)working_ptr;
 266:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 267:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Allocate space for the size of the directory entry stack.  This basically
 268:Middlewares/ST/filex/common/src/fx_media_check.c ****        defines the maximum level of sub-directories supported.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 7


 269:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  &working_ptr[(FX_MAX_DIRECTORY_NESTING * sizeof(CURRENT_DIRECTORY_ENTRY))];
 270:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 271:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Setup the initial current directory entry.  */
 272:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory_index =  0;
 273:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 274:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Adjust the size to account for the header information.  */
 275:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (scratch_memory_size < (ULONG)((working_ptr - scratch_memory_ptr)))
 276:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 277:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 278:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Release media protection.  */
 279:Middlewares/ST/filex/common/src/fx_media_check.c ****         FX_UNPROTECT
 280:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 281:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Return the not enough memory error.  */
 282:Middlewares/ST/filex/common/src/fx_media_check.c ****         return(FX_NOT_ENOUGH_MEMORY);
 283:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 284:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 285:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Adjust the scratch memory size.  */
 286:Middlewares/ST/filex/common/src/fx_media_check.c ****     scratch_memory_size =  scratch_memory_size - (ULONG)(working_ptr - scratch_memory_ptr);
 287:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 288:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Memory is set aside for logical FAT - one bit per cluster */
 289:Middlewares/ST/filex/common/src/fx_media_check.c ****     logical_fat =  (UCHAR *)working_ptr;
 290:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 291:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Determine if there is enough memory.  */
 292:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (scratch_memory_size < ((media_ptr -> fx_media_total_clusters >> 3) + 1))
 293:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 294:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 295:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Release media protection.  */
 296:Middlewares/ST/filex/common/src/fx_media_check.c ****         FX_UNPROTECT
 297:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 298:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Return the not enough memory error.  */
 299:Middlewares/ST/filex/common/src/fx_media_check.c ****         return(FX_NOT_ENOUGH_MEMORY);
 300:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 301:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 302:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Initialize the logical FAT table. */
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     for (i = 0; i < ((media_ptr -> fx_media_total_clusters >> 3) + 1); i++)
 304:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 305:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Clear the logical FAT entry, which actually represents eight clusters.  */
 306:Middlewares/ST/filex/common/src/fx_media_check.c ****         logical_fat[i] =  0;
 307:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 308:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 309:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 310:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 311:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Mark the clusters occupied by Allocation Bitmap table, Up-cast table and the first cluster o
 312:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 313:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 314:Middlewares/ST/filex/common/src/fx_media_check.c ****     ULONG offset = 0;
 315:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 316:Middlewares/ST/filex/common/src/fx_media_check.c ****         for (i = ((media_ptr -> fx_media_root_cluster_32 - FX_FAT_ENTRY_START) >> 3); i; i--)
 317:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 318:Middlewares/ST/filex/common/src/fx_media_check.c ****             logical_fat[offset++] = 0xff;
 319:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 320:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 321:Middlewares/ST/filex/common/src/fx_media_check.c ****         for (i = ((media_ptr -> fx_media_root_cluster_32 - FX_FAT_ENTRY_START) & 7); i; i--)
 322:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 323:Middlewares/ST/filex/common/src/fx_media_check.c ****             logical_fat[offset] = (UCHAR)((logical_fat[offset] << 1) | 0x1);
 324:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 325:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 8


 326:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 327:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 328:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 329:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (media_ptr -> fx_media_fault_tolerant_enabled)
 330:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 331:Middlewares/ST/filex/common/src/fx_media_check.c ****     ULONG cluster, cluster_number;
 332:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 333:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Mark the cluster used by fault tolerant as valid. */
 334:Middlewares/ST/filex/common/src/fx_media_check.c ****         for (cluster = media_ptr -> fx_media_fault_tolerant_start_cluster;
 335:Middlewares/ST/filex/common/src/fx_media_check.c ****              cluster < media_ptr -> fx_media_fault_tolerant_start_cluster + media_ptr -> fx_media_f
 336:Middlewares/ST/filex/common/src/fx_media_check.c ****              cluster++)
 337:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 338:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 339:Middlewares/ST/filex/common/src/fx_media_check.c ****             cluster_number = cluster;
 340:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 341:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 342:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 343:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* For the index of the first cluster in exFAT is 2, adjust the number of clusters to f
 344:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* We will compare logical_fat with Aollcation Bitmap table later to find out lost clus
 345:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 346:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 347:Middlewares/ST/filex/common/src/fx_media_check.c ****                 cluster_number = cluster - FX_FAT_ENTRY_START;
 348:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 349:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 350:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 351:Middlewares/ST/filex/common/src/fx_media_check.c ****             logical_fat[cluster_number >> 3] = (UCHAR)(logical_fat[cluster_number >> 3] | (1 << (cl
 352:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 353:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 354:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 355:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 356:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* If FAT32 is present, determine if the root directory is coherent.  */
 357:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 358:Middlewares/ST/filex/common/src/fx_media_check.c ****     if ((media_ptr -> fx_media_FAT_type == FX_FAT32) ||
 359:Middlewares/ST/filex/common/src/fx_media_check.c ****         (media_ptr -> fx_media_FAT_type == FX_exFAT))
 360:Middlewares/ST/filex/common/src/fx_media_check.c **** #else
 361:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (media_ptr -> fx_media_32_bit_FAT)
 362:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 363:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 364:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 365:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* A 32-bit FAT is present. We need to walk the clusters of the root directory to determine
 366:Middlewares/ST/filex/common/src/fx_media_check.c ****            it is intact. */
 367:Middlewares/ST/filex/common/src/fx_media_check.c ****         current_errors =  _fx_media_check_FAT_chain_check(media_ptr, media_ptr -> fx_media_root_clu
 368:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                           &last_cluster, &valid_clusters, logical_f
 369:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 370:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Make them part of the errors reported to the caller.  */
 371:Middlewares/ST/filex/common/src/fx_media_check.c ****         *errors_detected =  *errors_detected | current_errors;
 372:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 373:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Update the trace event with the errors detected.  */
 374:Middlewares/ST/filex/common/src/fx_media_check.c ****         FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_MEDIA_CHECK, 0, 0, 0, *errors_
 375:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 376:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Determine if the I/O error is set.  */
 377:Middlewares/ST/filex/common/src/fx_media_check.c ****         if (current_errors & FX_IO_ERROR)
 378:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 379:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 380:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Release media protection.  */
 381:Middlewares/ST/filex/common/src/fx_media_check.c ****             FX_UNPROTECT
 382:Middlewares/ST/filex/common/src/fx_media_check.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 9


 383:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* File I/O Error.  */
 384:Middlewares/ST/filex/common/src/fx_media_check.c ****             return(FX_IO_ERROR);
 385:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 386:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 387:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Check the status.  */
 388:Middlewares/ST/filex/common/src/fx_media_check.c ****         if (*errors_detected)
 389:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 390:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 391:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Determine if we can fix the FAT32 root directory error.  */
 392:Middlewares/ST/filex/common/src/fx_media_check.c ****             if ((valid_clusters) && (error_correction_option & FX_FAT_CHAIN_ERROR))
 393:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 394:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 395:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Make the chain end at the last cluster. */
 396:Middlewares/ST/filex/common/src/fx_media_check.c ****                 status = _fx_utility_FAT_entry_write(media_ptr, last_cluster, media_ptr -> fx_media
 397:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 398:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Determine if the write was successful.  */
 399:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (status)
 400:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 401:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 402:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Release media protection.  */
 403:Middlewares/ST/filex/common/src/fx_media_check.c ****                     FX_UNPROTECT
 404:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 405:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Return the error code.  */
 406:Middlewares/ST/filex/common/src/fx_media_check.c ****                     return(status);
 407:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 408:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 409:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Adjust the total entries in the root directory.  */
 410:Middlewares/ST/filex/common/src/fx_media_check.c ****                 media_ptr -> fx_media_root_directory_entries =  (valid_clusters * bytes_per_cluster
 411:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 412:Middlewares/ST/filex/common/src/fx_media_check.c ****             else
 413:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 414:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 415:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Release media protection.  */
 416:Middlewares/ST/filex/common/src/fx_media_check.c ****                 FX_UNPROTECT
 417:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 418:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Return an error.  */
 419:Middlewares/ST/filex/common/src/fx_media_check.c ****                 return(FX_ERROR_NOT_FIXED);
 420:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 421:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 422:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 423:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 424:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Pickup total entries in the root directory.  */
 425:Middlewares/ST/filex/common/src/fx_media_check.c ****     total_entries =  media_ptr -> fx_media_root_directory_entries;
 426:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 427:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Set temp directory pointer to NULL.  */
 428:Middlewares/ST/filex/common/src/fx_media_check.c ****     temp_dir_ptr =  FX_NULL;
 429:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 430:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Put the root directory information in the entry stack */
 431:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_total_entries =    total_entries;
 432:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_start_cluster =    media_ptr -> fx_media_fat
 433:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_directory_entry =  0;
 434:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 435:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Now we shall do the checking in depth first manner. */
 436:Middlewares/ST/filex/common/src/fx_media_check.c ****     do
 437:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 438:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 439:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Pickup the directory index.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 10


 440:Middlewares/ST/filex/common/src/fx_media_check.c ****         i =  current_directory[current_directory_index].current_directory_entry;
 441:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 442:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Loop to process remaining directory entries.  */
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         while (i < current_directory[current_directory_index].current_total_entries)
 444:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 445:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 446:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Read a directory entry.  */
 447:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 448:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Hash value of the file name is not cared. */
 449:Middlewares/ST/filex/common/src/fx_media_check.c ****             status =  _fx_directory_entry_read_ex(media_ptr, temp_dir_ptr, &i, dir_entry_ptr, 0);
 450:Middlewares/ST/filex/common/src/fx_media_check.c **** #else
 451:Middlewares/ST/filex/common/src/fx_media_check.c ****             status =  _fx_directory_entry_read(media_ptr, temp_dir_ptr, &i, dir_entry_ptr);
 452:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 453:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 454:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Determine if the read was successful.  */
 455:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (status)
 456:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 457:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 458:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Release media protection.  */
 459:Middlewares/ST/filex/common/src/fx_media_check.c ****                 FX_UNPROTECT
 460:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 461:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Return the error code.  */
 462:Middlewares/ST/filex/common/src/fx_media_check.c ****                 return(status);
 463:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 464:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 465:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Check for the last entry.  */
 466:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 467:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (dir_entry_ptr -> fx_dir_entry_type == FX_EXFAT_DIR_ENTRY_TYPE_END_MARKER)
 468:Middlewares/ST/filex/common/src/fx_media_check.c **** #else
 469:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (dir_entry_ptr -> fx_dir_entry_name[0] == (CHAR)FX_DIR_ENTRY_DONE)
 470:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 471:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 472:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 473:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Last entry in this directory - no need to check further.  */
 474:Middlewares/ST/filex/common/src/fx_media_check.c ****                 break;
 475:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 476:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 477:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Is the entry free?  */
 478:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 479:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (dir_entry_ptr -> fx_dir_entry_type != FX_EXFAT_DIR_ENTRY_TYPE_FILE_DIRECTORY)
 480:Middlewares/ST/filex/common/src/fx_media_check.c **** #else
 481:Middlewares/ST/filex/common/src/fx_media_check.c ****             if ((dir_entry_ptr -> fx_dir_entry_name[0] == (CHAR)FX_DIR_ENTRY_FREE) && (dir_entry_pt
 482:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 483:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 484:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 485:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* A deleted entry */
 486:Middlewares/ST/filex/common/src/fx_media_check.c ****                 i++;
 487:Middlewares/ST/filex/common/src/fx_media_check.c ****                 continue;
 488:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 489:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 490:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 491:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 492:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Determine whether FAT chain is used. */
 493:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (dir_entry_ptr -> fx_dir_entry_dont_use_fat & 1)
 494:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 495:Middlewares/ST/filex/common/src/fx_media_check.c ****             ULONG64 remaining_size = dir_entry_ptr -> fx_dir_entry_file_size;
 496:Middlewares/ST/filex/common/src/fx_media_check.c ****             ULONG   cluster = dir_entry_ptr -> fx_dir_entry_cluster, cluster_number;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 11


 497:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 498:Middlewares/ST/filex/common/src/fx_media_check.c ****                 valid_clusters = 0;
 499:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 500:Middlewares/ST/filex/common/src/fx_media_check.c ****                 while (remaining_size)
 501:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 502:Middlewares/ST/filex/common/src/fx_media_check.c ****                     if (remaining_size >= bytes_per_cluster)
 503:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 504:Middlewares/ST/filex/common/src/fx_media_check.c ****                         remaining_size -= bytes_per_cluster;
 505:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 506:Middlewares/ST/filex/common/src/fx_media_check.c ****                     else
 507:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 508:Middlewares/ST/filex/common/src/fx_media_check.c ****                         remaining_size = 0;
 509:Middlewares/ST/filex/common/src/fx_media_check.c ****                         last_cluster = cluster;
 510:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 511:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 512:Middlewares/ST/filex/common/src/fx_media_check.c ****                     cluster_number = cluster - FX_FAT_ENTRY_START;
 513:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 514:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Is the current cluster already marked? */
 515:Middlewares/ST/filex/common/src/fx_media_check.c ****                     if ((logical_fat[cluster_number / 8] >> (cluster_number % 8)) & 0x01)
 516:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 517:Middlewares/ST/filex/common/src/fx_media_check.c ****                         current_errors = FX_FILE_SIZE_ERROR;
 518:Middlewares/ST/filex/common/src/fx_media_check.c ****                         last_cluster = dir_entry_ptr -> fx_dir_entry_cluster + valid_clusters;
 519:Middlewares/ST/filex/common/src/fx_media_check.c ****                         break;
 520:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 521:Middlewares/ST/filex/common/src/fx_media_check.c ****                     
 522:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Mark the current cluster. */
 523:Middlewares/ST/filex/common/src/fx_media_check.c ****                     logical_fat[cluster_number >> 3] = (UCHAR)(logical_fat[cluster_number >> 3] | (
 524:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 525:Middlewares/ST/filex/common/src/fx_media_check.c ****                     valid_clusters++;
 526:Middlewares/ST/filex/common/src/fx_media_check.c ****                     cluster++;
 527:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 528:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 529:Middlewares/ST/filex/common/src/fx_media_check.c ****             else
 530:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 531:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 532:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 533:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Look for any cross links or errors in the FAT chain of current directory entry. 
 534:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_errors =  _fx_media_check_FAT_chain_check(media_ptr, dir_entry_ptr -> fx_di
 535:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                                   &last_cluster, &valid_clusters, l
 536:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 537:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 538:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 539:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 540:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Make them part of the errors reported to the caller.  */
 541:Middlewares/ST/filex/common/src/fx_media_check.c ****             *errors_detected =  *errors_detected | current_errors;
 542:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 543:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Update the trace event with the errors detected.  */
 544:Middlewares/ST/filex/common/src/fx_media_check.c ****             FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_MEDIA_CHECK, 0, 0, 0, *err
 545:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 546:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Determine if the I/O error is set.  */
 547:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (current_errors & FX_IO_ERROR)
 548:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 549:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 550:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Release media protection.  */
 551:Middlewares/ST/filex/common/src/fx_media_check.c ****                 FX_UNPROTECT
 552:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 553:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* File I/O Error.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 12


 554:Middlewares/ST/filex/common/src/fx_media_check.c ****                 return(FX_IO_ERROR);
 555:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 556:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 557:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Check for errors.  */
 558:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (*errors_detected)
 559:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 560:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 561:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Determine if we can fix the FAT chain.  */
 562:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (error_correction_option & FX_FAT_CHAIN_ERROR)
 563:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 564:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 565:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Determine if there is a valid cluster to write the EOF to.  */
 566:Middlewares/ST/filex/common/src/fx_media_check.c ****                     if (valid_clusters)
 567:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 568:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 569:Middlewares/ST/filex/common/src/fx_media_check.c ****                         /* Write EOF in the last FAT entry.  */
 570:Middlewares/ST/filex/common/src/fx_media_check.c ****                         status =  _fx_utility_FAT_entry_write(media_ptr, last_cluster, media_ptr ->
 571:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 572:Middlewares/ST/filex/common/src/fx_media_check.c ****                         /* Determine if the write was successful.  */
 573:Middlewares/ST/filex/common/src/fx_media_check.c ****                         if (status)
 574:Middlewares/ST/filex/common/src/fx_media_check.c ****                         {
 575:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 576:Middlewares/ST/filex/common/src/fx_media_check.c ****                             /* Release media protection.  */
 577:Middlewares/ST/filex/common/src/fx_media_check.c ****                             FX_UNPROTECT
 578:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 579:Middlewares/ST/filex/common/src/fx_media_check.c ****                             /* Return the error code.  */
 580:Middlewares/ST/filex/common/src/fx_media_check.c ****                             return(status);
 581:Middlewares/ST/filex/common/src/fx_media_check.c ****                         }
 582:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 583:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 584:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 585:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 586:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Determine if we need to update the size of the directory entry.  */
 587:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (dir_entry_ptr -> fx_dir_entry_file_size > (valid_clusters * bytes_per_cluster))
 588:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 589:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 590:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Yes, update the directory entry's size.  */
 591:Middlewares/ST/filex/common/src/fx_media_check.c ****                 dir_entry_ptr -> fx_dir_entry_file_size =  valid_clusters * bytes_per_cluster;
 592:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 593:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Determine if the new file size is zero. */
 594:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (dir_entry_ptr -> fx_dir_entry_file_size == 0)
 595:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 596:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 597:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Consider this a directory error.  */
 598:Middlewares/ST/filex/common/src/fx_media_check.c ****                     *errors_detected =  *errors_detected | FX_DIRECTORY_ERROR;
 599:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 600:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Update the trace event with the errors detected.  */
 601:Middlewares/ST/filex/common/src/fx_media_check.c ****                     FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_MEDIA_CHECK, 0, 0,
 602:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 603:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Clear the starting cluster number of this directory entry.  */
 604:Middlewares/ST/filex/common/src/fx_media_check.c ****                     dir_entry_ptr -> fx_dir_entry_cluster =  0;
 605:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 606:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* If directory fixing is required, delete this directory entry as well.  */
 607:Middlewares/ST/filex/common/src/fx_media_check.c ****                     if (error_correction_option & FX_DIRECTORY_ERROR)
 608:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 609:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 610:Middlewares/ST/filex/common/src/fx_media_check.c ****                         /* Mark the entry as deleted.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 13


 611:Middlewares/ST/filex/common/src/fx_media_check.c ****                         dir_entry_ptr -> fx_dir_entry_name[0] =        (CHAR)FX_DIR_ENTRY_FREE;
 612:Middlewares/ST/filex/common/src/fx_media_check.c ****                         dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 613:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 614:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 615:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 616:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Only update the directory if the FAT chain was actually updated.  */
 617:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (error_correction_option & FX_FAT_CHAIN_ERROR)
 618:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 619:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 620:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Update the directory entry.  */
 621:Middlewares/ST/filex/common/src/fx_media_check.c ****                     status =  _fx_directory_entry_write(media_ptr, dir_entry_ptr);
 622:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 623:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Determine if the write was successful.  */
 624:Middlewares/ST/filex/common/src/fx_media_check.c ****                     if (status)
 625:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 626:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 627:Middlewares/ST/filex/common/src/fx_media_check.c ****                         /* Release media protection.  */
 628:Middlewares/ST/filex/common/src/fx_media_check.c ****                         FX_UNPROTECT
 629:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 630:Middlewares/ST/filex/common/src/fx_media_check.c ****                         /* Return the error code.  */
 631:Middlewares/ST/filex/common/src/fx_media_check.c ****                         return(status);
 632:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 633:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 634:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 635:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 636:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Determine if the entry is a sub-directory.  */
 637:Middlewares/ST/filex/common/src/fx_media_check.c ****             if ((dir_entry_ptr -> fx_dir_entry_attributes & FX_DIRECTORY)
 638:Middlewares/ST/filex/common/src/fx_media_check.c ****                  && (valid_clusters == 0))
 639:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 640:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 641:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Consider this a directory error.  */
 642:Middlewares/ST/filex/common/src/fx_media_check.c ****                 *errors_detected =  *errors_detected | FX_DIRECTORY_ERROR;
 643:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 644:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Update the trace event with the errors detected.  */
 645:Middlewares/ST/filex/common/src/fx_media_check.c ****                 FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_MEDIA_CHECK, 0, 0, 0, 
 646:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 647:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Determine if we can fix the error.  */
 648:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (error_correction_option & FX_DIRECTORY_ERROR)
 649:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 650:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 651:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Yes, make the directory entry free.  */
 652:Middlewares/ST/filex/common/src/fx_media_check.c ****                     dir_entry_ptr -> fx_dir_entry_name[0] =        (CHAR)FX_DIR_ENTRY_FREE;
 653:Middlewares/ST/filex/common/src/fx_media_check.c ****                     dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 654:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 655:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Delete the sub-directory entry.  */
 656:Middlewares/ST/filex/common/src/fx_media_check.c ****                     status =  _fx_directory_entry_write(media_ptr, dir_entry_ptr);
 657:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 658:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Determine if the write was successful.  */
 659:Middlewares/ST/filex/common/src/fx_media_check.c ****                     if (status)
 660:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 661:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 662:Middlewares/ST/filex/common/src/fx_media_check.c ****                         /* Release media protection.  */
 663:Middlewares/ST/filex/common/src/fx_media_check.c ****                         FX_UNPROTECT
 664:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 665:Middlewares/ST/filex/common/src/fx_media_check.c ****                         /* Return the error code.  */
 666:Middlewares/ST/filex/common/src/fx_media_check.c ****                         return(status);
 667:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 14


 668:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 669:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Move to next entry.  */
 670:Middlewares/ST/filex/common/src/fx_media_check.c ****                     i++;
 671:Middlewares/ST/filex/common/src/fx_media_check.c ****                     continue;
 672:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 673:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 674:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 675:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Determine if the entry is a directory.  */
 676:Middlewares/ST/filex/common/src/fx_media_check.c ****             if (dir_entry_ptr -> fx_dir_entry_attributes & FX_DIRECTORY)
 677:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 678:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 679:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Current entry is a directory. The algorithm is designed to follow all
 680:Middlewares/ST/filex/common/src/fx_media_check.c ****                    sub-directories immediately, i.e., a depth first search.  */
 681:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 682:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* First, save the next entry position. */
 683:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_directory_entry =  i + 1;
 684:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 685:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Push the current directory entry on the stack.  */
 686:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory_index++;
 687:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 688:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Check for current directory stack overflow.  */
 689:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (current_directory_index >= FX_MAX_DIRECTORY_NESTING)
 690:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 691:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 692:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Release media protection.  */
 693:Middlewares/ST/filex/common/src/fx_media_check.c ****                     FX_UNPROTECT
 694:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 695:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Current directory stack overflow.  Return error.  */
 696:Middlewares/ST/filex/common/src/fx_media_check.c ****                     return(FX_NOT_ENOUGH_MEMORY);
 697:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 698:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 699:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Otherwise, setup the new directory entry.  */
 700:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_total_entries =      (valid_clus
 701:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_start_cluster =      dir_entry_p
 702:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_directory_entry =    2;
 703:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 704:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Setup new source directory.  */
 705:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_cluster =              dir_entry_ptr -> fx_dir_entry
 706:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_file_size =            current_directory[current_dir
 707:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 708:Middlewares/ST/filex/common/src/fx_media_check.c ****                 temp_dir_ptr =                                        source_dir_ptr;
 709:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 710:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Skip the first two entries of sub-directories.  */
 711:Middlewares/ST/filex/common/src/fx_media_check.c ****                 i =  2;
 712:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 713:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 714:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 715:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* For exFAT, there is no dir-entries for ".." and ".". */
 716:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 717:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 718:Middlewares/ST/filex/common/src/fx_media_check.c ****                     current_directory[current_directory_index].current_directory_entry = 0;
 719:Middlewares/ST/filex/common/src/fx_media_check.c ****                     i =  0;
 720:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 721:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 722:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 723:Middlewares/ST/filex/common/src/fx_media_check.c ****             else
 724:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 15


 725:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 726:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Regular file entry.  */
 727:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 728:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Check for an invalid file size.  */
 729:Middlewares/ST/filex/common/src/fx_media_check.c ****                 if (((valid_clusters * bytes_per_cluster) - dir_entry_ptr -> fx_dir_entry_file_size
 730:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 731:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 732:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* There are more clusters allocated than needed for the file's size.  Indicate
 733:Middlewares/ST/filex/common/src/fx_media_check.c ****                        is present.  */
 734:Middlewares/ST/filex/common/src/fx_media_check.c ****                     *errors_detected =  *errors_detected | FX_FILE_SIZE_ERROR;
 735:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 736:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* Update the trace event with the errors detected.  */
 737:Middlewares/ST/filex/common/src/fx_media_check.c ****                     FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_MEDIA_CHECK, 0, 0,
 738:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 739:Middlewares/ST/filex/common/src/fx_media_check.c ****                     /* For now, don't shorten the cluster chain.  */
 740:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 741:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 742:Middlewares/ST/filex/common/src/fx_media_check.c ****                 /* Look into the next entry in the current directory.  */
 743:Middlewares/ST/filex/common/src/fx_media_check.c ****                 i++;
 744:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 745:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 746:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 747:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Once we get here, we have exhausted the current directory and need to return to the prev
 748:Middlewares/ST/filex/common/src/fx_media_check.c ****            directory.  */
 749:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 750:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Check for being at the root directory.  */
 751:Middlewares/ST/filex/common/src/fx_media_check.c ****         if (current_directory_index == 0)
 752:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 753:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 754:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Yes, we have now exhausted searching the root directory so we are done!  */
 755:Middlewares/ST/filex/common/src/fx_media_check.c ****             break;
 756:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 757:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 758:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Backup to the place we left off in the previous directory.  */
 759:Middlewares/ST/filex/common/src/fx_media_check.c ****         current_directory_index--;
 760:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 761:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Determine if we are now back at the root directory.  */
 762:Middlewares/ST/filex/common/src/fx_media_check.c ****         if (current_directory[current_directory_index].current_start_cluster == media_ptr -> fx_med
 763:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 764:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 765:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* The search directory should be NULL since it is the root directory.  */
 766:Middlewares/ST/filex/common/src/fx_media_check.c ****             temp_dir_ptr =  FX_NULL;
 767:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 768:Middlewares/ST/filex/common/src/fx_media_check.c ****         else
 769:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 770:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 771:Middlewares/ST/filex/common/src/fx_media_check.c ****             /* Otherwise, we are returning to a sub-directory.  Setup the search directory
 772:Middlewares/ST/filex/common/src/fx_media_check.c ****                appropriately.  */
 773:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_cluster =              current_directory[current_directo
 774:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_file_size =            current_directory[current_directo
 775:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 776:Middlewares/ST/filex/common/src/fx_media_check.c ****             temp_dir_ptr =                                        source_dir_ptr;
 777:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 778:Middlewares/ST/filex/common/src/fx_media_check.c ****     } while (1);
 779:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 780:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 781:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 16


 782:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 783:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 784:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* If exFAT is in use, compare the logical_fat with Allocation Bitmap Table directly. */
 785:Middlewares/ST/filex/common/src/fx_media_check.c ****         current_errors =  _fx_media_check_exFAT_lost_cluster_check(media_ptr, logical_fat, media_pt
 786:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 787:Middlewares/ST/filex/common/src/fx_media_check.c ****     else
 788:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 789:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 790:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 791:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* At this point, all the files and sub-directories have been examined.  We now need to che
 792:Middlewares/ST/filex/common/src/fx_media_check.c ****            lost clusters in the logical FAT.  A lost cluster is basically anything that is not repo
 793:Middlewares/ST/filex/common/src/fx_media_check.c ****            the logical FAT that has a non-zero value in the real FAT.  */
 794:Middlewares/ST/filex/common/src/fx_media_check.c ****         current_errors =  _fx_media_check_lost_cluster_check(media_ptr, logical_fat, media_ptr -> f
 795:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 796:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 797:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 798:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 799:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Incorporate the error returned by the lost FAT check.  */
 800:Middlewares/ST/filex/common/src/fx_media_check.c ****     *errors_detected =  *errors_detected | current_errors;
 801:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 802:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Update the trace event with the errors detected.  */
 803:Middlewares/ST/filex/common/src/fx_media_check.c ****     FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_MEDIA_CHECK, 0, 0, 0, *errors_dete
 804:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 805:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Determine if the I/O error is set.  */
 806:Middlewares/ST/filex/common/src/fx_media_check.c ****     if (current_errors & FX_IO_ERROR)
 807:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 808:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 809:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Release media protection.  */
 810:Middlewares/ST/filex/common/src/fx_media_check.c ****         FX_UNPROTECT
 811:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 812:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* File I/O Error.  */
 813:Middlewares/ST/filex/common/src/fx_media_check.c ****         return(FX_IO_ERROR);
 814:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 815:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 816:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Determine if there was any error and update was selected.  */
 817:Middlewares/ST/filex/common/src/fx_media_check.c ****     if ((*errors_detected) && (error_correction_option))
 818:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 819:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 820:Middlewares/ST/filex/common/src/fx_media_check.c ****         /* Flush any unwritten items to the media.  */
 821:Middlewares/ST/filex/common/src/fx_media_check.c ****         _fx_media_flush(media_ptr);
 822:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 823:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 824:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* Release media protection.  */
 825:Middlewares/ST/filex/common/src/fx_media_check.c ****     FX_UNPROTECT
 826:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 827:Middlewares/ST/filex/common/src/fx_media_check.c ****     /* At this point, we have completed the diagnostic of the media, return success!  */
 828:Middlewares/ST/filex/common/src/fx_media_check.c ****     return(FX_SUCCESS);
 829:Middlewares/ST/filex/common/src/fx_media_check.c **** }
  76              		.loc 1 829 1 view .LVU15
  77 0018 5846     		mov	r0, fp
  78 001a 0BB0     		add	sp, sp, #44
  79              	.LCFI2:
  80              		.cfi_remember_state
  81              		.cfi_def_cfa_offset 36
  82              		@ sp needed
  83 001c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
  84              	.LVL4:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 17


  85              	.L36:
  86              	.LCFI3:
  87              		.cfi_restore_state
  88              		.loc 1 829 1 view .LVU16
  89 0020 0546     		mov	r5, r0
  90 0022 8B46     		mov	fp, r1
 203:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  91              		.loc 1 203 5 is_stmt 1 discriminator 2 view .LVU17
 203:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  92              		.loc 1 203 5 discriminator 2 view .LVU18
  93 0024 00F5E473 		add	r3, r0, #456
  94 0028 0593     		str	r3, [sp, #20]
  95 002a 4FF0FF31 		mov	r1, #-1
  96              	.LVL5:
 203:Middlewares/ST/filex/common/src/fx_media_check.c **** 
  97              		.loc 1 203 5 is_stmt 0 discriminator 2 view .LVU19
  98 002e 1846     		mov	r0, r3
  99              	.LVL6:
 203:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 100              		.loc 1 203 5 discriminator 2 view .LVU20
 101 0030 FFF7FEFF 		bl	_tx_mutex_get
 102              	.LVL7:
 103 0034 0028     		cmp	r0, #0
 104 0036 40F0B281 		bne	.L33
 206:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 105              		.loc 1 206 5 is_stmt 1 view .LVU21
 206:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 106              		.loc 1 206 19 is_stmt 0 view .LVU22
 107 003a D5F8CC60 		ldr	r6, [r5, #204]
 206:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 108              		.loc 1 206 8 view .LVU23
 109 003e 56BB     		cbnz	r6, .L37
 219:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 110              		.loc 1 219 5 is_stmt 1 view .LVU24
 111 0040 2846     		mov	r0, r5
 112 0042 FFF7FEFF 		bl	_fx_media_cache_invalidate
 113              	.LVL8:
 222:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 114              		.loc 1 222 5 view .LVU25
 222:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 115              		.loc 1 222 22 is_stmt 0 view .LVU26
 116 0046 0023     		movs	r3, #0
 117 0048 3B60     		str	r3, [r7]
 225:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 118              		.loc 1 225 5 is_stmt 1 view .LVU27
 119              	.LVL9:
 228:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 120              		.loc 1 228 5 view .LVU28
 228:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 121              		.loc 1 228 36 is_stmt 0 view .LVU29
 122 004a 6B6D     		ldr	r3, [r5, #84]
 228:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 123              		.loc 1 228 80 view .LVU30
 124 004c AA6A     		ldr	r2, [r5, #40]
 228:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 125              		.loc 1 228 23 view .LVU31
 126 004e 02FB03F9 		mul	r9, r2, r3
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 18


 127              	.LVL10:
 231:Middlewares/ST/filex/common/src/fx_media_check.c ****     address_mask =  ~address_mask;
 128              		.loc 1 231 5 is_stmt 1 view .LVU32
 232:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 129              		.loc 1 232 5 view .LVU33
 235:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  (UCHAR *)(((ALIGN_TYPE)working_ptr) & address_mask);
 130              		.loc 1 235 5 view .LVU34
 235:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  (UCHAR *)(((ALIGN_TYPE)working_ptr) & address_mask);
 131              		.loc 1 235 17 is_stmt 0 view .LVU35
 132 0052 0BF10304 		add	r4, fp, #3
 133              	.LVL11:
 236:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 134              		.loc 1 236 5 is_stmt 1 view .LVU36
 236:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 135              		.loc 1 236 56 is_stmt 0 view .LVU37
 136 0056 24F00304 		bic	r4, r4, #3
 137              	.LVL12:
 239:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 138              		.loc 1 239 5 is_stmt 1 view .LVU38
 242:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 139              		.loc 1 242 5 view .LVU39
 242:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 140              		.loc 1 242 17 is_stmt 0 view .LVU40
 141 005a 04F17003 		add	r3, r4, #112
 142              	.LVL13:
 245:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 143              		.loc 1 245 5 is_stmt 1 view .LVU41
 245:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 144              		.loc 1 245 40 is_stmt 0 view .LVU42
 145 005e 2360     		str	r3, [r4]
 248:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  (UCHAR *)(((ALIGN_TYPE)working_ptr) & address_mask);
 146              		.loc 1 248 5 is_stmt 1 view .LVU43
 147              	.LVL14:
 249:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 148              		.loc 1 249 5 view .LVU44
 249:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 149              		.loc 1 249 56 is_stmt 0 view .LVU45
 150 0060 04F5B87A 		add	r10, r4, #368
 151              	.LVL15:
 252:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 152              		.loc 1 252 5 is_stmt 1 view .LVU46
 255:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 153              		.loc 1 255 5 view .LVU47
 255:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 154              		.loc 1 255 17 is_stmt 0 view .LVU48
 155 0064 04F5F073 		add	r3, r4, #480
 156              	.LVL16:
 258:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 157              		.loc 1 258 5 is_stmt 1 view .LVU49
 258:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 158              		.loc 1 258 41 is_stmt 0 view .LVU50
 159 0068 CAF80030 		str	r3, [r10]
 261:Middlewares/ST/filex/common/src/fx_media_check.c ****     working_ptr =  (UCHAR *)(((ALIGN_TYPE)working_ptr) & address_mask);
 160              		.loc 1 261 5 is_stmt 1 view .LVU51
 161              	.LVL17:
 262:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 162              		.loc 1 262 5 view .LVU52
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 19


 262:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 163              		.loc 1 262 56 is_stmt 0 view .LVU53
 164 006c 0AF5B878 		add	r8, r10, #368
 165              	.LVL18:
 265:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 166              		.loc 1 265 5 is_stmt 1 view .LVU54
 269:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 167              		.loc 1 269 5 view .LVU55
 269:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 168              		.loc 1 269 17 is_stmt 0 view .LVU56
 169 0070 0AF51873 		add	r3, r10, #608
 170 0074 0493     		str	r3, [sp, #16]
 171              	.LVL19:
 272:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 172              		.loc 1 272 5 is_stmt 1 view .LVU57
 275:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 173              		.loc 1 275 5 view .LVU58
 275:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 174              		.loc 1 275 52 is_stmt 0 view .LVU59
 175 0076 A3EB0B03 		sub	r3, r3, fp
 176              	.LVL20:
 275:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 177              		.loc 1 275 8 view .LVU60
 178 007a 039A     		ldr	r2, [sp, #12]
 179 007c 9342     		cmp	r3, r2
 180 007e 10D8     		bhi	.L38
 286:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 181              		.loc 1 286 5 is_stmt 1 view .LVU61
 286:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 182              		.loc 1 286 25 is_stmt 0 view .LVU62
 183 0080 039A     		ldr	r2, [sp, #12]
 184 0082 D21A     		subs	r2, r2, r3
 185              	.LVL21:
 289:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 186              		.loc 1 289 5 is_stmt 1 view .LVU63
 292:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 187              		.loc 1 292 5 view .LVU64
 292:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 188              		.loc 1 292 43 is_stmt 0 view .LVU65
 189 0084 2B6C     		ldr	r3, [r5, #64]
 292:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 190              		.loc 1 292 70 view .LVU66
 191 0086 DB08     		lsrs	r3, r3, #3
 292:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 192              		.loc 1 292 76 view .LVU67
 193 0088 0133     		adds	r3, r3, #1
 292:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 194              		.loc 1 292 8 view .LVU68
 195 008a 9342     		cmp	r3, r2
 196 008c 0FD8     		bhi	.L39
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 197              		.loc 1 303 5 is_stmt 1 view .LVU69
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 198              		.loc 1 303 12 is_stmt 0 view .LVU70
 199 008e 0023     		movs	r3, #0
 200 0090 0793     		str	r3, [sp, #28]
 201 0092 0499     		ldr	r1, [sp, #16]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 20


 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 202              		.loc 1 303 5 view .LVU71
 203 0094 16E0     		b	.L6
 204              	.LVL22:
 205              	.L37:
 212:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 206              		.loc 1 212 9 is_stmt 1 view .LVU72
 207 0096 0598     		ldr	r0, [sp, #20]
 208 0098 FFF7FEFF 		bl	_tx_mutex_put
 209              	.LVL23:
 215:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 210              		.loc 1 215 9 view .LVU73
 215:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 211              		.loc 1 215 15 is_stmt 0 view .LVU74
 212 009c 0623     		movs	r3, #6
 213 009e 9B46     		mov	fp, r3
 214              	.LVL24:
 215:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 215              		.loc 1 215 15 view .LVU75
 216 00a0 BAE7     		b	.L1
 217              	.LVL25:
 218              	.L38:
 279:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 219              		.loc 1 279 9 is_stmt 1 view .LVU76
 220 00a2 0598     		ldr	r0, [sp, #20]
 221 00a4 FFF7FEFF 		bl	_tx_mutex_put
 222              	.LVL26:
 282:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 223              		.loc 1 282 9 view .LVU77
 282:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 224              		.loc 1 282 15 is_stmt 0 view .LVU78
 225 00a8 9123     		movs	r3, #145
 226 00aa 9B46     		mov	fp, r3
 227              	.LVL27:
 282:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 228              		.loc 1 282 15 view .LVU79
 229 00ac B4E7     		b	.L1
 230              	.LVL28:
 231              	.L39:
 296:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 232              		.loc 1 296 9 is_stmt 1 view .LVU80
 233 00ae 0598     		ldr	r0, [sp, #20]
 234 00b0 FFF7FEFF 		bl	_tx_mutex_put
 235              	.LVL29:
 299:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 236              		.loc 1 299 9 view .LVU81
 299:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 237              		.loc 1 299 15 is_stmt 0 view .LVU82
 238 00b4 9123     		movs	r3, #145
 239 00b6 9B46     		mov	fp, r3
 240              	.LVL30:
 299:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 241              		.loc 1 299 15 view .LVU83
 242 00b8 AEE7     		b	.L1
 243              	.LVL31:
 244              	.L7:
 306:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 21


 245              		.loc 1 306 9 is_stmt 1 discriminator 3 view .LVU84
 306:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 246              		.loc 1 306 24 is_stmt 0 discriminator 3 view .LVU85
 247 00ba 0023     		movs	r3, #0
 248 00bc 8B54     		strb	r3, [r1, r2]
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 249              		.loc 1 303 72 is_stmt 1 discriminator 3 view .LVU86
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 250              		.loc 1 303 73 is_stmt 0 discriminator 3 view .LVU87
 251 00be 079B     		ldr	r3, [sp, #28]
 252 00c0 0133     		adds	r3, r3, #1
 253 00c2 0793     		str	r3, [sp, #28]
 254              	.L6:
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 255              		.loc 1 303 17 is_stmt 1 discriminator 1 view .LVU88
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 256              		.loc 1 303 33 is_stmt 0 discriminator 1 view .LVU89
 257 00c4 2B6C     		ldr	r3, [r5, #64]
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 258              		.loc 1 303 60 discriminator 1 view .LVU90
 259 00c6 DB08     		lsrs	r3, r3, #3
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 260              		.loc 1 303 66 discriminator 1 view .LVU91
 261 00c8 0133     		adds	r3, r3, #1
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 262              		.loc 1 303 19 discriminator 1 view .LVU92
 263 00ca 079A     		ldr	r2, [sp, #28]
 303:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 264              		.loc 1 303 5 discriminator 1 view .LVU93
 265 00cc 9342     		cmp	r3, r2
 266 00ce F4D8     		bhi	.L7
 361:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 267              		.loc 1 361 5 is_stmt 1 view .LVU94
 361:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 268              		.loc 1 361 19 is_stmt 0 view .LVU95
 269 00d0 6B6E     		ldr	r3, [r5, #100]
 361:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 270              		.loc 1 361 8 view .LVU96
 271 00d2 93B9     		cbnz	r3, .L40
 272              	.LVL32:
 273              	.L8:
 425:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 274              		.loc 1 425 5 is_stmt 1 view .LVU97
 425:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 275              		.loc 1 425 19 is_stmt 0 view .LVU98
 276 00d4 AB6F     		ldr	r3, [r5, #120]
 277              	.LVL33:
 428:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 278              		.loc 1 428 5 is_stmt 1 view .LVU99
 431:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_start_cluster =    media_ptr -> fx_media_fat
 279              		.loc 1 431 5 view .LVU100
 431:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_start_cluster =    media_ptr -> fx_media_fat
 280              		.loc 1 431 70 is_stmt 0 view .LVU101
 281 00d6 C8F80430 		str	r3, [r8, #4]
 432:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_directory_entry =  0;
 282              		.loc 1 432 5 is_stmt 1 view .LVU102
 432:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_directory_entry =  0;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 22


 283              		.loc 1 432 85 is_stmt 0 view .LVU103
 284 00da 05F50053 		add	r3, r5, #8192
 285              	.LVL34:
 432:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_directory_entry =  0;
 286              		.loc 1 432 85 view .LVU104
 287 00de D3F8AC34 		ldr	r3, [r3, #1196]
 432:Middlewares/ST/filex/common/src/fx_media_check.c ****     current_directory[current_directory_index].current_directory_entry =  0;
 288              		.loc 1 432 70 view .LVU105
 289 00e2 C8F80830 		str	r3, [r8, #8]
 433:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 290              		.loc 1 433 5 is_stmt 1 view .LVU106
 433:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 291              		.loc 1 433 72 is_stmt 0 view .LVU107
 292 00e6 0023     		movs	r3, #0
 293 00e8 C8F80030 		str	r3, [r8]
 428:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 294              		.loc 1 428 18 view .LVU108
 295 00ec 0393     		str	r3, [sp, #12]
 296              	.LVL35:
 297              	.L12:
 436:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 298              		.loc 1 436 5 is_stmt 1 view .LVU109
 440:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 299              		.loc 1 440 9 view .LVU110
 440:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 300              		.loc 1 440 31 is_stmt 0 view .LVU111
 301 00ee 06EB4603 		add	r3, r6, r6, lsl #1
 440:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 302              		.loc 1 440 56 view .LVU112
 303 00f2 58F82330 		ldr	r3, [r8, r3, lsl #2]
 440:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 304              		.loc 1 440 11 view .LVU113
 305 00f6 0793     		str	r3, [sp, #28]
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 306              		.loc 1 443 9 is_stmt 1 view .LVU114
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 307              		.loc 1 443 15 is_stmt 0 view .LVU115
 308 00f8 90E0     		b	.L13
 309              	.LVL36:
 310              	.L40:
 367:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                           &last_cluster, &valid_clusters, logical_f
 311              		.loc 1 367 9 is_stmt 1 view .LVU116
 367:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                           &last_cluster, &valid_clusters, logical_f
 312              		.loc 1 367 27 is_stmt 0 view .LVU117
 313 00fa 049B     		ldr	r3, [sp, #16]
 314 00fc 0093     		str	r3, [sp]
 315 00fe 08AB     		add	r3, sp, #32
 316 0100 09AA     		add	r2, sp, #36
 317 0102 696F     		ldr	r1, [r5, #116]
 318              	.LVL37:
 367:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                           &last_cluster, &valid_clusters, logical_f
 319              		.loc 1 367 27 view .LVU118
 320 0104 2846     		mov	r0, r5
 321 0106 FFF7FEFF 		bl	_fx_media_check_FAT_chain_check
 322              	.LVL38:
 371:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 323              		.loc 1 371 9 is_stmt 1 view .LVU119
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 23


 371:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 324              		.loc 1 371 29 is_stmt 0 view .LVU120
 325 010a 3B68     		ldr	r3, [r7]
 371:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 326              		.loc 1 371 46 view .LVU121
 327 010c 0343     		orrs	r3, r3, r0
 371:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 328              		.loc 1 371 26 view .LVU122
 329 010e 3B60     		str	r3, [r7]
 377:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 330              		.loc 1 377 9 is_stmt 1 view .LVU123
 377:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 331              		.loc 1 377 12 is_stmt 0 view .LVU124
 332 0110 10F0900F 		tst	r0, #144
 333 0114 17D1     		bne	.L41
 388:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 334              		.loc 1 388 9 is_stmt 1 view .LVU125
 388:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 335              		.loc 1 388 12 is_stmt 0 view .LVU126
 336 0116 002B     		cmp	r3, #0
 337 0118 DCD0     		beq	.L8
 392:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 338              		.loc 1 392 13 is_stmt 1 view .LVU127
 392:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 339              		.loc 1 392 17 is_stmt 0 view .LVU128
 340 011a 089B     		ldr	r3, [sp, #32]
 392:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 341              		.loc 1 392 16 view .LVU129
 342 011c EBB1     		cbz	r3, .L10
 392:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 343              		.loc 1 392 34 discriminator 1 view .LVU130
 344 011e 029B     		ldr	r3, [sp, #8]
 345 0120 13F0010F 		tst	r3, #1
 346 0124 19D0     		beq	.L10
 396:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 347              		.loc 1 396 17 is_stmt 1 view .LVU131
 396:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 348              		.loc 1 396 26 is_stmt 0 view .LVU132
 349 0126 05F50053 		add	r3, r5, #8192
 350 012a D3F8AC24 		ldr	r2, [r3, #1196]
 351 012e 0999     		ldr	r1, [sp, #36]
 352 0130 2846     		mov	r0, r5
 353              	.LVL39:
 396:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 354              		.loc 1 396 26 view .LVU133
 355 0132 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 356              	.LVL40:
 399:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 357              		.loc 1 399 17 is_stmt 1 view .LVU134
 399:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 358              		.loc 1 399 20 is_stmt 0 view .LVU135
 359 0136 8346     		mov	fp, r0
 360              	.LVL41:
 399:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 361              		.loc 1 399 20 view .LVU136
 362 0138 58B9     		cbnz	r0, .L42
 410:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 24


 363              		.loc 1 410 17 is_stmt 1 view .LVU137
 410:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 364              		.loc 1 410 81 is_stmt 0 view .LVU138
 365 013a 089B     		ldr	r3, [sp, #32]
 366 013c 03FB09F3 		mul	r3, r3, r9
 410:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 367              		.loc 1 410 102 view .LVU139
 368 0140 5B09     		lsrs	r3, r3, #5
 410:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 369              		.loc 1 410 62 view .LVU140
 370 0142 AB67     		str	r3, [r5, #120]
 371 0144 C6E7     		b	.L8
 372              	.LVL42:
 373              	.L41:
 381:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 374              		.loc 1 381 13 is_stmt 1 view .LVU141
 375 0146 0598     		ldr	r0, [sp, #20]
 376              	.LVL43:
 381:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 377              		.loc 1 381 13 is_stmt 0 view .LVU142
 378 0148 FFF7FEFF 		bl	_tx_mutex_put
 379              	.LVL44:
 384:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 380              		.loc 1 384 13 is_stmt 1 view .LVU143
 384:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 381              		.loc 1 384 19 is_stmt 0 view .LVU144
 382 014c 9023     		movs	r3, #144
 383 014e 9B46     		mov	fp, r3
 384              	.LVL45:
 384:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 385              		.loc 1 384 19 view .LVU145
 386 0150 62E7     		b	.L1
 387              	.LVL46:
 388              	.L42:
 403:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 389              		.loc 1 403 21 is_stmt 1 view .LVU146
 390 0152 0598     		ldr	r0, [sp, #20]
 391              	.LVL47:
 403:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 392              		.loc 1 403 21 is_stmt 0 view .LVU147
 393 0154 FFF7FEFF 		bl	_tx_mutex_put
 394              	.LVL48:
 406:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 395              		.loc 1 406 21 is_stmt 1 view .LVU148
 406:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 396              		.loc 1 406 27 is_stmt 0 view .LVU149
 397 0158 5EE7     		b	.L1
 398              	.LVL49:
 399              	.L10:
 416:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 400              		.loc 1 416 17 is_stmt 1 view .LVU150
 401 015a 0598     		ldr	r0, [sp, #20]
 402              	.LVL50:
 416:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 403              		.loc 1 416 17 is_stmt 0 view .LVU151
 404 015c FFF7FEFF 		bl	_tx_mutex_put
 405              	.LVL51:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 25


 419:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 406              		.loc 1 419 17 is_stmt 1 view .LVU152
 419:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 407              		.loc 1 419 23 is_stmt 0 view .LVU153
 408 0160 9323     		movs	r3, #147
 409 0162 9B46     		mov	fp, r3
 410              	.LVL52:
 419:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 411              		.loc 1 419 23 view .LVU154
 412 0164 58E7     		b	.L1
 413              	.LVL53:
 414              	.L34:
 766:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 415              		.loc 1 766 26 view .LVU155
 416 0166 0023     		movs	r3, #0
 417 0168 0393     		str	r3, [sp, #12]
 418              	.LVL54:
 766:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 419              		.loc 1 766 26 view .LVU156
 420 016a C0E7     		b	.L12
 421              	.LVL55:
 422              	.L44:
 459:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 423              		.loc 1 459 17 view .LVU157
 424 016c 8346     		mov	fp, r0
 459:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 425              		.loc 1 459 17 is_stmt 1 view .LVU158
 426 016e 0598     		ldr	r0, [sp, #20]
 427              	.LVL56:
 459:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 428              		.loc 1 459 17 is_stmt 0 view .LVU159
 429 0170 FFF7FEFF 		bl	_tx_mutex_put
 430              	.LVL57:
 462:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 431              		.loc 1 462 17 is_stmt 1 view .LVU160
 462:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 432              		.loc 1 462 23 is_stmt 0 view .LVU161
 433 0174 50E7     		b	.L1
 434              	.LVL58:
 435              	.L45:
 486:Middlewares/ST/filex/common/src/fx_media_check.c ****                 continue;
 436              		.loc 1 486 17 is_stmt 1 view .LVU162
 486:Middlewares/ST/filex/common/src/fx_media_check.c ****                 continue;
 437              		.loc 1 486 18 is_stmt 0 view .LVU163
 438 0176 079B     		ldr	r3, [sp, #28]
 439 0178 0133     		adds	r3, r3, #1
 440 017a 0793     		str	r3, [sp, #28]
 487:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 441              		.loc 1 487 17 is_stmt 1 view .LVU164
 442 017c 4EE0     		b	.L13
 443              	.LVL59:
 444              	.L46:
 551:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 445              		.loc 1 551 17 view .LVU165
 446 017e 0598     		ldr	r0, [sp, #20]
 447              	.LVL60:
 551:Middlewares/ST/filex/common/src/fx_media_check.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 26


 448              		.loc 1 551 17 is_stmt 0 view .LVU166
 449 0180 FFF7FEFF 		bl	_tx_mutex_put
 450              	.LVL61:
 554:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 451              		.loc 1 554 17 is_stmt 1 view .LVU167
 554:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 452              		.loc 1 554 23 is_stmt 0 view .LVU168
 453 0184 9023     		movs	r3, #144
 454 0186 9B46     		mov	fp, r3
 455 0188 46E7     		b	.L1
 456              	.LVL62:
 457              	.L47:
 570:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 458              		.loc 1 570 25 is_stmt 1 view .LVU169
 570:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 459              		.loc 1 570 35 is_stmt 0 view .LVU170
 460 018a 05F50053 		add	r3, r5, #8192
 461 018e D3F8AC24 		ldr	r2, [r3, #1196]
 462 0192 0999     		ldr	r1, [sp, #36]
 463 0194 2846     		mov	r0, r5
 464              	.LVL63:
 570:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 465              		.loc 1 570 35 view .LVU171
 466 0196 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 467              	.LVL64:
 573:Middlewares/ST/filex/common/src/fx_media_check.c ****                         {
 468              		.loc 1 573 25 is_stmt 1 view .LVU172
 573:Middlewares/ST/filex/common/src/fx_media_check.c ****                         {
 469              		.loc 1 573 28 is_stmt 0 view .LVU173
 470 019a 0028     		cmp	r0, #0
 471 019c 6FD0     		beq	.L19
 577:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 472              		.loc 1 577 29 view .LVU174
 473 019e 8346     		mov	fp, r0
 577:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 474              		.loc 1 577 29 is_stmt 1 view .LVU175
 475 01a0 0598     		ldr	r0, [sp, #20]
 476              	.LVL65:
 577:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 477              		.loc 1 577 29 is_stmt 0 view .LVU176
 478 01a2 FFF7FEFF 		bl	_tx_mutex_put
 479              	.LVL66:
 580:Middlewares/ST/filex/common/src/fx_media_check.c ****                         }
 480              		.loc 1 580 29 is_stmt 1 view .LVU177
 580:Middlewares/ST/filex/common/src/fx_media_check.c ****                         }
 481              		.loc 1 580 35 is_stmt 0 view .LVU178
 482 01a6 37E7     		b	.L1
 483              	.LVL67:
 484              	.L48:
 621:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 485              		.loc 1 621 21 is_stmt 1 view .LVU179
 621:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 486              		.loc 1 621 31 is_stmt 0 view .LVU180
 487 01a8 2146     		mov	r1, r4
 488 01aa 2846     		mov	r0, r5
 489 01ac FFF7FEFF 		bl	_fx_directory_entry_write
 490              	.LVL68:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 27


 624:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 491              		.loc 1 624 21 is_stmt 1 view .LVU181
 624:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 492              		.loc 1 624 24 is_stmt 0 view .LVU182
 493 01b0 0028     		cmp	r0, #0
 494 01b2 00F08380 		beq	.L20
 628:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 495              		.loc 1 628 25 view .LVU183
 496 01b6 8346     		mov	fp, r0
 628:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 497              		.loc 1 628 25 is_stmt 1 view .LVU184
 498 01b8 0598     		ldr	r0, [sp, #20]
 499              	.LVL69:
 628:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 500              		.loc 1 628 25 is_stmt 0 view .LVU185
 501 01ba FFF7FEFF 		bl	_tx_mutex_put
 502              	.LVL70:
 631:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 503              		.loc 1 631 25 is_stmt 1 view .LVU186
 631:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 504              		.loc 1 631 31 is_stmt 0 view .LVU187
 505 01be 2BE7     		b	.L1
 506              	.LVL71:
 507              	.L49:
 652:Middlewares/ST/filex/common/src/fx_media_check.c ****                     dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 508              		.loc 1 652 21 is_stmt 1 view .LVU188
 652:Middlewares/ST/filex/common/src/fx_media_check.c ****                     dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 509              		.loc 1 652 35 is_stmt 0 view .LVU189
 510 01c0 2268     		ldr	r2, [r4]
 652:Middlewares/ST/filex/common/src/fx_media_check.c ****                     dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 511              		.loc 1 652 59 view .LVU190
 512 01c2 E523     		movs	r3, #229
 513 01c4 1370     		strb	r3, [r2]
 653:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 514              		.loc 1 653 21 is_stmt 1 view .LVU191
 653:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 515              		.loc 1 653 65 is_stmt 0 view .LVU192
 516 01c6 2371     		strb	r3, [r4, #4]
 656:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 517              		.loc 1 656 21 is_stmt 1 view .LVU193
 656:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 518              		.loc 1 656 31 is_stmt 0 view .LVU194
 519 01c8 2146     		mov	r1, r4
 520 01ca 2846     		mov	r0, r5
 521 01cc FFF7FEFF 		bl	_fx_directory_entry_write
 522              	.LVL72:
 659:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 523              		.loc 1 659 21 is_stmt 1 view .LVU195
 659:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 524              		.loc 1 659 24 is_stmt 0 view .LVU196
 525 01d0 18B9     		cbnz	r0, .L43
 670:Middlewares/ST/filex/common/src/fx_media_check.c ****                     continue;
 526              		.loc 1 670 21 is_stmt 1 view .LVU197
 670:Middlewares/ST/filex/common/src/fx_media_check.c ****                     continue;
 527              		.loc 1 670 22 is_stmt 0 view .LVU198
 528 01d2 079B     		ldr	r3, [sp, #28]
 529 01d4 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 28


 530 01d6 0793     		str	r3, [sp, #28]
 671:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 531              		.loc 1 671 21 is_stmt 1 view .LVU199
 532 01d8 20E0     		b	.L13
 533              	.L43:
 663:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 534              		.loc 1 663 25 is_stmt 0 view .LVU200
 535 01da 8346     		mov	fp, r0
 663:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 536              		.loc 1 663 25 is_stmt 1 view .LVU201
 537 01dc 0598     		ldr	r0, [sp, #20]
 538              	.LVL73:
 663:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 539              		.loc 1 663 25 is_stmt 0 view .LVU202
 540 01de FFF7FEFF 		bl	_tx_mutex_put
 541              	.LVL74:
 666:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 542              		.loc 1 666 25 is_stmt 1 view .LVU203
 666:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 543              		.loc 1 666 31 is_stmt 0 view .LVU204
 544 01e2 19E7     		b	.L1
 545              	.LVL75:
 546              	.L50:
 693:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 547              		.loc 1 693 21 is_stmt 1 view .LVU205
 548 01e4 0598     		ldr	r0, [sp, #20]
 549 01e6 FFF7FEFF 		bl	_tx_mutex_put
 550              	.LVL76:
 696:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 551              		.loc 1 696 21 view .LVU206
 696:Middlewares/ST/filex/common/src/fx_media_check.c ****                 }
 552              		.loc 1 696 27 is_stmt 0 view .LVU207
 553 01ea 9123     		movs	r3, #145
 554 01ec 9B46     		mov	fp, r3
 555 01ee 13E7     		b	.L1
 556              	.L54:
 557              		.align	2
 558              	.L53:
 559 01f0 4944454D 		.word	1296385097
 560              	.L24:
 729:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 561              		.loc 1 729 17 is_stmt 1 view .LVU208
 729:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 562              		.loc 1 729 38 is_stmt 0 view .LVU209
 563 01f4 089B     		ldr	r3, [sp, #32]
 564 01f6 03FB09F3 		mul	r3, r3, r9
 729:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 565              		.loc 1 729 75 view .LVU210
 566 01fa A16B     		ldr	r1, [r4, #56]
 567 01fc E26B     		ldr	r2, [r4, #60]
 729:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 568              		.loc 1 729 59 view .LVU211
 569 01fe 5B1A     		subs	r3, r3, r1
 570 0200 62EB4202 		sbc	r2, r2, r2, lsl #1
 729:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 571              		.loc 1 729 20 view .LVU212
 572 0204 9945     		cmp	r9, r3
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 29


 573 0206 4FF00003 		mov	r3, #0
 574 020a 9341     		sbcs	r3, r3, r2
 575 020c 03D2     		bcs	.L26
 734:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 576              		.loc 1 734 21 is_stmt 1 view .LVU213
 734:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 577              		.loc 1 734 41 is_stmt 0 view .LVU214
 578 020e 3B68     		ldr	r3, [r7]
 734:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 579              		.loc 1 734 58 view .LVU215
 580 0210 43F00803 		orr	r3, r3, #8
 734:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 581              		.loc 1 734 38 view .LVU216
 582 0214 3B60     		str	r3, [r7]
 583              	.L26:
 743:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 584              		.loc 1 743 17 is_stmt 1 view .LVU217
 743:Middlewares/ST/filex/common/src/fx_media_check.c ****             }
 585              		.loc 1 743 18 is_stmt 0 view .LVU218
 586 0216 079B     		ldr	r3, [sp, #28]
 587 0218 0133     		adds	r3, r3, #1
 588 021a 0793     		str	r3, [sp, #28]
 589              	.L13:
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 590              		.loc 1 443 15 is_stmt 1 view .LVU219
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 591              		.loc 1 443 37 is_stmt 0 view .LVU220
 592 021c 06EB4603 		add	r3, r6, r6, lsl #1
 593 0220 4FEA830B 		lsl	fp, r3, #2
 594 0224 08EB8303 		add	r3, r8, r3, lsl #2
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 595              		.loc 1 443 62 view .LVU221
 596 0228 5A68     		ldr	r2, [r3, #4]
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 597              		.loc 1 443 18 view .LVU222
 598 022a 079B     		ldr	r3, [sp, #28]
 443:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 599              		.loc 1 443 15 view .LVU223
 600 022c 9A42     		cmp	r2, r3
 601 022e 7DD9     		bls	.L15
 451:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 602              		.loc 1 451 13 is_stmt 1 view .LVU224
 451:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 603              		.loc 1 451 23 is_stmt 0 view .LVU225
 604 0230 2346     		mov	r3, r4
 605 0232 07AA     		add	r2, sp, #28
 606 0234 0399     		ldr	r1, [sp, #12]
 607 0236 2846     		mov	r0, r5
 608 0238 FFF7FEFF 		bl	_fx_directory_entry_read
 609              	.LVL77:
 455:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 610              		.loc 1 455 13 is_stmt 1 view .LVU226
 455:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 611              		.loc 1 455 16 is_stmt 0 view .LVU227
 612 023c 0028     		cmp	r0, #0
 613 023e 95D1     		bne	.L44
 469:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 30


 614              		.loc 1 469 13 is_stmt 1 view .LVU228
 469:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 615              		.loc 1 469 31 is_stmt 0 view .LVU229
 616 0240 2368     		ldr	r3, [r4]
 469:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 617              		.loc 1 469 51 view .LVU230
 618 0242 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 469:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 619              		.loc 1 469 16 view .LVU231
 620 0244 002B     		cmp	r3, #0
 621 0246 71D0     		beq	.L15
 481:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 622              		.loc 1 481 13 is_stmt 1 view .LVU232
 481:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 623              		.loc 1 481 16 is_stmt 0 view .LVU233
 624 0248 E52B     		cmp	r3, #229
 625 024a 02D1     		bne	.L16
 481:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 626              		.loc 1 481 128 discriminator 1 view .LVU234
 627 024c 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 481:Middlewares/ST/filex/common/src/fx_media_check.c **** #endif /* FX_ENABLE_EXFAT */
 628              		.loc 1 481 84 discriminator 1 view .LVU235
 629 024e 002B     		cmp	r3, #0
 630 0250 91D0     		beq	.L45
 631              	.L16:
 534:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                                   &last_cluster, &valid_clusters, l
 632              		.loc 1 534 17 is_stmt 1 view .LVU236
 534:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                                   &last_cluster, &valid_clusters, l
 633              		.loc 1 534 35 is_stmt 0 view .LVU237
 634 0252 049B     		ldr	r3, [sp, #16]
 635 0254 0093     		str	r3, [sp]
 636 0256 08AB     		add	r3, sp, #32
 637 0258 09AA     		add	r2, sp, #36
 638 025a 616B     		ldr	r1, [r4, #52]
 639 025c 2846     		mov	r0, r5
 640              	.LVL78:
 534:Middlewares/ST/filex/common/src/fx_media_check.c ****                                                                   &last_cluster, &valid_clusters, l
 641              		.loc 1 534 35 view .LVU238
 642 025e FFF7FEFF 		bl	_fx_media_check_FAT_chain_check
 643              	.LVL79:
 541:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 644              		.loc 1 541 13 is_stmt 1 view .LVU239
 541:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 645              		.loc 1 541 33 is_stmt 0 view .LVU240
 646 0262 3B68     		ldr	r3, [r7]
 541:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 647              		.loc 1 541 50 view .LVU241
 648 0264 0343     		orrs	r3, r3, r0
 541:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 649              		.loc 1 541 30 view .LVU242
 650 0266 3B60     		str	r3, [r7]
 547:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 651              		.loc 1 547 13 is_stmt 1 view .LVU243
 547:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 652              		.loc 1 547 16 is_stmt 0 view .LVU244
 653 0268 10F0900F 		tst	r0, #144
 654 026c 87D1     		bne	.L46
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 31


 558:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 655              		.loc 1 558 13 is_stmt 1 view .LVU245
 558:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 656              		.loc 1 558 16 is_stmt 0 view .LVU246
 657 026e 33B1     		cbz	r3, .L19
 562:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 658              		.loc 1 562 17 is_stmt 1 view .LVU247
 562:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 659              		.loc 1 562 20 is_stmt 0 view .LVU248
 660 0270 029B     		ldr	r3, [sp, #8]
 661 0272 13F0010F 		tst	r3, #1
 662 0276 02D0     		beq	.L19
 566:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 663              		.loc 1 566 21 is_stmt 1 view .LVU249
 566:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 664              		.loc 1 566 25 is_stmt 0 view .LVU250
 665 0278 089B     		ldr	r3, [sp, #32]
 566:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 666              		.loc 1 566 24 view .LVU251
 667 027a 002B     		cmp	r3, #0
 668 027c 85D1     		bne	.L47
 669              	.LVL80:
 670              	.L19:
 587:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 671              		.loc 1 587 13 is_stmt 1 view .LVU252
 587:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 672              		.loc 1 587 31 is_stmt 0 view .LVU253
 673 027e A16B     		ldr	r1, [r4, #56]
 674 0280 E26B     		ldr	r2, [r4, #60]
 587:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 675              		.loc 1 587 75 view .LVU254
 676 0282 089B     		ldr	r3, [sp, #32]
 677 0284 03FB09F3 		mul	r3, r3, r9
 678 0288 0020     		movs	r0, #0
 587:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 679              		.loc 1 587 16 view .LVU255
 680 028a 8B42     		cmp	r3, r1
 681 028c 70EB0202 		sbcs	r2, r0, r2
 682 0290 14D2     		bcs	.L20
 591:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 683              		.loc 1 591 17 is_stmt 1 view .LVU256
 591:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 684              		.loc 1 591 57 is_stmt 0 view .LVU257
 685 0292 A363     		str	r3, [r4, #56]
 686 0294 E063     		str	r0, [r4, #60]
 594:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 687              		.loc 1 594 17 is_stmt 1 view .LVU258
 594:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 688              		.loc 1 594 20 is_stmt 0 view .LVU259
 689 0296 63B9     		cbnz	r3, .L21
 598:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 690              		.loc 1 598 21 is_stmt 1 view .LVU260
 598:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 691              		.loc 1 598 41 is_stmt 0 view .LVU261
 692 0298 3B68     		ldr	r3, [r7]
 598:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 693              		.loc 1 598 58 view .LVU262
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 32


 694 029a 43F00203 		orr	r3, r3, #2
 598:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 695              		.loc 1 598 38 view .LVU263
 696 029e 3B60     		str	r3, [r7]
 604:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 697              		.loc 1 604 21 is_stmt 1 view .LVU264
 604:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 698              		.loc 1 604 59 is_stmt 0 view .LVU265
 699 02a0 6063     		str	r0, [r4, #52]
 607:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 700              		.loc 1 607 21 is_stmt 1 view .LVU266
 607:Middlewares/ST/filex/common/src/fx_media_check.c ****                     {
 701              		.loc 1 607 24 is_stmt 0 view .LVU267
 702 02a2 029B     		ldr	r3, [sp, #8]
 703 02a4 13F0020F 		tst	r3, #2
 704 02a8 03D0     		beq	.L21
 611:Middlewares/ST/filex/common/src/fx_media_check.c ****                         dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 705              		.loc 1 611 25 is_stmt 1 view .LVU268
 611:Middlewares/ST/filex/common/src/fx_media_check.c ****                         dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 706              		.loc 1 611 39 is_stmt 0 view .LVU269
 707 02aa 2268     		ldr	r2, [r4]
 611:Middlewares/ST/filex/common/src/fx_media_check.c ****                         dir_entry_ptr -> fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 708              		.loc 1 611 63 view .LVU270
 709 02ac E523     		movs	r3, #229
 710 02ae 1370     		strb	r3, [r2]
 612:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 711              		.loc 1 612 25 is_stmt 1 view .LVU271
 612:Middlewares/ST/filex/common/src/fx_media_check.c ****                     }
 712              		.loc 1 612 69 is_stmt 0 view .LVU272
 713 02b0 2371     		strb	r3, [r4, #4]
 714              	.L21:
 617:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 715              		.loc 1 617 17 is_stmt 1 view .LVU273
 617:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 716              		.loc 1 617 20 is_stmt 0 view .LVU274
 717 02b2 029B     		ldr	r3, [sp, #8]
 718 02b4 13F0010F 		tst	r3, #1
 719 02b8 7FF476AF 		bne	.L48
 720              	.L20:
 637:Middlewares/ST/filex/common/src/fx_media_check.c ****                  && (valid_clusters == 0))
 721              		.loc 1 637 13 is_stmt 1 view .LVU275
 637:Middlewares/ST/filex/common/src/fx_media_check.c ****                  && (valid_clusters == 0))
 722              		.loc 1 637 32 is_stmt 0 view .LVU276
 723 02bc 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 637:Middlewares/ST/filex/common/src/fx_media_check.c ****                  && (valid_clusters == 0))
 724              		.loc 1 637 16 view .LVU277
 725 02be 13F0100F 		tst	r3, #16
 726 02c2 0AD0     		beq	.L22
 638:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 727              		.loc 1 638 37 view .LVU278
 728 02c4 089B     		ldr	r3, [sp, #32]
 638:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 729              		.loc 1 638 18 view .LVU279
 730 02c6 43B9     		cbnz	r3, .L22
 642:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 731              		.loc 1 642 17 is_stmt 1 view .LVU280
 642:Middlewares/ST/filex/common/src/fx_media_check.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 33


 732              		.loc 1 642 37 is_stmt 0 view .LVU281
 733 02c8 3B68     		ldr	r3, [r7]
 642:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 734              		.loc 1 642 54 view .LVU282
 735 02ca 43F00203 		orr	r3, r3, #2
 642:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 736              		.loc 1 642 34 view .LVU283
 737 02ce 3B60     		str	r3, [r7]
 648:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 738              		.loc 1 648 17 is_stmt 1 view .LVU284
 648:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 739              		.loc 1 648 20 is_stmt 0 view .LVU285
 740 02d0 029B     		ldr	r3, [sp, #8]
 741 02d2 13F0020F 		tst	r3, #2
 742 02d6 7FF473AF 		bne	.L49
 743              	.L22:
 676:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 744              		.loc 1 676 13 is_stmt 1 view .LVU286
 676:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 745              		.loc 1 676 31 is_stmt 0 view .LVU287
 746 02da 237F     		ldrb	r3, [r4, #28]	@ zero_extendqisi2
 676:Middlewares/ST/filex/common/src/fx_media_check.c ****             {
 747              		.loc 1 676 16 view .LVU288
 748 02dc 13F0100F 		tst	r3, #16
 749 02e0 88D0     		beq	.L24
 683:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 750              		.loc 1 683 17 is_stmt 1 view .LVU289
 683:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 751              		.loc 1 683 89 is_stmt 0 view .LVU290
 752 02e2 079B     		ldr	r3, [sp, #28]
 753 02e4 0133     		adds	r3, r3, #1
 683:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 754              		.loc 1 683 84 view .LVU291
 755 02e6 48F80B30 		str	r3, [r8, fp]
 686:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 756              		.loc 1 686 17 is_stmt 1 view .LVU292
 686:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 757              		.loc 1 686 40 is_stmt 0 view .LVU293
 758 02ea 0136     		adds	r6, r6, #1
 759              	.LVL81:
 689:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 760              		.loc 1 689 17 is_stmt 1 view .LVU294
 689:Middlewares/ST/filex/common/src/fx_media_check.c ****                 {
 761              		.loc 1 689 20 is_stmt 0 view .LVU295
 762 02ec 132E     		cmp	r6, #19
 763 02ee 3FF679AF 		bhi	.L50
 700:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_start_cluster =      dir_entry_p
 764              		.loc 1 700 17 is_stmt 1 view .LVU296
 700:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_start_cluster =      dir_entry_p
 765              		.loc 1 700 105 is_stmt 0 view .LVU297
 766 02f2 089B     		ldr	r3, [sp, #32]
 767 02f4 03FB09F3 		mul	r3, r3, r9
 700:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_start_cluster =      dir_entry_p
 768              		.loc 1 700 34 view .LVU298
 769 02f8 06EB4601 		add	r1, r6, r6, lsl #1
 770 02fc 08EB8102 		add	r2, r8, r1, lsl #2
 700:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_start_cluster =      dir_entry_p
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 34


 771              		.loc 1 700 126 view .LVU299
 772 0300 5B09     		lsrs	r3, r3, #5
 700:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_start_cluster =      dir_entry_p
 773              		.loc 1 700 82 view .LVU300
 774 0302 5360     		str	r3, [r2, #4]
 701:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_directory_entry =    2;
 775              		.loc 1 701 17 is_stmt 1 view .LVU301
 701:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_directory_entry =    2;
 776              		.loc 1 701 103 is_stmt 0 view .LVU302
 777 0304 636B     		ldr	r3, [r4, #52]
 701:Middlewares/ST/filex/common/src/fx_media_check.c ****                 current_directory[current_directory_index].current_directory_entry =    2;
 778              		.loc 1 701 82 view .LVU303
 779 0306 9360     		str	r3, [r2, #8]
 702:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 780              		.loc 1 702 17 is_stmt 1 view .LVU304
 702:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 781              		.loc 1 702 84 is_stmt 0 view .LVU305
 782 0308 0223     		movs	r3, #2
 783 030a 48F82130 		str	r3, [r8, r1, lsl #2]
 705:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_file_size =            current_directory[current_dir
 784              		.loc 1 705 17 is_stmt 1 view .LVU306
 705:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_file_size =            current_directory[current_dir
 785              		.loc 1 705 85 is_stmt 0 view .LVU307
 786 030e 616B     		ldr	r1, [r4, #52]
 705:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_file_size =            current_directory[current_dir
 787              		.loc 1 705 56 view .LVU308
 788 0310 CAF83410 		str	r1, [r10, #52]
 706:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 789              		.loc 1 706 17 is_stmt 1 view .LVU309
 706:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 790              		.loc 1 706 113 is_stmt 0 view .LVU310
 791 0314 5168     		ldr	r1, [r2, #4]
 792 0316 0022     		movs	r2, #0
 706:Middlewares/ST/filex/common/src/fx_media_check.c ****                 source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 793              		.loc 1 706 58 view .LVU311
 794 0318 CAF83810 		str	r1, [r10, #56]
 795 031c CAF83C20 		str	r2, [r10, #60]
 707:Middlewares/ST/filex/common/src/fx_media_check.c ****                 temp_dir_ptr =                                        source_dir_ptr;
 796              		.loc 1 707 17 is_stmt 1 view .LVU312
 707:Middlewares/ST/filex/common/src/fx_media_check.c ****                 temp_dir_ptr =                                        source_dir_ptr;
 797              		.loc 1 707 68 is_stmt 0 view .LVU313
 798 0320 CAF85020 		str	r2, [r10, #80]
 708:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 799              		.loc 1 708 17 is_stmt 1 view .LVU314
 800              	.LVL82:
 711:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 801              		.loc 1 711 17 view .LVU315
 711:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 802              		.loc 1 711 19 is_stmt 0 view .LVU316
 803 0324 0793     		str	r3, [sp, #28]
 708:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 804              		.loc 1 708 30 view .LVU317
 805 0326 CDF80CA0 		str	r10, [sp, #12]
 806 032a 77E7     		b	.L13
 807              	.LVL83:
 808              	.L15:
 751:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 35


 809              		.loc 1 751 9 is_stmt 1 view .LVU318
 751:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 810              		.loc 1 751 12 is_stmt 0 view .LVU319
 811 032c CEB1     		cbz	r6, .L28
 759:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 812              		.loc 1 759 9 is_stmt 1 view .LVU320
 759:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 813              		.loc 1 759 32 is_stmt 0 view .LVU321
 814 032e 013E     		subs	r6, r6, #1
 815              	.LVL84:
 762:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 816              		.loc 1 762 9 is_stmt 1 view .LVU322
 762:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 817              		.loc 1 762 30 is_stmt 0 view .LVU323
 818 0330 06EB4603 		add	r3, r6, r6, lsl #1
 819 0334 08EB8303 		add	r3, r8, r3, lsl #2
 762:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 820              		.loc 1 762 55 view .LVU324
 821 0338 9A68     		ldr	r2, [r3, #8]
 762:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 822              		.loc 1 762 91 view .LVU325
 823 033a 05F50051 		add	r1, r5, #8192
 824 033e D1F8AC14 		ldr	r1, [r1, #1196]
 762:Middlewares/ST/filex/common/src/fx_media_check.c ****         {
 825              		.loc 1 762 12 view .LVU326
 826 0342 8A42     		cmp	r2, r1
 827 0344 3FF40FAF 		beq	.L34
 773:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_file_size =            current_directory[current_directo
 828              		.loc 1 773 13 is_stmt 1 view .LVU327
 773:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_file_size =            current_directory[current_directo
 829              		.loc 1 773 52 is_stmt 0 view .LVU328
 830 0348 CAF83420 		str	r2, [r10, #52]
 774:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 831              		.loc 1 774 13 is_stmt 1 view .LVU329
 774:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 832              		.loc 1 774 109 is_stmt 0 view .LVU330
 833 034c 5A68     		ldr	r2, [r3, #4]
 834 034e 0023     		movs	r3, #0
 774:Middlewares/ST/filex/common/src/fx_media_check.c ****             source_dir_ptr -> fx_dir_entry_last_search_cluster =  0;
 835              		.loc 1 774 54 view .LVU331
 836 0350 CAF83820 		str	r2, [r10, #56]
 837 0354 CAF83C30 		str	r3, [r10, #60]
 775:Middlewares/ST/filex/common/src/fx_media_check.c ****             temp_dir_ptr =                                        source_dir_ptr;
 838              		.loc 1 775 13 is_stmt 1 view .LVU332
 775:Middlewares/ST/filex/common/src/fx_media_check.c ****             temp_dir_ptr =                                        source_dir_ptr;
 839              		.loc 1 775 64 is_stmt 0 view .LVU333
 840 0358 CAF85030 		str	r3, [r10, #80]
 776:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 841              		.loc 1 776 13 is_stmt 1 view .LVU334
 842              	.LVL85:
 776:Middlewares/ST/filex/common/src/fx_media_check.c ****         }
 843              		.loc 1 776 26 is_stmt 0 view .LVU335
 844 035c CDF80CA0 		str	r10, [sp, #12]
 845 0360 C5E6     		b	.L12
 846              	.LVL86:
 847              	.L28:
 794:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 36


 848              		.loc 1 794 9 is_stmt 1 view .LVU336
 794:Middlewares/ST/filex/common/src/fx_media_check.c **** #ifdef FX_ENABLE_EXFAT
 849              		.loc 1 794 27 is_stmt 0 view .LVU337
 850 0362 029B     		ldr	r3, [sp, #8]
 851 0364 2A6C     		ldr	r2, [r5, #64]
 852 0366 0499     		ldr	r1, [sp, #16]
 853 0368 2846     		mov	r0, r5
 854 036a FFF7FEFF 		bl	_fx_media_check_lost_cluster_check
 855              	.LVL87:
 800:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 856              		.loc 1 800 5 is_stmt 1 view .LVU338
 800:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 857              		.loc 1 800 25 is_stmt 0 view .LVU339
 858 036e 3B68     		ldr	r3, [r7]
 800:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 859              		.loc 1 800 42 view .LVU340
 860 0370 0343     		orrs	r3, r3, r0
 800:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 861              		.loc 1 800 22 view .LVU341
 862 0372 3B60     		str	r3, [r7]
 806:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 863              		.loc 1 806 5 is_stmt 1 view .LVU342
 806:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 864              		.loc 1 806 8 is_stmt 0 view .LVU343
 865 0374 10F09002 		ands	r2, r0, #144
 866 0378 9346     		mov	fp, r2
 867 037a 06D1     		bne	.L51
 817:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 868              		.loc 1 817 5 is_stmt 1 view .LVU344
 817:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 869              		.loc 1 817 8 is_stmt 0 view .LVU345
 870 037c 0BB1     		cbz	r3, .L31
 817:Middlewares/ST/filex/common/src/fx_media_check.c ****     {
 871              		.loc 1 817 28 discriminator 1 view .LVU346
 872 037e 029B     		ldr	r3, [sp, #8]
 873 0380 4BB9     		cbnz	r3, .L52
 874              	.LVL88:
 875              	.L31:
 825:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 876              		.loc 1 825 5 is_stmt 1 view .LVU347
 877 0382 0598     		ldr	r0, [sp, #20]
 878 0384 FFF7FEFF 		bl	_tx_mutex_put
 879              	.LVL89:
 828:Middlewares/ST/filex/common/src/fx_media_check.c **** }
 880              		.loc 1 828 5 view .LVU348
 828:Middlewares/ST/filex/common/src/fx_media_check.c **** }
 881              		.loc 1 828 11 is_stmt 0 view .LVU349
 882 0388 46E6     		b	.L1
 883              	.LVL90:
 884              	.L51:
 810:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 885              		.loc 1 810 9 is_stmt 1 view .LVU350
 886 038a 0598     		ldr	r0, [sp, #20]
 887              	.LVL91:
 810:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 888              		.loc 1 810 9 is_stmt 0 view .LVU351
 889 038c FFF7FEFF 		bl	_tx_mutex_put
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 37


 890              	.LVL92:
 813:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 891              		.loc 1 813 9 is_stmt 1 view .LVU352
 813:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 892              		.loc 1 813 15 is_stmt 0 view .LVU353
 893 0390 9023     		movs	r3, #144
 894 0392 9B46     		mov	fp, r3
 895 0394 40E6     		b	.L1
 896              	.LVL93:
 897              	.L52:
 821:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 898              		.loc 1 821 9 is_stmt 1 view .LVU354
 899 0396 2846     		mov	r0, r5
 900              	.LVL94:
 821:Middlewares/ST/filex/common/src/fx_media_check.c ****     }
 901              		.loc 1 821 9 is_stmt 0 view .LVU355
 902 0398 FFF7FEFF 		bl	_fx_media_flush
 903              	.LVL95:
 904 039c F1E7     		b	.L31
 905              	.LVL96:
 906              	.L33:
 203:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 907              		.loc 1 203 5 view .LVU356
 908 039e 1123     		movs	r3, #17
 909 03a0 9B46     		mov	fp, r3
 910              	.LVL97:
 203:Middlewares/ST/filex/common/src/fx_media_check.c **** 
 911              		.loc 1 203 5 view .LVU357
 912 03a2 39E6     		b	.L1
 913              		.cfi_endproc
 914              	.LFE8:
 916              		.text
 917              	.Letext0:
 918              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 919              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 920              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 921              		.file 5 "Middlewares/ST/filex/common/inc/fx_media.h"
 922              		.file 6 "Middlewares/ST/filex/common/inc/fx_utility.h"
 923              		.file 7 "Middlewares/ST/filex/common/inc/fx_directory.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccBFopbh.s 			page 38


DEFINED SYMBOLS
                            *ABS*:00000000 fx_media_check.c
C:\Users\HP\AppData\Local\Temp\ccBFopbh.s:20     .text._fx_media_check:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccBFopbh.s:26     .text._fx_media_check:00000000 _fx_media_check
C:\Users\HP\AppData\Local\Temp\ccBFopbh.s:559    .text._fx_media_check:000001f0 $d
C:\Users\HP\AppData\Local\Temp\ccBFopbh.s:563    .text._fx_media_check:000001f4 $t

UNDEFINED SYMBOLS
_tx_mutex_get
_fx_media_cache_invalidate
_tx_mutex_put
_fx_media_check_FAT_chain_check
_fx_utility_FAT_entry_write
_fx_directory_entry_write
_fx_directory_entry_read
_fx_media_check_lost_cluster_check
_fx_media_flush

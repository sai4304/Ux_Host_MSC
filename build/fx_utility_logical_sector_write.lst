ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_utility_logical_sector_write.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._fx_utility_logical_sector_write,"ax",%progbits
  20              		.align	1
  21              		.global	_fx_utility_logical_sector_write
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_fx_utility_logical_sector_write:
  27              	.LVL0:
  28              	.LFB8:
  29              		.file 1 "Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c"
   1:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  12:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  13:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**   Utility                                                             */
  19:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  23:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  25:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  26:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  28:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #include "fx_api.h"
  29:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #include "fx_system.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 2


  30:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #include "fx_utility.h"
  31:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  32:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #include "fx_fault_tolerant.h"
  33:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  34:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  35:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
  36:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
  37:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  38:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  FUNCTION                                               RELEASE        */
  39:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  40:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    _fx_utility_logical_sector_write                    PORTABLE C      */
  41:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                           6.1.6        */
  42:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  AUTHOR                                                                */
  43:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  44:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    William E. Lamie, Microsoft Corporation                             */
  45:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  46:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  DESCRIPTION                                                           */
  47:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  48:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    This function handles logical sector write requests for all FileX   */
  49:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    components.  If the logical sector is currently in the media's      */
  50:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    buffer supplied by the caller, the function simply marks the buffer */
  51:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    as written to.  Otherwise, physical I/O is requested through the    */
  52:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    corresponding I/O driver.                                           */
  53:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  54:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    Note: Conversion of the logical sector is done inside the driver.   */
  55:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*          This results in a performance boost for FLASH or RAM media    */
  56:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*          devices.                                                      */
  57:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  58:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  INPUT                                                                 */
  59:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  60:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    media_ptr                             Media control block pointer   */
  61:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    logical_sector                        Logical sector number         */
  62:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    buffer_ptr                            Pointer of sector buffer      */
  63:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    sectors                               Number of sectors to write    */
  64:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    sector_type                           Type of sector(s) to write    */
  65:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  66:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  OUTPUT                                                                */
  67:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  68:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    return status                                                       */
  69:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  70:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  CALLS                                                                 */
  71:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  72:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    _fx_utility_logical_sector_flush      Flush and invalidate sectors  */
  73:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                          that overlap with non-cache   */
  74:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                          sector I/O.                   */
  75:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    I/O Driver                                                          */
  76:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  77:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  CALLED BY                                                             */
  78:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  79:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    FileX System Functions                                              */
  80:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  81:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  RELEASE HISTORY                                                       */
  82:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  83:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*    DATE              NAME                      DESCRIPTION             */
  84:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  85:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  86:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  09-30-2020     William E. Lamie         Modified comment(s), and      */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 3


  87:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                            added conditional to        */
  88:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                            disable cache,              */
  89:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                            resulting in version 6.1    */
  90:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*  04-02-2021     Bhupendra Naphade        Modified comment(s),          */
  91:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                            updated check for logical   */
  92:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                            sector value,               */
  93:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                            resulting in version 6.1.6  */
  94:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /*                                                                        */
  95:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** /**************************************************************************/
  96:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** UINT  _fx_utility_logical_sector_write(FX_MEDIA *media_ptr, ULONG64 logical_sector,
  97:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                                        VOID *buffer_ptr, ULONG sectors, UCHAR sector_type)
  98:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** {
  30              		.loc 1 98 1 view -0
  31              		.cfi_startproc
  32              		@ args = 12, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 98 1 is_stmt 0 view .LVU1
  35 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 28
  38              		.cfi_offset 4, -28
  39              		.cfi_offset 5, -24
  40              		.cfi_offset 6, -20
  41              		.cfi_offset 7, -16
  42              		.cfi_offset 8, -12
  43              		.cfi_offset 9, -8
  44              		.cfi_offset 14, -4
  45 0004 85B0     		sub	sp, sp, #20
  46              	.LCFI1:
  47              		.cfi_def_cfa_offset 48
  48 0006 0446     		mov	r4, r0
  49 0008 1546     		mov	r5, r2
  50 000a 0C9F     		ldr	r7, [sp, #48]
  51 000c 0D9E     		ldr	r6, [sp, #52]
  52 000e 9DF83880 		ldrb	r8, [sp, #56]	@ zero_extendqisi2
  99:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 100:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifndef FX_DISABLE_CACHE
 101:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** FX_CACHED_SECTOR *cache_entry;
  53              		.loc 1 101 1 is_stmt 1 view .LVU2
 102:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** UINT              cache_size;
  54              		.loc 1 102 1 view .LVU3
 103:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** UINT              index;
  55              		.loc 1 103 1 view .LVU4
 104:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** UINT              i;
  56              		.loc 1 104 1 view .LVU5
 105:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** UCHAR             cache_found = FX_FALSE;
  57              		.loc 1 105 1 view .LVU6
  58              	.LVL1:
 106:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif /* FX_DISABLE_CACHE */
 107:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 108:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 109:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 110:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     /* Determine if the request is for FAT sector.  */
 111:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     if (sector_type == FX_FAT_SECTOR)
  59              		.loc 1 111 5 view .LVU7
  60              		.loc 1 111 8 is_stmt 0 view .LVU8
  61 0012 B8F1020F 		cmp	r8, #2
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 4


  62 0016 1ED0     		beq	.L27
  63              	.LVL2:
  64              	.L2:
 112:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     {
 113:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 114:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Increment the number of FAT sector writes.  */
 115:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_fat_sector_writes++;
 116:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
 117:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 118:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     /* Increment the number of logical sectors written.  */
 119:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     media_ptr -> fx_media_logical_sector_writes++;
  65              		.loc 1 119 5 is_stmt 1 view .LVU9
  66              		.loc 1 119 15 is_stmt 0 view .LVU10
  67 0018 D4F8A021 		ldr	r2, [r4, #416]
  68              		.loc 1 119 48 view .LVU11
  69 001c 0132     		adds	r2, r2, #1
  70 001e C4F8A021 		str	r2, [r4, #416]
 120:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 121:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 122:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     /* Extended port-specific processing macro, which is by default defined to white space.  */
 123:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     FX_UTILITY_LOGICAL_SECTOR_WRITE_EXTENSION
 124:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 125:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifndef FX_DISABLE_CACHE
 126:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     /* Determine if the request is from the internal media buffer area.  */
 127:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     if ((((UCHAR *)buffer_ptr) >= media_ptr -> fx_media_memory_buffer) &&
  71              		.loc 1 127 5 is_stmt 1 view .LVU12
  72              		.loc 1 127 45 is_stmt 0 view .LVU13
  73 0022 A268     		ldr	r2, [r4, #8]
  74              		.loc 1 127 8 view .LVU14
  75 0024 BA42     		cmp	r2, r7
  76 0026 00F28B80 		bhi	.L3
 128:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         (((UCHAR *)buffer_ptr) <= media_ptr -> fx_media_sector_cache_end))
  77              		.loc 1 128 45 discriminator 1 view .LVU15
  78 002a A269     		ldr	r2, [r4, #24]
 127:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         (((UCHAR *)buffer_ptr) <= media_ptr -> fx_media_sector_cache_end))
  79              		.loc 1 127 72 discriminator 1 view .LVU16
  80 002c BA42     		cmp	r2, r7
  81 002e C0F08780 		bcc	.L3
 129:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     {
 130:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 131:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Internal cache buffer is requested.  */
 132:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 133:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Determine if the logical sector cache access should use the hash function.  */
 134:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if (media_ptr -> fx_media_sector_cache_hashed)
  82              		.loc 1 134 9 is_stmt 1 view .LVU17
  83              		.loc 1 134 23 is_stmt 0 view .LVU18
  84 0032 2269     		ldr	r2, [r4, #16]
  85              		.loc 1 134 12 view .LVU19
  86 0034 002A     		cmp	r2, #0
  87 0036 61D0     		beq	.L4
 135:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 136:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 137:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Calculate the area of the cache for this logical sector.  */
 138:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             index =  (ULONG)(logical_sector & media_ptr -> fx_media_sector_cache_hash_mask) * FX_SE
  88              		.loc 1 138 13 is_stmt 1 view .LVU20
  89              		.loc 1 138 57 is_stmt 0 view .LVU21
  90 0038 04F50052 		add	r2, r4, #8192
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 5


  91 003c D2F8A024 		ldr	r2, [r2, #1184]
  92              		.loc 1 138 22 view .LVU22
  93 0040 2A40     		ands	r2, r2, r5
  94              	.LVL3:
 139:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 140:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Build a pointer to the cache entry.  */
 141:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             cache_entry =  &(media_ptr -> fx_media_sector_cache[index]);
  95              		.loc 1 141 13 is_stmt 1 view .LVU23
  96              		.loc 1 141 25 is_stmt 0 view .LVU24
  97 0042 D100     		lsls	r1, r2, #3
  98 0044 01EB8201 		add	r1, r1, r2, lsl #2
  99 0048 C900     		lsls	r1, r1, #3
 100 004a 01F54A61 		add	r1, r1, #3232
 101 004e 2144     		add	r1, r1, r4
 102              	.LVL4:
 142:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 143:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             for (i = 0; i < FX_SECTOR_CACHE_DEPTH; i++, cache_entry++)
 103              		.loc 1 143 13 is_stmt 1 view .LVU25
 104              		.loc 1 143 20 is_stmt 0 view .LVU26
 105 0050 4FF0000C 		mov	ip, #0
 106              		.loc 1 143 13 view .LVU27
 107 0054 08E0     		b	.L5
 108              	.LVL5:
 109              	.L27:
 115:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
 110              		.loc 1 115 9 is_stmt 1 view .LVU28
 115:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
 111              		.loc 1 115 19 is_stmt 0 view .LVU29
 112 0056 D0F89821 		ldr	r2, [r0, #408]
 113              	.LVL6:
 115:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
 114              		.loc 1 115 48 view .LVU30
 115 005a 0132     		adds	r2, r2, #1
 116 005c C0F89821 		str	r2, [r0, #408]
 117 0060 DAE7     		b	.L2
 118              	.LVL7:
 119              	.L6:
 120              		.loc 1 143 52 is_stmt 1 discriminator 2 view .LVU31
 121              		.loc 1 143 53 is_stmt 0 discriminator 2 view .LVU32
 122 0062 0CF1010C 		add	ip, ip, #1
 123              	.LVL8:
 124              		.loc 1 143 68 discriminator 2 view .LVU33
 125 0066 1831     		adds	r1, r1, #24
 126              	.LVL9:
 127              	.L5:
 128              		.loc 1 143 25 is_stmt 1 discriminator 1 view .LVU34
 129              		.loc 1 143 13 is_stmt 0 discriminator 1 view .LVU35
 130 0068 BCF1030F 		cmp	ip, #3
 131 006c 0AD8     		bhi	.L28
 144:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 145:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 146:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 147:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Determine if the logical sector is in the cache - assuming the depth of the
 148:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                    sector cache is 4 entries.  */
 149:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 if ((cache_entry -> fx_cached_sector_valid) && (cache_entry -> fx_cached_sector == 
 132              		.loc 1 149 17 is_stmt 1 view .LVU36
 133              		.loc 1 149 34 is_stmt 0 view .LVU37
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 6


 134 006e 4A7C     		ldrb	r2, [r1, #17]	@ zero_extendqisi2
 135              		.loc 1 149 20 view .LVU38
 136 0070 002A     		cmp	r2, #0
 137 0072 F6D0     		beq	.L6
 138              		.loc 1 149 77 discriminator 1 view .LVU39
 139 0074 8868     		ldr	r0, [r1, #8]
 140 0076 CA68     		ldr	r2, [r1, #12]
 141              		.loc 1 149 61 discriminator 1 view .LVU40
 142 0078 9A42     		cmp	r2, r3
 143 007a 08BF     		it	eq
 144 007c A842     		cmpeq	r0, r5
 145 007e F0D1     		bne	.L6
 150:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 151:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     cache_found = FX_TRUE;
 146              		.loc 1 151 33 view .LVU41
 147 0080 0122     		movs	r2, #1
 148 0082 00E0     		b	.L7
 149              	.L28:
 105:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif /* FX_DISABLE_CACHE */
 150              		.loc 1 105 19 view .LVU42
 151 0084 0022     		movs	r2, #0
 152              	.LVL10:
 153              	.L7:
 152:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     break;
 153:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 }
 154:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 155:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 156:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         else
 157:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 158:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 159:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Search for an entry in the cache that matches this request.  */
 160:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             cache_size =            media_ptr -> fx_media_sector_cache_size;
 161:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             cache_entry =           media_ptr -> fx_media_sector_cache_list_ptr;
 162:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 163:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Look at the cache entries until a match is found or the end of
 164:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                the cache is reached.  */
 165:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             while (cache_size--)
 166:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 167:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 168:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Determine if the requested sector has been found.  */
 169:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 if ((cache_entry -> fx_cached_sector_valid) && (cache_entry -> fx_cached_sector == 
 170:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 171:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     cache_found = FX_TRUE;
 172:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     break;
 173:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 }
 174:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 175:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Otherwise, we have not found the cached entry yet.  */
 176:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 177:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* If there are more entries, move to the next one.  */
 178:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 if (cache_entry -> fx_cached_sector_next_used)
 179:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 180:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 181:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     /* Move to the next cache entry.  */
 182:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     cache_entry =  cache_entry -> fx_cached_sector_next_used;
 183:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 }
 184:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 185:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 7


 186:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 187:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 188:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if (media_ptr -> fx_media_fault_tolerant_enabled &&
 189:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             (media_ptr -> fx_media_fault_tolerant_state & FX_FAULT_TOLERANT_STATE_STARTED) &&
 190:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             (sector_type == FX_DATA_SECTOR) &&
 191:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             !(cache_found && (cache_entry -> fx_cached_sector_memory_buffer == buffer_ptr)))
 192:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 193:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 194:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Special use case for file write when fault tolerant is enabled. */
 195:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Data are read from one sector but write to another sector. */
 196:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Need to invalidate both of original and new caches. */
 197:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             if (cache_found)
 198:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 199:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 200:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Invalidate the new cache. */
 201:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 cache_entry -> fx_cached_sector_valid = FX_FALSE;
 202:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 cache_found = FX_FALSE;
 203:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 204:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 205:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Search for original cache.  */
 206:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             cache_size =            media_ptr -> fx_media_sector_cache_size;
 207:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             cache_entry =           media_ptr -> fx_media_sector_cache_list_ptr;
 208:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 209:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Look at the cache entries until a match is found or the end of
 210:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                the cache is reached.  */
 211:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             while (cache_size--)
 212:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 213:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 214:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Determine if the original sector has been found.  */
 215:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 if ((cache_entry -> fx_cached_sector_valid) &&
 216:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     (cache_entry -> fx_cached_sector_memory_buffer == buffer_ptr))
 217:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 218:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 219:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     /* Invalidate the original cache. */
 220:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     cache_entry -> fx_cached_sector_valid = FX_FALSE;
 221:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     break;
 222:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 }
 223:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 224:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Otherwise, we have not found the cached entry yet.  */
 225:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 226:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* If there are more entries, move to the next one.  */
 227:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 if (cache_entry -> fx_cached_sector_next_used)
 228:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 229:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 230:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     /* Move to the next cache entry.  */
 231:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     cache_entry =  cache_entry -> fx_cached_sector_next_used;
 232:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 }
 233:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 234:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 235:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 236:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 237:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if (cache_found)
 154              		.loc 1 237 9 is_stmt 1 view .LVU43
 155              		.loc 1 237 12 is_stmt 0 view .LVU44
 156 0086 002A     		cmp	r2, #0
 157 0088 51D1     		bne	.L29
 238:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 8


 239:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 240:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Yes, we found a match.  */
 241:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 242:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_FAULT_TOLERANT
 243:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 244:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Check for a system sector. Data sector fault tolerance is selected with
 245:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                the FX_FAULT_TOLERANT_DATA option.  */
 246:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             if (sector_type != FX_DATA_SECTOR)
 247:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 248:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 249:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* With the fault tolerant option enabled, system sectors are written immediately t
 250:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                    the media.  */
 251:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 252:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 253:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 254:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Increment the number of driver write sector(s) requests.  */
 255:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_write_requests++;
 256:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 257:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 258:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Build write request to the driver.  */
 259:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_request =          FX_DRIVER_WRITE;
 260:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_status =           FX_IO_ERROR;
 261:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_buffer =           cache_entry -> fx_cached_sector_mem
 262:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_DRIVER_USE_64BIT_LBA
 263:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_logical_sector =   logical_sector;
 264:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #else
 265:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_logical_sector =   (ULONG)logical_sector;
 266:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 267:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_sectors =          1;
 268:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_sector_type =      sector_type;
 269:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 270:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Yes, a system sector write is present so set the flag.  The driver
 271:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                    can use this flag to make extra safeguards in writing the sector
 272:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                    out, yielding more fault tolerance.  */
 273:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_system_write =  FX_TRUE;
 274:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 275:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* If trace is enabled, insert this event into the trace buffer.  */
 276:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 FX_TRACE_IN_LINE_INSERT(FX_TRACE_INTERNAL_IO_DRIVER_WRITE, media_ptr, logical_secto
 277:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 278:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Invoke the driver to write the sector(s).  */
 279:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 (media_ptr -> fx_media_driver_entry) (media_ptr);
 280:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 281:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Clear the system write flag.  */
 282:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_driver_system_write =  FX_FALSE;
 283:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 284:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Return success.  */
 285:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 return(media_ptr -> fx_media_driver_status);
 286:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 287:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 288:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 289:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Determine if this is the first write of this logical sector.  */
 290:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             if (cache_entry -> fx_cached_sector_buffer_dirty == FX_FALSE)
 291:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 292:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 293:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Yes, increment the number of outstanding dirty sectors.  */
 294:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 media_ptr -> fx_media_sector_cache_dirty_count++;
 295:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 9


 296:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 /* Simply mark this entry as dirty.  */
 297:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 cache_entry -> fx_cached_sector_buffer_dirty =  FX_TRUE;
 298:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 299:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 300:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Don't bother updating the cache linked list since writes are
 301:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                preceded by reads anyway.  */
 302:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 303:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Success, return to caller immediately!  */
 304:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             return(FX_SUCCESS);
 305:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 306:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 307:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 308:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Okay, so if we are here the request must be for the additional FAT writes, since this is
 309:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****            only time a write request is made without a preceding read request.  */
 310:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 311:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Is the logical sector valid?  */
 312:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if ((logical_sector == 0) || (logical_sector == ((ULONG)0xFFFFFFFF)))
 158              		.loc 1 312 9 is_stmt 1 view .LVU45
 159              		.loc 1 312 12 is_stmt 0 view .LVU46
 160 008a 55EA0302 		orrs	r2, r5, r3
 161              	.LVL11:
 162              		.loc 1 312 12 view .LVU47
 163 008e 00F09B80 		beq	.L20
 164              		.loc 1 312 35 discriminator 1 view .LVU48
 165 0092 002B     		cmp	r3, #0
 166 0094 08BF     		it	eq
 167 0096 B5F1FF3F 		cmpeq	r5, #-1
 168 009a 00F09780 		beq	.L21
 313:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 314:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             return(FX_SECTOR_INVALID);
 315:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 316:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 317:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Compare logical sector against total sectors to make sure it is valid.  */
 318:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if ((logical_sector + sectors - 1) >= media_ptr -> fx_media_total_sectors)
 169              		.loc 1 318 9 is_stmt 1 view .LVU49
 170              		.loc 1 318 29 is_stmt 0 view .LVU50
 171 009e 7219     		adds	r2, r6, r5
 172 00a0 43F10003 		adc	r3, r3, #0
 173              		.loc 1 318 39 view .LVU51
 174 00a4 013A     		subs	r2, r2, #1
 175 00a6 43F1FF33 		adc	r3, r3, #-1
 176              		.loc 1 318 57 view .LVU52
 177 00aa A06B     		ldr	r0, [r4, #56]
 178 00ac E16B     		ldr	r1, [r4, #60]
 179              	.LVL12:
 180              		.loc 1 318 12 view .LVU53
 181 00ae 8242     		cmp	r2, r0
 182 00b0 8B41     		sbcs	r3, r3, r1
 183 00b2 80F08D80 		bcs	.L22
 319:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 320:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             return(FX_SECTOR_INVALID);
 321:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 322:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 323:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Just write the buffer to the media.  */
 324:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 325:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 326:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 10


 327:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Increment the number of driver write sector(s) requests.  */
 328:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_write_requests++;
 184              		.loc 1 328 9 is_stmt 1 view .LVU54
 185              		.loc 1 328 19 is_stmt 0 view .LVU55
 186 00b6 D4F8B031 		ldr	r3, [r4, #432]
 187              		.loc 1 328 52 view .LVU56
 188 00ba 0133     		adds	r3, r3, #1
 189 00bc C4F8B031 		str	r3, [r4, #432]
 329:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 330:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 331:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Build write request to the driver.  */
 332:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_request =          FX_DRIVER_WRITE;
 190              		.loc 1 332 9 is_stmt 1 view .LVU57
 191              		.loc 1 332 46 is_stmt 0 view .LVU58
 192 00c0 0123     		movs	r3, #1
 193 00c2 C4F88830 		str	r3, [r4, #136]
 333:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_status =           FX_IO_ERROR;
 194              		.loc 1 333 9 is_stmt 1 view .LVU59
 195              		.loc 1 333 45 is_stmt 0 view .LVU60
 196 00c6 9023     		movs	r3, #144
 197 00c8 C4F88C30 		str	r3, [r4, #140]
 334:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_buffer =           buffer_ptr;
 198              		.loc 1 334 9 is_stmt 1 view .LVU61
 199              		.loc 1 334 45 is_stmt 0 view .LVU62
 200 00cc C4F89070 		str	r7, [r4, #144]
 335:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_DRIVER_USE_64BIT_LBA
 336:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_logical_sector =   logical_sector;
 337:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #else
 338:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_logical_sector =   (ULONG)logical_sector;
 201              		.loc 1 338 9 is_stmt 1 view .LVU63
 202              		.loc 1 338 53 is_stmt 0 view .LVU64
 203 00d0 C4F89450 		str	r5, [r4, #148]
 339:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 340:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_sectors =          sectors;
 204              		.loc 1 340 9 is_stmt 1 view .LVU65
 205              		.loc 1 340 46 is_stmt 0 view .LVU66
 206 00d4 C4F89860 		str	r6, [r4, #152]
 341:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_sector_type =      sector_type;
 207              		.loc 1 341 9 is_stmt 1 view .LVU67
 208              		.loc 1 341 50 is_stmt 0 view .LVU68
 209 00d8 C4F8B880 		str	r8, [r4, #184]
 342:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 343:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Determine if the system write flag needs to be set.  */
 344:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if (sector_type != FX_DATA_SECTOR)
 210              		.loc 1 344 9 is_stmt 1 view .LVU69
 211              		.loc 1 344 12 is_stmt 0 view .LVU70
 212 00dc B8F1040F 		cmp	r8, #4
 213 00e0 02D0     		beq	.L16
 345:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 346:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 347:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Yes, a system sector write is present so set the flag.  The driver
 348:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                can use this flag to make extra safeguards in writing the sector
 349:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                out, yielding more fault tolerance.  */
 350:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             media_ptr -> fx_media_driver_system_write =  FX_TRUE;
 214              		.loc 1 350 13 is_stmt 1 view .LVU71
 215              		.loc 1 350 55 is_stmt 0 view .LVU72
 216 00e2 0123     		movs	r3, #1
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 11


 217 00e4 C4F8B030 		str	r3, [r4, #176]
 218              	.L16:
 351:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 352:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 353:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 354:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         FX_TRACE_IN_LINE_INSERT(FX_TRACE_INTERNAL_IO_DRIVER_WRITE, media_ptr, logical_sector, secto
 355:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 356:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Invoke the driver to write the sector(s).  */
 357:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         (media_ptr -> fx_media_driver_entry) (media_ptr);
 219              		.loc 1 357 9 is_stmt 1 view .LVU73
 220              		.loc 1 357 20 is_stmt 0 view .LVU74
 221 00e8 D4F8BC30 		ldr	r3, [r4, #188]
 222 00ec 2046     		mov	r0, r4
 223 00ee 9847     		blx	r3
 224              	.LVL13:
 358:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 359:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Clear the system write flag.  */
 360:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_system_write =  FX_FALSE;
 225              		.loc 1 360 9 is_stmt 1 view .LVU75
 226              		.loc 1 360 51 is_stmt 0 view .LVU76
 227 00f0 0023     		movs	r3, #0
 228 00f2 C4F8B030 		str	r3, [r4, #176]
 361:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 362:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Check for successful completion.  */
 363:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if (media_ptr -> fx_media_driver_status)
 229              		.loc 1 363 9 is_stmt 1 view .LVU77
 230              		.loc 1 363 23 is_stmt 0 view .LVU78
 231 00f6 D4F88C00 		ldr	r0, [r4, #140]
 232 00fa 36E0     		b	.L1
 233              	.LVL14:
 234              	.L4:
 160:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             cache_entry =           media_ptr -> fx_media_sector_cache_list_ptr;
 235              		.loc 1 160 13 is_stmt 1 view .LVU79
 160:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             cache_entry =           media_ptr -> fx_media_sector_cache_list_ptr;
 236              		.loc 1 160 24 is_stmt 0 view .LVU80
 237 00fc 6069     		ldr	r0, [r4, #20]
 238              	.LVL15:
 161:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 239              		.loc 1 161 13 is_stmt 1 view .LVU81
 161:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 240              		.loc 1 161 25 is_stmt 0 view .LVU82
 241 00fe E169     		ldr	r1, [r4, #28]
 242              	.LVL16:
 165:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 243              		.loc 1 165 13 is_stmt 1 view .LVU83
 165:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 244              		.loc 1 165 19 is_stmt 0 view .LVU84
 245 0100 03E0     		b	.L9
 246              	.LVL17:
 247              	.L10:
 178:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 248              		.loc 1 178 17 is_stmt 1 view .LVU85
 178:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 249              		.loc 1 178 33 is_stmt 0 view .LVU86
 250 0102 4A69     		ldr	r2, [r1, #20]
 178:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 251              		.loc 1 178 20 view .LVU87
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 12


 252 0104 7AB1     		cbz	r2, .L30
 253              	.L11:
 254              	.LVL18:
 178:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 255              		.loc 1 178 20 view .LVU88
 256 0106 6046     		mov	r0, ip
 257 0108 1146     		mov	r1, r2
 258              	.LVL19:
 259              	.L9:
 165:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 260              		.loc 1 165 19 is_stmt 1 view .LVU89
 165:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 261              		.loc 1 165 30 is_stmt 0 view .LVU90
 262 010a 00F1FF3C 		add	ip, r0, #-1
 263              	.LVL20:
 165:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 264              		.loc 1 165 19 view .LVU91
 265 010e 60B1     		cbz	r0, .L31
 169:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 266              		.loc 1 169 17 is_stmt 1 view .LVU92
 169:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 267              		.loc 1 169 34 is_stmt 0 view .LVU93
 268 0110 4A7C     		ldrb	r2, [r1, #17]	@ zero_extendqisi2
 169:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 269              		.loc 1 169 20 view .LVU94
 270 0112 002A     		cmp	r2, #0
 271 0114 F5D0     		beq	.L10
 169:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 272              		.loc 1 169 77 discriminator 1 view .LVU95
 273 0116 8868     		ldr	r0, [r1, #8]
 274 0118 CA68     		ldr	r2, [r1, #12]
 169:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 275              		.loc 1 169 61 discriminator 1 view .LVU96
 276 011a 9A42     		cmp	r2, r3
 277 011c 08BF     		it	eq
 278 011e A842     		cmpeq	r0, r5
 279 0120 EFD1     		bne	.L10
 171:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                     break;
 280              		.loc 1 171 33 view .LVU97
 281 0122 0122     		movs	r2, #1
 282 0124 AFE7     		b	.L7
 283              	.L30:
 178:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                 {
 284              		.loc 1 178 20 view .LVU98
 285 0126 0A46     		mov	r2, r1
 286 0128 EDE7     		b	.L11
 287              	.L31:
 105:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif /* FX_DISABLE_CACHE */
 288              		.loc 1 105 19 view .LVU99
 289 012a 0022     		movs	r2, #0
 290 012c ABE7     		b	.L7
 291              	.LVL21:
 292              	.L29:
 290:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 293              		.loc 1 290 13 is_stmt 1 view .LVU100
 290:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 294              		.loc 1 290 29 is_stmt 0 view .LVU101
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 13


 295 012e 0B7C     		ldrb	r3, [r1, #16]	@ zero_extendqisi2
 290:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             {
 296              		.loc 1 290 16 view .LVU102
 297 0130 23B9     		cbnz	r3, .L14
 294:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 298              		.loc 1 294 17 is_stmt 1 view .LVU103
 294:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 299              		.loc 1 294 27 is_stmt 0 view .LVU104
 300 0132 636A     		ldr	r3, [r4, #36]
 294:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 301              		.loc 1 294 63 view .LVU105
 302 0134 0133     		adds	r3, r3, #1
 303 0136 6362     		str	r3, [r4, #36]
 297:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 304              		.loc 1 297 17 is_stmt 1 view .LVU106
 297:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             }
 305              		.loc 1 297 62 is_stmt 0 view .LVU107
 306 0138 0123     		movs	r3, #1
 307 013a 0B74     		strb	r3, [r1, #16]
 308              	.L14:
 304:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 309              		.loc 1 304 13 is_stmt 1 view .LVU108
 304:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 310              		.loc 1 304 19 is_stmt 0 view .LVU109
 311 013c 0020     		movs	r0, #0
 312 013e 14E0     		b	.L1
 313              	.LVL22:
 314              	.L3:
 364:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 365:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 366:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Error writing a internal sector out.  Return the
 367:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                error status.  */
 368:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             return(media_ptr -> fx_media_driver_status);
 369:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 370:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 371:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* At this point, we have a successful write.  */
 372:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         return(FX_SUCCESS);
 373:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
 374:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     else
 375:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif /* FX_DISABLE_CACHE */
 376:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     {
 377:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 378:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Otherwise, the write request is being made directly from an application
 379:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****            buffer. Determine if the logical sector is valid.  */
 380:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 381:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Is the logical sector valid? */
 382:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if ((logical_sector == 0) || (logical_sector == ((ULONG)0xFFFFFFFF)))
 315              		.loc 1 382 9 is_stmt 1 view .LVU110
 316              		.loc 1 382 12 is_stmt 0 view .LVU111
 317 0140 55EA0302 		orrs	r2, r5, r3
 318 0144 46D0     		beq	.L23
 319              		.loc 1 382 35 discriminator 1 view .LVU112
 320 0146 002B     		cmp	r3, #0
 321 0148 08BF     		it	eq
 322 014a B5F1FF3F 		cmpeq	r5, #-1
 323 014e 43D0     		beq	.L24
 383:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 14


 384:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             return(FX_SECTOR_INVALID);
 385:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 386:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 387:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Compare logical sector against total sectors to make sure it is valid.  */
 388:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if ((logical_sector + sectors - 1) >= media_ptr -> fx_media_total_sectors)
 324              		.loc 1 388 9 is_stmt 1 view .LVU113
 325              		.loc 1 388 29 is_stmt 0 view .LVU114
 326 0150 7219     		adds	r2, r6, r5
 327 0152 43F1000C 		adc	ip, r3, #0
 328              		.loc 1 388 39 view .LVU115
 329 0156 013A     		subs	r2, r2, #1
 330 0158 4CF1FF3C 		adc	ip, ip, #-1
 331              		.loc 1 388 57 view .LVU116
 332 015c A06B     		ldr	r0, [r4, #56]
 333              	.LVL23:
 334              		.loc 1 388 57 view .LVU117
 335 015e E16B     		ldr	r1, [r4, #60]
 336              		.loc 1 388 12 view .LVU118
 337 0160 8242     		cmp	r2, r0
 338 0162 7CEB0102 		sbcs	r2, ip, r1
 339 0166 03D3     		bcc	.L32
 389:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 390:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             return(FX_SECTOR_INVALID);
 340              		.loc 1 390 19 view .LVU119
 341 0168 8920     		movs	r0, #137
 342              	.LVL24:
 343              	.L1:
 391:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 392:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 393:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Flush and invalidate for any entries in the cache that are in this direct I/O read reque
 394:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         _fx_utility_logical_sector_flush(media_ptr, logical_sector, (ULONG64) sectors, FX_TRUE);
 395:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 396:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_DISABLE_CACHE
 397:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if ((logical_sector <= media_ptr -> fx_media_memory_buffer_sector) && (logical_sector + sec
 398:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 399:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             media_ptr -> fx_media_memory_buffer_sector = (ULONG64)-1;
 400:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 401:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif /* FX_DISABLE_CACHE */
 402:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 403:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 404:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 405:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Increment the number of driver write sector(s) requests.  */
 406:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_write_requests++;
 407:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 408:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 409:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Build request to the driver.  */
 410:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_request =          FX_DRIVER_WRITE;
 411:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_status =           FX_IO_ERROR;
 412:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_buffer =           buffer_ptr;
 413:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_DRIVER_USE_64BIT_LBA
 414:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_logical_sector =   logical_sector;
 415:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #else
 416:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_logical_sector =   (ULONG)logical_sector;
 417:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 418:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_sectors =          sectors;
 419:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_sector_type =      sector_type;
 420:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 15


 421:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Determine if the system write flag needs to be set.  */
 422:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         if (sector_type != FX_DATA_SECTOR)
 423:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 424:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 425:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             /* Yes, a system sector write is present so set the flag.  The driver
 426:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                can use this flag to make extra safeguards in writing the sector
 427:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****                out, yielding more fault tolerance.  */
 428:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****             media_ptr -> fx_media_driver_system_write =  FX_TRUE;
 429:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 430:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 431:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 432:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         FX_TRACE_IN_LINE_INSERT(FX_TRACE_INTERNAL_IO_DRIVER_WRITE, media_ptr, logical_sector, secto
 433:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 434:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Invoke the driver to write the sector(s).  */
 435:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         (media_ptr -> fx_media_driver_entry) (media_ptr);
 436:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 437:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Clear the system write flag.  */
 438:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_system_write =  FX_FALSE;
 439:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 440:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         /* Return driver status.  */
 441:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         return(media_ptr -> fx_media_driver_status);
 442:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
 443:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** }
 344              		.loc 1 443 1 view .LVU120
 345 016a 05B0     		add	sp, sp, #20
 346              	.LCFI2:
 347              		.cfi_remember_state
 348              		.cfi_def_cfa_offset 28
 349              		@ sp needed
 350 016c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 351              	.LVL25:
 352              	.L32:
 353              	.LCFI3:
 354              		.cfi_restore_state
 394:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 355              		.loc 1 394 9 is_stmt 1 view .LVU121
 356 0170 4FF00109 		mov	r9, #1
 357 0174 CDF80890 		str	r9, [sp, #8]
 358 0178 0096     		str	r6, [sp]
 359 017a 0022     		movs	r2, #0
 360 017c 0192     		str	r2, [sp, #4]
 361 017e 2A46     		mov	r2, r5
 362 0180 2046     		mov	r0, r4
 363 0182 FFF7FEFF 		bl	_fx_utility_logical_sector_flush
 364              	.LVL26:
 406:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 365              		.loc 1 406 9 view .LVU122
 406:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 366              		.loc 1 406 19 is_stmt 0 view .LVU123
 367 0186 D4F8B031 		ldr	r3, [r4, #432]
 406:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 368              		.loc 1 406 52 view .LVU124
 369 018a 4B44     		add	r3, r3, r9
 370 018c C4F8B031 		str	r3, [r4, #432]
 410:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_status =           FX_IO_ERROR;
 371              		.loc 1 410 9 is_stmt 1 view .LVU125
 410:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_status =           FX_IO_ERROR;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 16


 372              		.loc 1 410 46 is_stmt 0 view .LVU126
 373 0190 C4F88890 		str	r9, [r4, #136]
 411:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_buffer =           buffer_ptr;
 374              		.loc 1 411 9 is_stmt 1 view .LVU127
 411:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_buffer =           buffer_ptr;
 375              		.loc 1 411 45 is_stmt 0 view .LVU128
 376 0194 9023     		movs	r3, #144
 377 0196 C4F88C30 		str	r3, [r4, #140]
 412:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_DRIVER_USE_64BIT_LBA
 378              		.loc 1 412 9 is_stmt 1 view .LVU129
 412:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #ifdef FX_DRIVER_USE_64BIT_LBA
 379              		.loc 1 412 45 is_stmt 0 view .LVU130
 380 019a C4F89070 		str	r7, [r4, #144]
 416:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 381              		.loc 1 416 9 is_stmt 1 view .LVU131
 416:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** #endif
 382              		.loc 1 416 53 is_stmt 0 view .LVU132
 383 019e C4F89450 		str	r5, [r4, #148]
 418:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_sector_type =      sector_type;
 384              		.loc 1 418 9 is_stmt 1 view .LVU133
 418:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         media_ptr -> fx_media_driver_sector_type =      sector_type;
 385              		.loc 1 418 46 is_stmt 0 view .LVU134
 386 01a2 C4F89860 		str	r6, [r4, #152]
 419:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 387              		.loc 1 419 9 is_stmt 1 view .LVU135
 419:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 388              		.loc 1 419 50 is_stmt 0 view .LVU136
 389 01a6 C4F8B880 		str	r8, [r4, #184]
 422:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 390              		.loc 1 422 9 is_stmt 1 view .LVU137
 422:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         {
 391              		.loc 1 422 12 is_stmt 0 view .LVU138
 392 01aa B8F1040F 		cmp	r8, #4
 393 01ae 01D0     		beq	.L17
 428:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 394              		.loc 1 428 13 is_stmt 1 view .LVU139
 428:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 395              		.loc 1 428 55 is_stmt 0 view .LVU140
 396 01b0 C4F8B090 		str	r9, [r4, #176]
 397              	.L17:
 435:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 398              		.loc 1 435 9 is_stmt 1 view .LVU141
 435:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 399              		.loc 1 435 20 is_stmt 0 view .LVU142
 400 01b4 D4F8BC30 		ldr	r3, [r4, #188]
 401 01b8 2046     		mov	r0, r4
 402 01ba 9847     		blx	r3
 403              	.LVL27:
 438:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 404              		.loc 1 438 9 is_stmt 1 view .LVU143
 438:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c **** 
 405              		.loc 1 438 51 is_stmt 0 view .LVU144
 406 01bc 0023     		movs	r3, #0
 407 01be C4F8B030 		str	r3, [r4, #176]
 441:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
 408              		.loc 1 441 9 is_stmt 1 view .LVU145
 441:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 17


 409              		.loc 1 441 26 is_stmt 0 view .LVU146
 410 01c2 D4F88C00 		ldr	r0, [r4, #140]
 411 01c6 D0E7     		b	.L1
 412              	.LVL28:
 413              	.L20:
 314:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 414              		.loc 1 314 19 view .LVU147
 415 01c8 8920     		movs	r0, #137
 416 01ca CEE7     		b	.L1
 417              	.L21:
 418 01cc 8920     		movs	r0, #137
 419 01ce CCE7     		b	.L1
 420              	.LVL29:
 421              	.L22:
 320:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 422              		.loc 1 320 19 view .LVU148
 423 01d0 8920     		movs	r0, #137
 424 01d2 CAE7     		b	.L1
 425              	.LVL30:
 426              	.L23:
 384:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 427              		.loc 1 384 19 view .LVU149
 428 01d4 8920     		movs	r0, #137
 429              	.LVL31:
 384:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 430              		.loc 1 384 19 view .LVU150
 431 01d6 C8E7     		b	.L1
 432              	.LVL32:
 433              	.L24:
 384:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 434              		.loc 1 384 19 view .LVU151
 435 01d8 8920     		movs	r0, #137
 436              	.LVL33:
 384:Middlewares/ST/filex/common/src/fx_utility_logical_sector_write.c ****         }
 437              		.loc 1 384 19 view .LVU152
 438 01da C6E7     		b	.L1
 439              		.cfi_endproc
 440              	.LFE8:
 442              		.text
 443              	.Letext0:
 444              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 445              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 446              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 447              		.file 5 "Middlewares/ST/filex/common/inc/fx_utility.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 fx_utility_logical_sector_write.c
C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s:20     .text._fx_utility_logical_sector_write:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccKqX2oH.s:26     .text._fx_utility_logical_sector_write:00000000 _fx_utility_logical_sector_write

UNDEFINED SYMBOLS
_fx_utility_logical_sector_flush

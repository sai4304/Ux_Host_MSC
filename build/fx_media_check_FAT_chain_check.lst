ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_media_check_FAT_chain_check.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._fx_media_check_FAT_chain_check,"ax",%progbits
  20              		.align	1
  21              		.global	_fx_media_check_FAT_chain_check
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_fx_media_check_FAT_chain_check:
  27              	.LVL0:
  28              	.LFB8:
  29              		.file 1 "Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c"
   1:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  12:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  13:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**   Media                                                               */
  19:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  23:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  25:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  26:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  28:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** #include "fx_api.h"
  29:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** #include "fx_media.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 2


  30:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** #include "fx_utility.h"
  31:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  32:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  33:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
  34:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  35:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  FUNCTION                                               RELEASE        */
  36:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  37:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    _fx_media_check_FAT_chain_check                     PORTABLE C      */
  38:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                           6.1          */
  39:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  AUTHOR                                                                */
  40:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  41:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    William E. Lamie, Microsoft Corporation                             */
  42:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  43:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  DESCRIPTION                                                           */
  44:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  45:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    This function walks the supplied FAT chain looking for cross links  */
  46:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    (FAT entries already used in another FAT chain) and abnormal FAT    */
  47:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    entries and invalid chain termination.                              */
  48:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  49:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  INPUT                                                                 */
  50:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  51:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    media_ptr                             Pointer to a previously       */
  52:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                            opened media                */
  53:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    starting_cluster                      Starting cluster of FAT chain */
  54:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    last_valid_cluster                    Last valid cluster of chain   */
  55:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    total_valid_clusters                  Total number of valid clusters*/
  56:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    logical_fat                           Pointer to the logical FAT    */
  57:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                            bit map                     */
  58:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  59:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  OUTPUT                                                                */
  60:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  61:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    error                                 Error code                    */
  62:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  63:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  CALLS                                                                 */
  64:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  65:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    _fx_utility_FAT_entry_read            Read a FAT entry              */
  66:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  67:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  CALLED BY                                                             */
  68:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  69:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    _fx_check_media                       Check media function          */
  70:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  71:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  RELEASE HISTORY                                                       */
  72:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  73:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*    DATE              NAME                      DESCRIPTION             */
  74:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  75:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  76:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  77:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                            resulting in version 6.1    */
  78:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /*                                                                        */
  79:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** /**************************************************************************/
  80:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** ULONG  _fx_media_check_FAT_chain_check(FX_MEDIA *media_ptr, ULONG starting_cluster, ULONG *last_val
  81:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** {
  30              		.loc 1 81 1 view -0
  31              		.cfi_startproc
  32              		@ args = 4, pretend = 0, frame = 16
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 81 1 is_stmt 0 view .LVU1
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 3


  35 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 36
  38              		.cfi_offset 4, -36
  39              		.cfi_offset 5, -32
  40              		.cfi_offset 6, -28
  41              		.cfi_offset 7, -24
  42              		.cfi_offset 8, -20
  43              		.cfi_offset 9, -16
  44              		.cfi_offset 10, -12
  45              		.cfi_offset 11, -8
  46              		.cfi_offset 14, -4
  47 0004 85B0     		sub	sp, sp, #20
  48              	.LCFI1:
  49              		.cfi_def_cfa_offset 56
  50 0006 0646     		mov	r6, r0
  51 0008 0C46     		mov	r4, r1
  52 000a 9346     		mov	fp, r2
  53 000c 0193     		str	r3, [sp, #4]
  54 000e 0E9F     		ldr	r7, [sp, #56]
  82:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  83:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** ULONG prev_cluster, cluster, next_clust = 0;
  55              		.loc 1 83 1 is_stmt 1 view .LVU2
  56              		.loc 1 83 30 is_stmt 0 view .LVU3
  57 0010 0023     		movs	r3, #0
  58              	.LVL1:
  59              		.loc 1 83 30 view .LVU4
  60 0012 0393     		str	r3, [sp, #12]
  84:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** ULONG cluster_number;
  61              		.loc 1 84 1 is_stmt 1 view .LVU5
  85:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** ULONG count, error;
  62              		.loc 1 85 1 view .LVU6
  86:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** UINT  status;
  63              		.loc 1 86 1 view .LVU7
  87:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  88:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  89:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     /* Initialize the error code.  */
  90:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     error =  0;
  64              		.loc 1 90 5 view .LVU8
  65              	.LVL2:
  91:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  92:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     /* Setup at the first cluster.  */
  93:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     cluster =  starting_cluster;
  66              		.loc 1 93 5 view .LVU9
  94:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  95:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     /* Initialize the previous cluster.  */
  96:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     prev_cluster =  0;
  67              		.loc 1 96 5 view .LVU10
  97:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  98:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     /* Initialize the count to 0. */
  99:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     count =  0;
  68              		.loc 1 99 5 view .LVU11
 100:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 101:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     /* Loop to walk through the FAT chain.  */
 102:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     while ((cluster >= (ULONG)FX_FAT_ENTRY_START) &&
  69              		.loc 1 102 5 view .LVU12
  99:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 4


  70              		.loc 1 99 11 is_stmt 0 view .LVU13
  71 0014 9946     		mov	r9, r3
  96:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
  72              		.loc 1 96 18 view .LVU14
  73 0016 9A46     		mov	r10, r3
  74              		.loc 1 102 11 view .LVU15
  75 0018 0AE0     		b	.L2
  76              	.LVL3:
  77              	.L4:
 103:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****            (cluster < (FX_FAT_ENTRY_START + media_ptr -> fx_media_total_clusters)))
 104:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     {
 105:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 106:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         cluster_number = cluster;
 107:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 108:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** #ifdef FX_ENABLE_EXFAT
 109:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 110:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* For the index of the first cluster in exFAT is 2, adjust the number of clusters to fit A
 111:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* We will compare logical_fat with Aollcation Bitmap table later to find out lost clusters
 112:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 113:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 114:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             cluster_number = cluster - FX_FAT_ENTRY_START;
 115:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         }
 116:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** #endif /* FX_ENABLE_EXFAT */
 117:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 118:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* Determine if this cluster is already in the logical FAT bit map.  */
 119:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         if (logical_fat[cluster_number >> 3] & (1 << (cluster_number & 7)))
 120:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 121:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 122:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             /* Yes, the cluster is already being used by another file or
 123:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****                sub-directory.  */
 124:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             error =  FX_FAT_CHAIN_ERROR;
 125:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 126:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         }
 127:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 128:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* Now read the contents of the cluster.  */
 129:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &next_clust);
 130:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 131:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* Check the return status.  */
 132:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         if (status != FX_SUCCESS)
 133:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 134:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 135:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             /* Yes, the cluster is already being used by another file or
 136:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****                sub-directory.  */
 137:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             error =  FX_IO_ERROR;
 138:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 139:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         }
 140:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 141:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* Determine if the link is circular or the count is greater than the
 142:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****            total clusters.  */
 143:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         if ((cluster == next_clust) ||
 144:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             (next_clust < (ULONG)FX_FAT_ENTRY_START) ||
 145:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             ((next_clust >= (FX_FAT_ENTRY_START + media_ptr -> fx_media_total_clusters)) &&
 146:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****              (next_clust != media_ptr -> fx_media_fat_last)))
 147:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 148:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 149:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             error =  FX_FAT_CHAIN_ERROR;
 150:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 5


 151:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         }
 152:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 153:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* Everything is good with the chain at this point.  Mark it as valid.  */
 154:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         logical_fat[cluster_number >> 3] = (UCHAR)(logical_fat[cluster_number >> 3] | (1 << (cluste
  78              		.loc 1 154 9 is_stmt 1 view .LVU16
  79              		.loc 1 154 63 is_stmt 0 view .LVU17
  80 001a 7B57     		ldrsb	r3, [r7, r5]
  81              		.loc 1 154 90 view .LVU18
  82 001c 0122     		movs	r2, #1
  83 001e 02FA08F8 		lsl	r8, r2, r8
  84              		.loc 1 154 85 view .LVU19
  85 0022 43EA0808 		orr	r8, r3, r8
  86              		.loc 1 154 42 view .LVU20
  87 0026 07F80580 		strb	r8, [r7, r5]
 155:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 156:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* Move the cluster variable forward.  */
 157:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         prev_cluster =  cluster;
  88              		.loc 1 157 9 is_stmt 1 view .LVU21
  89              	.LVL4:
 158:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         cluster =       next_clust;
  90              		.loc 1 158 9 view .LVU22
 159:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 160:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         /* Increment the number of valid clusters.  */
 161:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         count++;
  91              		.loc 1 161 9 view .LVU23
  92              		.loc 1 161 14 is_stmt 0 view .LVU24
  93 002a 9144     		add	r9, r9, r2
  94              	.LVL5:
 157:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         cluster =       next_clust;
  95              		.loc 1 157 22 view .LVU25
  96 002c A246     		mov	r10, r4
 158:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         cluster =       next_clust;
  97              		.loc 1 158 17 view .LVU26
  98 002e 039C     		ldr	r4, [sp, #12]
  99              	.LVL6:
 100              	.L2:
 102:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****            (cluster < (FX_FAT_ENTRY_START + media_ptr -> fx_media_total_clusters)))
 101              		.loc 1 102 11 is_stmt 1 view .LVU27
 102 0030 012C     		cmp	r4, #1
 103 0032 2DD9     		bls	.L11
 103:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     {
 104              		.loc 1 103 55 is_stmt 0 discriminator 1 view .LVU28
 105 0034 336C     		ldr	r3, [r6, #64]
 103:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     {
 106              		.loc 1 103 43 discriminator 1 view .LVU29
 107 0036 0233     		adds	r3, r3, #2
 102:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****            (cluster < (FX_FAT_ENTRY_START + media_ptr -> fx_media_total_clusters)))
 108              		.loc 1 102 51 discriminator 1 view .LVU30
 109 0038 A342     		cmp	r3, r4
 110 003a 1FD9     		bls	.L13
 106:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 111              		.loc 1 106 9 is_stmt 1 view .LVU31
 112              	.LVL7:
 119:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 113              		.loc 1 119 9 view .LVU32
 119:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 114              		.loc 1 119 40 is_stmt 0 view .LVU33
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 6


 115 003c E508     		lsrs	r5, r4, #3
 119:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 116              		.loc 1 119 24 view .LVU34
 117 003e 7B5D     		ldrb	r3, [r7, r5]	@ zero_extendqisi2
 119:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 118              		.loc 1 119 70 view .LVU35
 119 0040 04F00708 		and	r8, r4, #7
 119:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 120              		.loc 1 119 13 view .LVU36
 121 0044 43FA08F3 		asr	r3, r3, r8
 119:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 122              		.loc 1 119 12 view .LVU37
 123 0048 13F0010F 		tst	r3, #1
 124 004c 18D1     		bne	.L6
 129:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 125              		.loc 1 129 9 is_stmt 1 view .LVU38
 129:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 126              		.loc 1 129 19 is_stmt 0 view .LVU39
 127 004e 03AA     		add	r2, sp, #12
 128 0050 2146     		mov	r1, r4
 129 0052 3046     		mov	r0, r6
 130 0054 FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 131              	.LVL8:
 132:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 132              		.loc 1 132 9 is_stmt 1 view .LVU40
 132:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 133              		.loc 1 132 12 is_stmt 0 view .LVU41
 134 0058 A0B9     		cbnz	r0, .L7
 143:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             (next_clust < (ULONG)FX_FAT_ENTRY_START) ||
 135              		.loc 1 143 9 is_stmt 1 view .LVU42
 143:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             (next_clust < (ULONG)FX_FAT_ENTRY_START) ||
 136              		.loc 1 143 22 is_stmt 0 view .LVU43
 137 005a 039B     		ldr	r3, [sp, #12]
 143:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             (next_clust < (ULONG)FX_FAT_ENTRY_START) ||
 138              		.loc 1 143 12 view .LVU44
 139 005c A342     		cmp	r3, r4
 140 005e 13D0     		beq	.L8
 143:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             (next_clust < (ULONG)FX_FAT_ENTRY_START) ||
 141              		.loc 1 143 37 discriminator 1 view .LVU45
 142 0060 012B     		cmp	r3, #1
 143 0062 13D9     		bls	.L9
 145:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****              (next_clust != media_ptr -> fx_media_fat_last)))
 144              		.loc 1 145 61 view .LVU46
 145 0064 326C     		ldr	r2, [r6, #64]
 145:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****              (next_clust != media_ptr -> fx_media_fat_last)))
 146              		.loc 1 145 49 view .LVU47
 147 0066 0232     		adds	r2, r2, #2
 144:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             ((next_clust >= (FX_FAT_ENTRY_START + media_ptr -> fx_media_total_clusters)) &&
 148              		.loc 1 144 54 view .LVU48
 149 0068 9342     		cmp	r3, r2
 150 006a D6D3     		bcc	.L4
 146:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****         {
 151              		.loc 1 146 39 view .LVU49
 152 006c 06F50052 		add	r2, r6, #8192
 153 0070 D2F8AC24 		ldr	r2, [r2, #1196]
 145:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****              (next_clust != media_ptr -> fx_media_fat_last)))
 154              		.loc 1 145 90 view .LVU50
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 7


 155 0074 9342     		cmp	r3, r2
 156 0076 D0D0     		beq	.L4
 149:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 157              		.loc 1 149 19 view .LVU51
 158 0078 0120     		movs	r0, #1
 159              	.LVL9:
 149:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 160              		.loc 1 149 19 view .LVU52
 161 007a 0AE0     		b	.L3
 162              	.LVL10:
 163              	.L13:
  90:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 164              		.loc 1 90 11 view .LVU53
 165 007c 0020     		movs	r0, #0
 166 007e 08E0     		b	.L3
 167              	.LVL11:
 168              	.L6:
 124:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 169              		.loc 1 124 19 view .LVU54
 170 0080 0120     		movs	r0, #1
 171 0082 06E0     		b	.L3
 172              	.LVL12:
 173              	.L7:
 137:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 174              		.loc 1 137 19 view .LVU55
 175 0084 9020     		movs	r0, #144
 176              	.LVL13:
 137:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 177              		.loc 1 137 19 view .LVU56
 178 0086 04E0     		b	.L3
 179              	.LVL14:
 180              	.L8:
 149:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 181              		.loc 1 149 19 view .LVU57
 182 0088 0120     		movs	r0, #1
 183              	.LVL15:
 149:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 184              		.loc 1 149 19 view .LVU58
 185 008a 02E0     		b	.L3
 186              	.LVL16:
 187              	.L9:
 149:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 188              		.loc 1 149 19 view .LVU59
 189 008c 0120     		movs	r0, #1
 190              	.LVL17:
 149:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****             break;
 191              		.loc 1 149 19 view .LVU60
 192 008e 00E0     		b	.L3
 193              	.LVL18:
 194              	.L11:
  90:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 195              		.loc 1 90 11 view .LVU61
 196 0090 0020     		movs	r0, #0
 197              	.L3:
 198              	.LVL19:
 162:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     }
 163:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 8


 164:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     /* Return the last valid cluster and the total valid cluster count.  */
 165:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     *last_valid_cluster =   prev_cluster;
 199              		.loc 1 165 5 is_stmt 1 view .LVU62
 200              		.loc 1 165 25 is_stmt 0 view .LVU63
 201 0092 CBF800A0 		str	r10, [fp]
 166:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     *total_valid_clusters = count;
 202              		.loc 1 166 5 is_stmt 1 view .LVU64
 203              		.loc 1 166 27 is_stmt 0 view .LVU65
 204 0096 019B     		ldr	r3, [sp, #4]
 205 0098 C3F80090 		str	r9, [r3]
 167:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** 
 168:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     /* Return error code.  */
 169:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c ****     return(error);
 206              		.loc 1 169 5 is_stmt 1 view .LVU66
 170:Middlewares/ST/filex/common/src/fx_media_check_FAT_chain_check.c **** }
 207              		.loc 1 170 1 is_stmt 0 view .LVU67
 208 009c 05B0     		add	sp, sp, #20
 209              	.LCFI2:
 210              		.cfi_def_cfa_offset 36
 211              		@ sp needed
 212 009e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 213              		.loc 1 170 1 view .LVU68
 214              		.cfi_endproc
 215              	.LFE8:
 217              		.text
 218              	.Letext0:
 219              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 220              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 221              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 222              		.file 5 "Middlewares/ST/filex/common/inc/fx_utility.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccldKwME.s 			page 9


DEFINED SYMBOLS
                            *ABS*:00000000 fx_media_check_FAT_chain_check.c
C:\Users\HP\AppData\Local\Temp\ccldKwME.s:20     .text._fx_media_check_FAT_chain_check:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccldKwME.s:26     .text._fx_media_check_FAT_chain_check:00000000 _fx_media_check_FAT_chain_check

UNDEFINED SYMBOLS
_fx_utility_FAT_entry_read

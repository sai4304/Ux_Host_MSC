ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_file_extended_allocate.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_uldivmod
  20              		.section	.text._fx_file_extended_allocate,"ax",%progbits
  21              		.align	1
  22              		.global	_fx_file_extended_allocate
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_fx_file_extended_allocate:
  28              	.LVL0:
  29              	.LFB8:
  30              		.file 1 "Middlewares/ST/filex/common/src/fx_file_extended_allocate.c"
   1:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  12:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  13:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**   File                                                                */
  19:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  23:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  25:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  26:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  28:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #include "fx_api.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 2


  29:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #include "fx_system.h"
  30:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #include "fx_file.h"
  31:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #include "fx_utility.h"
  32:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #include "fx_directory.h"
  33:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  34:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #include "fx_fault_tolerant.h"
  35:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  36:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  37:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
  38:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
  39:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  40:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  FUNCTION                                               RELEASE        */
  41:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  42:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_file_extended_allocate                          PORTABLE C      */
  43:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                           6.1          */
  44:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  AUTHOR                                                                */
  45:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  46:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    William E. Lamie, Microsoft Corporation                             */
  47:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  48:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  DESCRIPTION                                                           */
  49:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  50:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    This function attempts to allocate the number of consecutive        */
  51:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    clusters required to satisfy the user's request.  If there are      */
  52:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    enough clusters, the clusters are allocated and linked to the file. */
  53:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    Otherwise, if there are not enough consecutive clusters, an error   */
  54:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    code is returned to the caller.                                     */
  55:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  56:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  INPUT                                                                 */
  57:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  58:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    file_ptr                              File control block pointer    */
  59:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    size                                  Number of bytes to allocate   */
  60:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  61:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  OUTPUT                                                                */
  62:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  63:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    return status                                                       */
  64:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  65:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  CALLS                                                                 */
  66:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  67:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_directory_entry_write             Update directory entry        */
  68:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_exFAT_bitmap_flush        Flush exFAT allocation bitmap */
  69:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_exFAT_bitmap_free_cluster_find                          */
  70:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                            Find exFAT free cluster     */
  71:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_exFAT_cluster_state_get   Get cluster state             */
  72:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_exFAT_cluster_state_set   Set cluster state             */
  73:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_FAT_entry_read            Read a FAT entry              */
  74:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_FAT_entry_write           Write a FAT entry             */
  75:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_FAT_flush                 Flush written FAT entries     */
  76:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_utility_logical_sector_flush      Flush the written log sector  */
  77:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_fault_tolerant_transaction_start  Start fault tolerant          */
  78:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                            transaction                 */
  79:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_fault_tolerant_transaction_end    End fault tolerant transaction*/
  80:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_fault_tolerant_recover            Recover FAT chain             */
  81:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_fault_tolerant_reset_log_file     Reset the log file            */
  82:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    _fx_fault_tolerant_set_FAT_chain      Set data of FAT chain         */
  83:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  84:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  CALLED BY                                                             */
  85:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 3


  86:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    Application Code                                                    */
  87:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  88:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  RELEASE HISTORY                                                       */
  89:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  90:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*    DATE              NAME                      DESCRIPTION             */
  91:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  92:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  93:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  94:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                            resulting in version 6.1    */
  95:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /*                                                                        */
  96:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** /**************************************************************************/
  97:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** UINT  _fx_file_extended_allocate(FX_FILE *file_ptr, ULONG64 size)
  98:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** {
  31              		.loc 1 98 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 24
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 98 1 is_stmt 0 view .LVU1
  36 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 36
  39              		.cfi_offset 4, -36
  40              		.cfi_offset 5, -32
  41              		.cfi_offset 6, -28
  42              		.cfi_offset 7, -24
  43              		.cfi_offset 8, -20
  44              		.cfi_offset 9, -16
  45              		.cfi_offset 10, -12
  46              		.cfi_offset 11, -8
  47              		.cfi_offset 14, -4
  48 0004 8BB0     		sub	sp, sp, #44
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 80
  51 0006 1546     		mov	r5, r2
  52 0008 1E46     		mov	r6, r3
  99:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 100:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** UINT                   status;
  53              		.loc 1 100 1 is_stmt 1 view .LVU2
 101:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** ULONG                  i;
  54              		.loc 1 101 1 view .LVU3
 102:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** UINT                   found;
  55              		.loc 1 102 1 view .LVU4
 103:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** ULONG                  bytes_per_cluster;
  56              		.loc 1 103 1 view .LVU5
 104:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** ULONG                  FAT_index;
  57              		.loc 1 104 1 view .LVU6
 105:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** ULONG                  FAT_value;
  58              		.loc 1 105 1 view .LVU7
 106:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** ULONG                  clusters;
  59              		.loc 1 106 1 view .LVU8
 107:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** FX_MEDIA              *media_ptr;
  60              		.loc 1 107 1 view .LVU9
 108:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 109:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** UCHAR                  cluster_state;
 110:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 111:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 112:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef TX_ENABLE_EVENT_TRACE
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 4


 113:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** TX_TRACE_BUFFER_ENTRY *trace_event;
 114:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** ULONG                  trace_timestamp;
 115:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif
 116:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 117:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 118:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* First, determine if the file is still open.  */
 119:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (file_ptr -> fx_file_id != FX_FILE_ID)
  61              		.loc 1 119 5 view .LVU10
  62              		.loc 1 119 18 is_stmt 0 view .LVU11
  63 000a 0268     		ldr	r2, [r0]
  64              	.LVL1:
  65              		.loc 1 119 8 view .LVU12
  66 000c A24B     		ldr	r3, .L47
  67 000e 9A42     		cmp	r2, r3
  68 0010 40F03681 		bne	.L22
  69 0014 0446     		mov	r4, r0
 120:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 121:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 122:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Return the file not open error status.  */
 123:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_NOT_OPEN);
 124:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 125:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 126:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Setup pointer to media structure.  */
 127:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     media_ptr =  file_ptr -> fx_file_media_ptr;
  70              		.loc 1 127 5 is_stmt 1 view .LVU13
  71              		.loc 1 127 15 is_stmt 0 view .LVU14
  72 0016 826D     		ldr	r2, [r0, #88]
  73              	.LVL2:
 128:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 129:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 130:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 131:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Increment the number of times this service has been called.  */
 132:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     media_ptr -> fx_media_file_allocates++;
  74              		.loc 1 132 5 is_stmt 1 view .LVU15
  75              		.loc 1 132 15 is_stmt 0 view .LVU16
  76 0018 D2F81C31 		ldr	r3, [r2, #284]
  77              		.loc 1 132 41 view .LVU17
  78 001c 0133     		adds	r3, r3, #1
  79 001e C2F81C31 		str	r3, [r2, #284]
 133:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif
 134:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 135:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Make sure this file is open for writing.  */
 136:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (file_ptr -> fx_file_open_mode != FX_OPEN_FOR_WRITE)
  80              		.loc 1 136 5 is_stmt 1 view .LVU18
  81              		.loc 1 136 18 is_stmt 0 view .LVU19
  82 0022 D0F80890 		ldr	r9, [r0, #8]
  83              		.loc 1 136 8 view .LVU20
  84 0026 B9F1010F 		cmp	r9, #1
  85 002a 40F02E81 		bne	.L23
 137:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 138:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 139:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Return the access error exception - a write was attempted from
 140:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****            a file opened for reading!  */
 141:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_ACCESS_ERROR);
 142:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 143:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 144:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Determine if the requested allocation is for zero bytes.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 5


 145:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (size == 0)
  86              		.loc 1 145 5 is_stmt 1 view .LVU21
  87              		.loc 1 145 8 is_stmt 0 view .LVU22
  88 002e 55EA0603 		orrs	r3, r5, r6
  89 0032 00F02C81 		beq	.L24
 146:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 147:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 148:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Return a successful completion - nothing needs to be done.  */
 149:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_SUCCESS);
 150:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 151:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 152:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Setup pointer to associated media control block.  */
 153:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     media_ptr =  file_ptr -> fx_file_media_ptr;
  90              		.loc 1 153 5 is_stmt 1 view .LVU23
  91              		.loc 1 153 15 is_stmt 0 view .LVU24
  92 0036 D0F85880 		ldr	r8, [r0, #88]
  93              	.LVL3:
 154:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 155:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 156:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_FILE_ALLOCATE, file_ptr, size, file_ptr -> fx_file_current_ava
 157:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 158:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Protect against other threads accessing the media.  */
 159:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     FX_PROTECT
  94              		.loc 1 159 5 is_stmt 1 view .LVU25
  95 003a D8F80020 		ldr	r2, [r8]
  96 003e 974B     		ldr	r3, .L47+4
  97 0040 9A42     		cmp	r2, r3
  98 0042 01D0     		beq	.L33
  99 0044 1127     		movs	r7, #17
 100 0046 1CE1     		b	.L1
 101              	.L33:
 102              		.loc 1 159 5 discriminator 2 view .LVU26
 103 0048 08F5E473 		add	r3, r8, #456
 104 004c 0593     		str	r3, [sp, #20]
 105 004e 4FF0FF31 		mov	r1, #-1
 106 0052 1846     		mov	r0, r3
 107              	.LVL4:
 108              		.loc 1 159 5 is_stmt 0 discriminator 2 view .LVU27
 109 0054 FFF7FEFF 		bl	_tx_mutex_get
 110              	.LVL5:
 111 0058 0028     		cmp	r0, #0
 112 005a 40F01A81 		bne	.L26
 160:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 161:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 162:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Start transaction. */
 163:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     _fx_fault_tolerant_transaction_start(media_ptr);
 164:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 165:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 166:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Check for write protect at the media level (set by driver).  */
 167:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (media_ptr -> fx_media_driver_write_protect)
 113              		.loc 1 167 5 is_stmt 1 view .LVU28
 114              		.loc 1 167 19 is_stmt 0 view .LVU29
 115 005e D8F8A8B0 		ldr	fp, [r8, #168]
 116              		.loc 1 167 8 view .LVU30
 117 0062 BBF1000F 		cmp	fp, #0
 118 0066 30D1     		bne	.L34
 168:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 6


 169:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 170:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 171:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 172:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 173:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 174:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Release media protection.  */
 175:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_UNPROTECT
 176:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 177:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Return write protect error.  */
 178:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_WRITE_PROTECT);
 179:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 180:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 181:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Calculate the number of bytes per cluster.  */
 182:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     bytes_per_cluster =  ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 119              		.loc 1 182 5 is_stmt 1 view .LVU31
 120              		.loc 1 182 44 is_stmt 0 view .LVU32
 121 0068 D8F82830 		ldr	r3, [r8, #40]
 183:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 122              		.loc 1 183 27 view .LVU33
 123 006c D8F85420 		ldr	r2, [r8, #84]
 182:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 124              		.loc 1 182 23 view .LVU34
 125 0070 02FB03F3 		mul	r3, r2, r3
 126 0074 0693     		str	r3, [sp, #24]
 127              	.LVL6:
 184:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 185:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Check for invalid value.  */
 186:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (bytes_per_cluster == 0)
 128              		.loc 1 186 5 is_stmt 1 view .LVU35
 129              		.loc 1 186 8 is_stmt 0 view .LVU36
 130 0076 6BB3     		cbz	r3, .L35
 187:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 188:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 189:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 190:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 191:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 192:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 193:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Release media protection.  */
 194:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_UNPROTECT
 195:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 196:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Invalid media, return error.  */
 197:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_MEDIA_INVALID);
 198:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 199:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 200:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Calculate the number of consecutive clusters needed to satisfy this
 201:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****        request.  */
 202:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     clusters =  (ULONG)(((size + bytes_per_cluster - 1) / bytes_per_cluster));
 131              		.loc 1 202 5 is_stmt 1 view .LVU37
 132              		.loc 1 202 32 is_stmt 0 view .LVU38
 133 0078 069A     		ldr	r2, [sp, #24]
 134 007a 1746     		mov	r7, r2
 135 007c 5519     		adds	r5, r2, r5
 136 007e 46F10001 		adc	r1, r6, #0
 137              		.loc 1 202 52 view .LVU39
 138 0082 681E     		subs	r0, r5, #1
 139              		.loc 1 202 57 view .LVU40
 140 0084 4FF00003 		mov	r3, #0
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 7


 141              	.LVL7:
 142              		.loc 1 202 57 view .LVU41
 143 0088 41F1FF31 		adc	r1, r1, #-1
 144 008c FFF7FEFF 		bl	__aeabi_uldivmod
 145              	.LVL8:
 146              		.loc 1 202 57 view .LVU42
 147 0090 0790     		str	r0, [sp, #28]
 148 0092 0346     		mov	r3, r0
 149              		.loc 1 202 14 view .LVU43
 150 0094 8246     		mov	r10, r0
 151              	.LVL9:
 203:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 204:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Determine if cluster count is 0.  */
 205:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (clusters == 0)
 152              		.loc 1 205 5 is_stmt 1 view .LVU44
 153              		.loc 1 205 8 is_stmt 0 view .LVU45
 154 0096 10B3     		cbz	r0, .L36
 206:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 207:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 208:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 209:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 210:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 211:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 212:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Release media protection.  */
 213:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_UNPROTECT
 214:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 215:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Size overflow when rounding to the next cluster, return an error status.  */
 216:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_NO_MORE_SPACE);
 217:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 218:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 219:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Determine if there are enough available clusters on the media.  */
 220:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (clusters > media_ptr -> fx_media_available_clusters)
 155              		.loc 1 220 5 is_stmt 1 view .LVU46
 156              		.loc 1 220 30 is_stmt 0 view .LVU47
 157 0098 D8F87C20 		ldr	r2, [r8, #124]
 158              		.loc 1 220 8 view .LVU48
 159 009c 0799     		ldr	r1, [sp, #28]
 160 009e 8A42     		cmp	r2, r1
 161 00a0 22D3     		bcc	.L37
 221:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 222:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 223:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 224:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 225:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 226:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 227:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Release media protection.  */
 228:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_UNPROTECT
 229:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 230:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Not enough clusters, return an error status.  */
 231:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_NO_MORE_SPACE);
 232:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 233:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 234:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Determine if the requested file allocation would exceed the physical limit of the file.  */
 235:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (((file_ptr -> fx_file_current_available_size + (((ULONG64) clusters) * ((ULONG64) bytes_per
 162              		.loc 1 235 5 is_stmt 1 view .LVU49
 163              		.loc 1 235 20 is_stmt 0 view .LVU50
 164 00a2 226D     		ldr	r2, [r4, #80]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 8


 165 00a4 616D     		ldr	r1, [r4, #84]
 166              		.loc 1 235 78 view .LVU51
 167 00a6 A3FB0737 		umull	r3, r7, r3, r7
 168              	.LVL10:
 169              		.loc 1 235 54 view .LVU52
 170 00aa D318     		adds	r3, r2, r3
 171 00ac 47EB0107 		adc	r7, r7, r1
 172              		.loc 1 235 8 view .LVU53
 173 00b0 9342     		cmp	r3, r2
 174 00b2 77EB0102 		sbcs	r2, r7, r1
 175 00b6 1CD3     		bcc	.L7
 176              		.loc 1 235 158 discriminator 1 view .LVU54
 177 00b8 4FF0FF32 		mov	r2, #-1
 178 00bc 9A42     		cmp	r2, r3
 179 00be 4FF00003 		mov	r3, #0
 180 00c2 BB41     		sbcs	r3, r3, r7
 181 00c4 15D3     		bcc	.L7
 236:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         ((file_ptr -> fx_file_current_available_size + (((ULONG64) clusters) * ((ULONG64) bytes_per
 237:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 238:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 239:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 240:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 241:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 242:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 243:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Release media protection.  */
 244:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_UNPROTECT
 245:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 246:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Return the no more space error, since the new file size would be larger than
 247:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****            the 32-bit field to represent it in the file's directory entry.  */
 248:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_NO_MORE_SPACE);
 249:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 250:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 251:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Now we need to find the consecutive clusters.  */
 252:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     FAT_index =  FX_FAT_ENTRY_START;
 182              		.loc 1 252 15 view .LVU55
 183 00c6 0226     		movs	r6, #2
 184 00c8 20E0     		b	.L8
 185              	.LVL11:
 186              	.L34:
 175:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 187              		.loc 1 175 9 is_stmt 1 view .LVU56
 188 00ca 0598     		ldr	r0, [sp, #20]
 189 00cc FFF7FEFF 		bl	_tx_mutex_put
 190              	.LVL12:
 178:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 191              		.loc 1 178 9 view .LVU57
 178:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 192              		.loc 1 178 15 is_stmt 0 view .LVU58
 193 00d0 2327     		movs	r7, #35
 194 00d2 D6E0     		b	.L1
 195              	.LVL13:
 196              	.L35:
 194:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 197              		.loc 1 194 9 is_stmt 1 view .LVU59
 198 00d4 0598     		ldr	r0, [sp, #20]
 199 00d6 FFF7FEFF 		bl	_tx_mutex_put
 200              	.LVL14:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 9


 197:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 201              		.loc 1 197 9 view .LVU60
 197:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 202              		.loc 1 197 15 is_stmt 0 view .LVU61
 203 00da 0227     		movs	r7, #2
 204 00dc D1E0     		b	.L1
 205              	.LVL15:
 206              	.L36:
 213:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 207              		.loc 1 213 9 is_stmt 1 view .LVU62
 208 00de 0598     		ldr	r0, [sp, #20]
 209              	.LVL16:
 213:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 210              		.loc 1 213 9 is_stmt 0 view .LVU63
 211 00e0 FFF7FEFF 		bl	_tx_mutex_put
 212              	.LVL17:
 216:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 213              		.loc 1 216 9 is_stmt 1 view .LVU64
 216:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 214              		.loc 1 216 15 is_stmt 0 view .LVU65
 215 00e4 0A27     		movs	r7, #10
 216              	.LVL18:
 216:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 217              		.loc 1 216 15 view .LVU66
 218 00e6 CCE0     		b	.L1
 219              	.LVL19:
 220              	.L37:
 228:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 221              		.loc 1 228 9 is_stmt 1 view .LVU67
 222 00e8 0598     		ldr	r0, [sp, #20]
 223              	.LVL20:
 228:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 224              		.loc 1 228 9 is_stmt 0 view .LVU68
 225 00ea FFF7FEFF 		bl	_tx_mutex_put
 226              	.LVL21:
 231:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 227              		.loc 1 231 9 is_stmt 1 view .LVU69
 231:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 228              		.loc 1 231 15 is_stmt 0 view .LVU70
 229 00ee 0A27     		movs	r7, #10
 230              	.LVL22:
 231:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 231              		.loc 1 231 15 view .LVU71
 232 00f0 C7E0     		b	.L1
 233              	.LVL23:
 234              	.L7:
 244:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 235              		.loc 1 244 9 is_stmt 1 view .LVU72
 236 00f2 0598     		ldr	r0, [sp, #20]
 237              	.LVL24:
 244:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 238              		.loc 1 244 9 is_stmt 0 view .LVU73
 239 00f4 FFF7FEFF 		bl	_tx_mutex_put
 240              	.LVL25:
 248:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 241              		.loc 1 248 9 is_stmt 1 view .LVU74
 248:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 10


 242              		.loc 1 248 15 is_stmt 0 view .LVU75
 243 00f8 0A27     		movs	r7, #10
 244 00fa C2E0     		b	.L1
 245              	.LVL26:
 246              	.L39:
 253:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     found =      FX_FALSE;
 254:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 255:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 256:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if ((file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1) &&
 257:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         (file_ptr -> fx_file_last_physical_cluster > FX_FAT_ENTRY_START) &&
 258:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         (file_ptr -> fx_file_last_physical_cluster < media_ptr -> fx_media_total_clusters - cluster
 259:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 260:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         found = FX_TRUE;
 261:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Try to keep clusters consecutive.  */
 262:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         for (FAT_index = file_ptr -> fx_file_last_physical_cluster + 1;
 263:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****              FAT_index < clusters + file_ptr -> fx_file_last_physical_cluster + 1;
 264:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****              FAT_index++)
 265:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 266:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 267:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Get cluster state.  */
 268:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             status = _fx_utility_exFAT_cluster_state_get(media_ptr, FAT_index, &cluster_state);
 269:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 270:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Check for a successful status.  */
 271:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (status != FX_SUCCESS)
 272:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 273:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 274:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 275:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 276:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 277:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 278:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Release media protection.  */
 279:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 FX_UNPROTECT
 280:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 281:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Return the error status.  */
 282:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 return(status);
 283:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 284:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 285:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Determine if the entry is free.  */
 286:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (cluster_state == FX_EXFAT_BITMAP_CLUSTER_OCCUPIED)
 287:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 288:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 found = FX_FALSE;
 289:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 break;
 290:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 291:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 292:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FAT_index = file_ptr -> fx_file_last_physical_cluster + 1;
 293:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 294:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 295:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (!found)
 296:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 297:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 298:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 299:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         while (FAT_index <= (media_ptr -> fx_media_total_clusters - clusters + FX_FAT_ENTRY_START))
 300:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 301:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 302:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Determine if enough consecutive FAT entries are available.  */
 303:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             i =  0;
 304:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 11


 305:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 306:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 307:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 308:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 do
 309:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 310:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 311:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Get cluster state.  */
 312:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     status = _fx_utility_exFAT_cluster_state_get(media_ptr, (FAT_index + i), &clust
 313:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 314:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Check for a successful status.  */
 315:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     if (status != FX_SUCCESS)
 316:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 317:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 318:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 319:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 320:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 321:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 322:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Release media protection.  */
 323:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_UNPROTECT
 324:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 325:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Return the error status.  */
 326:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         return(status);
 327:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 328:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 329:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Determine if the entry is free.  */
 330:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     if (cluster_state == FX_EXFAT_BITMAP_CLUSTER_OCCUPIED)
 331:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 332:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         break;
 333:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 334:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 335:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Otherwise, increment the consecutive FAT indices.  */
 336:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     i++;
 337:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 } while (i < clusters);
 338:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 339:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             else
 340:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 341:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 342:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 343:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 do
 344:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 345:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 346:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Read a FAT entry.  */
 347:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     status =  _fx_utility_FAT_entry_read(media_ptr, (FAT_index + i), &FAT_value);
 348:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 349:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Check for a successful status.  */
 350:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     if (status != FX_SUCCESS)
 351:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 352:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 353:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 354:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 355:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 356:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 357:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Release media protection.  */
 358:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_UNPROTECT
 247              		.loc 1 358 25 is_stmt 1 view .LVU76
 248 00fc 0598     		ldr	r0, [sp, #20]
 249              	.LVL27:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 12


 250              		.loc 1 358 25 is_stmt 0 view .LVU77
 251 00fe FFF7FEFF 		bl	_tx_mutex_put
 252              	.LVL28:
 359:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 360:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Return the error status.  */
 361:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         return(status);
 253              		.loc 1 361 25 is_stmt 1 view .LVU78
 254              		.loc 1 361 31 is_stmt 0 view .LVU79
 255 0102 BEE0     		b	.L1
 256              	.LVL29:
 257              	.L10:
 362:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 363:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 364:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Determine if the entry is free.  */
 365:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     if (FAT_value != FX_FREE_CLUSTER)
 366:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 367:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         break;
 368:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 369:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 370:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Otherwise, increment the consecutive FAT indices.  */
 371:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     i++;
 372:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 } while (i < clusters);
 373:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 374:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 375:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 376:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 377:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Determine if we found enough FAT entries.  */
 378:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (i >= clusters)
 258              		.loc 1 378 13 is_stmt 1 view .LVU80
 259              		.loc 1 378 16 is_stmt 0 view .LVU81
 260 0104 5545     		cmp	r5, r10
 261 0106 19D2     		bcs	.L12
 379:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 380:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 381:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Yes, we have found enough FAT entries - set the found
 382:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                    flag and get out of this loop.  */
 383:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 found =  FX_TRUE;
 384:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 break;
 385:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 386:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             else
 387:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 388:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 389:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 390:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 391:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 392:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Find free cluster from exFAT media.  */
 393:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     status = _fx_utility_exFAT_bitmap_free_cluster_find(media_ptr,
 394:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                                                                         FAT_index + i + 1,
 395:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                                                                         &FAT_value);
 396:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     if (status != FX_SUCCESS)
 397:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 398:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 399:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 400:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 401:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 402:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Release media protection.  */
 403:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_UNPROTECT
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 13


 404:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 405:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Return the error status.  */
 406:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         return(status);
 407:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 408:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 409:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     if (FAT_value < FAT_index + i + 1)
 410:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 411:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* If we wrapped.  */
 412:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FAT_index = media_ptr -> fx_media_total_clusters + FX_FAT_ENTRY_START;
 413:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 414:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     else
 415:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 416:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FAT_index = FAT_value;
 417:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 418:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 419:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 else
 420:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 421:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 422:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Position to the next possibly free FAT entry.  */
 423:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FAT_index =  FAT_index + i + 1;
 262              		.loc 1 423 21 is_stmt 1 view .LVU82
 263              		.loc 1 423 44 is_stmt 0 view .LVU83
 264 0108 3544     		add	r5, r5, r6
 265              	.LVL30:
 266              		.loc 1 423 31 view .LVU84
 267 010a 6E1C     		adds	r6, r5, #1
 268              	.LVL31:
 269              	.L8:
 299:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 270              		.loc 1 299 15 is_stmt 1 view .LVU85
 299:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 271              		.loc 1 299 40 is_stmt 0 view .LVU86
 272 010c D8F84030 		ldr	r3, [r8, #64]
 299:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 273              		.loc 1 299 67 view .LVU87
 274 0110 A3EB0A03 		sub	r3, r3, r10
 299:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 275              		.loc 1 299 78 view .LVU88
 276 0114 0233     		adds	r3, r3, #2
 299:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 277              		.loc 1 299 15 view .LVU89
 278 0116 B342     		cmp	r3, r6
 279 0118 0FD3     		bcc	.L38
 303:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 280              		.loc 1 303 15 view .LVU90
 281 011a 5D46     		mov	r5, fp
 282              	.L11:
 283              	.LVL32:
 343:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 284              		.loc 1 343 17 is_stmt 1 view .LVU91
 347:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 285              		.loc 1 347 21 view .LVU92
 347:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 286              		.loc 1 347 31 is_stmt 0 view .LVU93
 287 011c 09AA     		add	r2, sp, #36
 288 011e A919     		adds	r1, r5, r6
 289 0120 4046     		mov	r0, r8
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 14


 290 0122 FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 291              	.LVL33:
 350:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 292              		.loc 1 350 21 is_stmt 1 view .LVU94
 350:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 293              		.loc 1 350 24 is_stmt 0 view .LVU95
 294 0126 0746     		mov	r7, r0
 295 0128 0028     		cmp	r0, #0
 296 012a E7D1     		bne	.L39
 365:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 297              		.loc 1 365 21 is_stmt 1 view .LVU96
 365:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 298              		.loc 1 365 35 is_stmt 0 view .LVU97
 299 012c 099B     		ldr	r3, [sp, #36]
 365:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 300              		.loc 1 365 24 view .LVU98
 301 012e 002B     		cmp	r3, #0
 302 0130 E8D1     		bne	.L10
 371:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 } while (i < clusters);
 303              		.loc 1 371 21 is_stmt 1 view .LVU99
 371:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 } while (i < clusters);
 304              		.loc 1 371 22 is_stmt 0 view .LVU100
 305 0132 0135     		adds	r5, r5, #1
 306              	.LVL34:
 372:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 307              		.loc 1 372 25 is_stmt 1 view .LVU101
 372:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 308              		.loc 1 372 17 is_stmt 0 view .LVU102
 309 0134 AA45     		cmp	r10, r5
 310 0136 F1D8     		bhi	.L11
 311 0138 E4E7     		b	.L10
 312              	.LVL35:
 313              	.L38:
 253:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 314              		.loc 1 253 11 view .LVU103
 315 013a D946     		mov	r9, fp
 316              	.L12:
 317              	.LVL36:
 424:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 425:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 426:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 427:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 428:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 429:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 430:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 431:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif
 432:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 433:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Determine if we found enough consecutive clusters to satisfy the
 434:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****        request.  */
 435:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (found)
 318              		.loc 1 435 5 is_stmt 1 view .LVU104
 319              		.loc 1 435 8 is_stmt 0 view .LVU105
 320 013c B9F1000F 		cmp	r9, #0
 321 0140 00F09980 		beq	.L40
 322              	.L13:
 323              	.LVL37:
 436:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 15


 437:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 438:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 439:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (media_ptr -> fx_media_fault_tolerant_enabled)
 440:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 441:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 442:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Record the action that is about to take place.  This information
 443:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                would aid the undo process should fault condition happens. */
 444:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             media_ptr -> fx_media_fault_tolerant_state |= FX_FAULT_TOLERANT_STATE_SET_FAT_CHAIN;
 445:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_FALSE, file_ptr -> fx_file_last_physical
 446:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                                              FAT_index, media_ptr -> fx_media_fat_last, media_ptr -
 447:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 448:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 449:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 450:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 451:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 452:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 453:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if ((file_ptr -> fx_file_total_clusters) &&
 454:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (FAT_index != file_ptr -> fx_file_last_physical_cluster + 1))
 455:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 456:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Clusters are not consecutive.  */
 457:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat &= (CHAR)0xfe; /* Set 0bit 
 458:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 459:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Rebuild FAT.  */
 460:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 FAT_value = file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster +
 461:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                             file_ptr -> fx_file_total_clusters - 1; /* Last cluster */
 462:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 463:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 for (i = file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster; i < FAT_value; ++i)
 464:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 465:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     status = _fx_utility_FAT_entry_write(media_ptr, i, i + 1);
 466:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     if (status != FX_SUCCESS)
 467:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     {
 468:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 469:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 470:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 471:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 472:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 473:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Release media protection.  */
 474:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         FX_UNPROTECT
 475:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 476:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         /* Return the bad status.  */
 477:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         return(status);
 478:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     }
 479:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 480:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 481:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Close chain.  */
 482:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 status = _fx_utility_FAT_entry_write(media_ptr, FAT_value, media_ptr -> fx_media_fa
 483:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (status != FX_SUCCESS)
 484:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 485:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 486:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 487:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 488:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 489:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 490:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Release media protection.  */
 491:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_UNPROTECT
 492:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 493:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Return the bad status.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 16


 494:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     return(status);
 495:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 496:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 497:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 498:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (media_ptr -> fx_media_fault_tolerant_enabled)
 499:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 500:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 501:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Clear undo phase. */
 502:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     media_ptr -> fx_media_fault_tolerant_state &= (UCHAR)(~FX_FAULT_TOLERANT_STATE_
 503:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 504:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 505:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 506:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Update stream.  */
 507:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 status = _fx_directory_exFAT_entry_write(
 508:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                         media_ptr, &(file_ptr -> fx_file_dir_entry), UPDATE_STREAM);
 509:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 510:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (status != FX_SUCCESS)
 511:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 512:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 513:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 514:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 515:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 516:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Release media protection.  */
 517:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_UNPROTECT
 518:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 519:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Return the bad status.  */
 520:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     return(status);
 521:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 522:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 523:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 524:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (media_ptr -> fx_media_fault_tolerant_enabled)
 525:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 526:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 527:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Set undo phase. */
 528:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     media_ptr -> fx_media_fault_tolerant_state |= FX_FAULT_TOLERANT_STATE_SET_FAT_C
 529:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 530:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 531:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 532:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 533:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 534:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 535:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Update the link pointers in the new clusters.  */
 536:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         for (i = 0; i < (clusters - 1); i++)
 324              		.loc 1 536 21 is_stmt 1 discriminator 1 view .LVU106
 325              		.loc 1 536 35 is_stmt 0 discriminator 1 view .LVU107
 326 0144 0AF1FF33 		add	r3, r10, #-1
 327              		.loc 1 536 9 discriminator 1 view .LVU108
 328 0148 5B45     		cmp	r3, fp
 329 014a 0ED9     		bls	.L41
 537:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 538:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 539:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 540:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 541:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 || (media_ptr -> fx_media_fault_tolerant_enabled == FX_TRUE)
 542:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 543:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                )
 544:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 17


 545:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 546:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 547:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Update the cluster links.  Since the allocation is
 548:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                    sequential, we just have to link each FAT entry to the
 549:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                    next one.  */
 550:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 status =  _fx_utility_FAT_entry_write(media_ptr, FAT_index + i, FAT_index + i + 1);
 330              		.loc 1 550 17 is_stmt 1 view .LVU109
 331              		.loc 1 550 27 is_stmt 0 view .LVU110
 332 014c 0BEB0601 		add	r1, fp, r6
 333 0150 4A1C     		adds	r2, r1, #1
 334 0152 4046     		mov	r0, r8
 335 0154 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 336              	.LVL38:
 551:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 552:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Check for a bad status.  */
 553:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (status != FX_SUCCESS)
 337              		.loc 1 553 17 is_stmt 1 view .LVU111
 338              		.loc 1 553 20 is_stmt 0 view .LVU112
 339 0158 0746     		mov	r7, r0
 340 015a 10B9     		cbnz	r0, .L42
 536:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 341              		.loc 1 536 41 is_stmt 1 discriminator 2 view .LVU113
 536:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 342              		.loc 1 536 42 is_stmt 0 discriminator 2 view .LVU114
 343 015c 0BF1010B 		add	fp, fp, #1
 344              	.LVL39:
 536:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 345              		.loc 1 536 42 discriminator 2 view .LVU115
 346 0160 F0E7     		b	.L13
 347              	.L42:
 554:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 555:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 556:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 557:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 558:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 559:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 560:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Release media protection.  */
 561:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_UNPROTECT
 348              		.loc 1 561 21 is_stmt 1 view .LVU116
 349 0162 0598     		ldr	r0, [sp, #20]
 350              	.LVL40:
 351              		.loc 1 561 21 is_stmt 0 view .LVU117
 352 0164 FFF7FEFF 		bl	_tx_mutex_put
 353              	.LVL41:
 562:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 563:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Return the error status.  */
 564:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     return(status);
 354              		.loc 1 564 21 is_stmt 1 view .LVU118
 355              		.loc 1 564 27 is_stmt 0 view .LVU119
 356 0168 8BE0     		b	.L1
 357              	.LVL42:
 358              	.L41:
 565:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 566:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 567:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 568:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 569:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 18


 570:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 571:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 572:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Mark the cluster as used.  */
 573:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 status = _fx_utility_exFAT_cluster_state_set(media_ptr, FAT_index + i, FX_EXFAT_BIT
 574:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 575:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Check for a bad status.  */
 576:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (status != FX_SUCCESS)
 577:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 578:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 579:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 580:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 581:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 582:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 583:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Release media protection.  */
 584:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_UNPROTECT
 585:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 586:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Return the error status.  */
 587:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     return(status);
 588:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 589:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 590:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 591:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 592:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 593:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 594:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 595:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 596:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 597:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Now place an EOF in the last cluster entry.  */
 598:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             status =  _fx_utility_FAT_entry_write(media_ptr, FAT_index + clusters - 1, media_ptr ->
 359              		.loc 1 598 13 is_stmt 1 view .LVU120
 360              		.loc 1 598 72 is_stmt 0 view .LVU121
 361 016a 079B     		ldr	r3, [sp, #28]
 362 016c F518     		adds	r5, r6, r3
 363              		.loc 1 598 23 view .LVU122
 364 016e 013D     		subs	r5, r5, #1
 365 0170 08F50053 		add	r3, r8, #8192
 366 0174 D3F8AC24 		ldr	r2, [r3, #1196]
 367 0178 2946     		mov	r1, r5
 368 017a 4046     		mov	r0, r8
 369 017c FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 370              	.LVL43:
 599:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 600:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Check for a bad status.  */
 601:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (status != FX_SUCCESS)
 371              		.loc 1 601 13 is_stmt 1 view .LVU123
 372              		.loc 1 601 16 is_stmt 0 view .LVU124
 373 0180 0746     		mov	r7, r0
 374 0182 0028     		cmp	r0, #0
 375 0184 45D1     		bne	.L43
 602:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 603:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 604:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 605:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 606:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 607:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 608:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Release media protection.  */
 609:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 FX_UNPROTECT
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 19


 610:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 611:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Return the error status.  */
 612:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 return(status);
 613:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 614:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 615:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 616:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 617:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 618:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 619:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 620:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Mark the cluster as used.  */
 621:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             status = _fx_utility_exFAT_cluster_state_set(media_ptr, FAT_index + clusters - 1, FX_EX
 622:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 623:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Check for a bad status.  */
 624:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (status != FX_SUCCESS)
 625:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 626:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 627:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 628:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 629:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 630:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 631:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Release media protection.  */
 632:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 FX_UNPROTECT
 633:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 634:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Return the error status.  */
 635:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 return(status);
 636:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 637:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 638:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 639:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 640:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_FAULT_TOLERANT
 641:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 642:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Flush the cached individual FAT entries */
 643:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         _fx_utility_FAT_flush(media_ptr);
 644:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 645:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 646:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 647:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 648:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             _fx_utility_exFAT_bitmap_flush(media_ptr);
 649:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 650:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 651:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif
 652:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 653:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Actually link up the new clusters to the file.  */
 654:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 655:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Determine if there are already clusters allocated for this file.  */
 656:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (file_ptr -> fx_file_total_clusters)
 376              		.loc 1 656 9 is_stmt 1 view .LVU125
 377              		.loc 1 656 22 is_stmt 0 view .LVU126
 378 0186 2369     		ldr	r3, [r4, #16]
 379              		.loc 1 656 12 view .LVU127
 380 0188 002B     		cmp	r3, #0
 381 018a 46D1     		bne	.L44
 657:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 658:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 659:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 660:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 20


 661:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 662:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 663:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Linkup the last cluster.  */
 664:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 status =  _fx_utility_FAT_entry_write(media_ptr,
 665:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 666:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 667:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Check for a bad status.  */
 668:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 if (status != FX_SUCCESS)
 669:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 670:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 671:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 672:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 673:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 674:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 675:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Release media protection.  */
 676:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     FX_UNPROTECT
 677:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 678:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     /* Return the error status.  */
 679:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     return(status);
 680:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 681:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 682:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 683:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 684:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 685:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Determine if we are adding a sector after a write filled the previously
 686:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                allocated cluster exactly.  */
 687:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             if ((file_ptr -> fx_file_current_relative_sector >=
 688:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (media_ptr -> fx_media_sectors_per_cluster - 1)) &&           
 689:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 690:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                  media_ptr -> fx_media_bytes_per_sector))
 691:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 692:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 693:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 /* Yes, we need to adjust all of the pertinent file parameters for
 694:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                    access into this newly allocated cluster.  */
 695:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_physical_cluster =  FAT_index;
 696:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_relative_cluster++;
 697:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 698:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_
 699:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 700:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                      ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 701:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_logical_offset =    0;
 702:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 703:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 704:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         else
 705:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 706:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 707:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* These new clusters are also the first!  Setup the initial
 708:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                file parameters.  */
 709:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_first_physical_cluster =    FAT_index;
 382              		.loc 1 709 13 is_stmt 1 view .LVU128
 383              		.loc 1 709 56 is_stmt 0 view .LVU129
 384 018c 6661     		str	r6, [r4, #20]
 710:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_physical_cluster =  file_ptr -> fx_file_first_physical_clus
 385              		.loc 1 710 13 is_stmt 1 view .LVU130
 386              		.loc 1 710 58 is_stmt 0 view .LVU131
 387 018e 2662     		str	r6, [r4, #32]
 711:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_relative_cluster =  0;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 21


 388              		.loc 1 711 13 is_stmt 1 view .LVU132
 389              		.loc 1 711 58 is_stmt 0 view .LVU133
 390 0190 0020     		movs	r0, #0
 391              	.LVL44:
 392              		.loc 1 711 58 view .LVU134
 393 0192 6063     		str	r0, [r4, #52]
 712:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 394              		.loc 1 712 13 is_stmt 1 view .LVU135
 395              		.loc 1 712 79 is_stmt 0 view .LVU136
 396 0194 D8F85020 		ldr	r2, [r8, #80]
 713:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (((ULONG64)(file_ptr -> fx_file_first_physical_cluster - FX_FAT_ENTRY_START)) *
 397              		.loc 1 713 72 view .LVU137
 398 0198 B11E     		subs	r1, r6, #2
 714:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 399              		.loc 1 714 36 view .LVU138
 400 019a D8F85430 		ldr	r3, [r8, #84]
 713:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (((ULONG64)(file_ptr -> fx_file_first_physical_cluster - FX_FAT_ENTRY_START)) *
 401              		.loc 1 713 95 view .LVU139
 402 019e A1FB0313 		umull	r1, r3, r1, r3
 712:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 403              		.loc 1 712 110 view .LVU140
 404 01a2 5218     		adds	r2, r2, r1
 405 01a4 43F10003 		adc	r3, r3, #0
 712:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 406              		.loc 1 712 56 view .LVU141
 407 01a8 A262     		str	r2, [r4, #40]
 408 01aa E362     		str	r3, [r4, #44]
 715:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_logical_offset =    0;
 409              		.loc 1 715 13 is_stmt 1 view .LVU142
 410              		.loc 1 715 56 is_stmt 0 view .LVU143
 411 01ac 2063     		str	r0, [r4, #48]
 716:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_file_offset =       0;
 412              		.loc 1 716 13 is_stmt 1 view .LVU144
 413              		.loc 1 716 53 is_stmt 0 view .LVU145
 414 01ae 0022     		movs	r2, #0
 415 01b0 0023     		movs	r3, #0
 416 01b2 C4E91023 		strd	r2, [r4, #64]
 717:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 718:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Update the first cluster in the directory entry.  */
 719:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster =  FAT_index;
 417              		.loc 1 719 13 is_stmt 1 view .LVU146
 418              		.loc 1 719 64 is_stmt 0 view .LVU147
 419 01b6 C4F89C60 		str	r6, [r4, #156]
 420              	.L20:
 720:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 721:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 722:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Remember the last physical cluster.  */
 723:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         file_ptr -> fx_file_last_physical_cluster =     FAT_index + clusters - 1;
 421              		.loc 1 723 9 is_stmt 1 view .LVU148
 422              		.loc 1 723 51 is_stmt 0 view .LVU149
 423 01ba E561     		str	r5, [r4, #28]
 724:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 725:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 726:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (file_ptr -> fx_file_current_available_size > (file_ptr -> fx_file_current_available_siz
 727:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 728:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* 64-bit wrap around condition is present.  Just set the available file size to all on
 729:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                the maximum file size.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 22


 730:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_available_size =  0xFFFFFFFFFFFFFFFFULL;
 731:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 732:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 733:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 734:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Check for wrap-around when updating the available size.  */
 735:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 736:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if ((media_ptr -> fx_media_FAT_type != FX_exFAT) &&
 737:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             (file_ptr -> fx_file_current_available_size + (bytes_per_cluster * clusters) > 0xFFFFFF
 738:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 739:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 740:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* 32-bit wrap around condition is present.  Just set the available file size to all on
 741:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                the maximum file size.  */
 742:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_available_size =  ((ULONG)0xFFFFFFFF);
 743:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 744:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         else
 745:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 746:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 747:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Normal condition, update the available size.  */
 748:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_current_available_size =
 749:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_available_size + (bytes_per_cluster * clusters);
 750:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 751:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #else
 752:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Update the available size.  */
 753:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         file_ptr -> fx_file_current_available_size =
 424              		.loc 1 753 9 is_stmt 1 view .LVU150
 754:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_available_size + (bytes_per_cluster * clusters);
 425              		.loc 1 754 26 is_stmt 0 view .LVU151
 426 01bc 226D     		ldr	r2, [r4, #80]
 427 01be 616D     		ldr	r1, [r4, #84]
 428              		.loc 1 754 81 view .LVU152
 429 01c0 069B     		ldr	r3, [sp, #24]
 430 01c2 0798     		ldr	r0, [sp, #28]
 431 01c4 00FB03F3 		mul	r3, r0, r3
 432              		.loc 1 754 60 view .LVU153
 433 01c8 D318     		adds	r3, r2, r3
 434 01ca 41F10001 		adc	r1, r1, #0
 753:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_available_size + (bytes_per_cluster * clusters);
 435              		.loc 1 753 52 view .LVU154
 436 01ce 2365     		str	r3, [r4, #80]
 437 01d0 6165     		str	r1, [r4, #84]
 755:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         
 756:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 757:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 758:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Increment the total clusters for this file.  */
 759:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         file_ptr -> fx_file_total_clusters =
 438              		.loc 1 759 9 is_stmt 1 view .LVU155
 760:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_total_clusters + clusters;
 439              		.loc 1 760 22 is_stmt 0 view .LVU156
 440 01d2 2369     		ldr	r3, [r4, #16]
 441              		.loc 1 760 48 view .LVU157
 442 01d4 0344     		add	r3, r3, r0
 759:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             file_ptr -> fx_file_total_clusters + clusters;
 443              		.loc 1 759 44 view .LVU158
 444 01d6 2361     		str	r3, [r4, #16]
 761:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 762:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Decrease the available clusters on the media.  */
 763:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         media_ptr -> fx_media_available_clusters =
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 23


 445              		.loc 1 763 9 is_stmt 1 view .LVU159
 764:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             media_ptr -> fx_media_available_clusters - clusters;
 446              		.loc 1 764 23 is_stmt 0 view .LVU160
 447 01d8 D8F87C30 		ldr	r3, [r8, #124]
 448              		.loc 1 764 54 view .LVU161
 449 01dc 1B1A     		subs	r3, r3, r0
 763:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             media_ptr -> fx_media_available_clusters - clusters;
 450              		.loc 1 763 50 view .LVU162
 451 01de C8F87C30 		str	r3, [r8, #124]
 765:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 766:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #if defined(FX_UPDATE_FILE_SIZE_ON_ALLOCATE) || defined(FX_ENABLE_FAULT_TOLERANT)
 767:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 768:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Set the file size the current size plus what what was added.  */
 769:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         file_ptr -> fx_file_current_file_size +=  size;
 770:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 771:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Copy the new file size into the directory entry.  */
 772:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =  file_ptr -> fx_file_current_file_si
 773:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif
 774:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 775:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 776:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (media_ptr -> fx_media_fault_tolerant_enabled)
 777:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 778:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 779:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Clear undo phase. */
 780:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             media_ptr -> fx_media_fault_tolerant_state &= (UCHAR)(~FX_FAULT_TOLERANT_STATE_SET_FAT_
 781:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 782:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 783:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 784:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Update the trace event with the new size.  */
 785:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_FILE_ALLOCATE, 0, 0, 0, file_p
 452              		.loc 1 785 132 is_stmt 1 view .LVU163
 786:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 787:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Write the directory entry to the media.  */
 788:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 789:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 790:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 791:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             status = _fx_directory_exFAT_entry_write(
 792:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     media_ptr, &(file_ptr -> fx_file_dir_entry), UPDATE_STREAM);
 793:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 794:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         else
 795:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 796:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 797:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             status = _fx_directory_entry_write(media_ptr, &(file_ptr -> fx_file_dir_entry));
 453              		.loc 1 797 13 view .LVU164
 454              		.loc 1 797 22 is_stmt 0 view .LVU165
 455 01e2 04F16801 		add	r1, r4, #104
 456 01e6 4046     		mov	r0, r8
 457 01e8 FFF7FEFF 		bl	_fx_directory_entry_write
 458              	.LVL45:
 798:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_EXFAT
 799:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 800:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 801:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 802:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Check for a good status.  */
 803:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         if (status != FX_SUCCESS)
 459              		.loc 1 803 9 is_stmt 1 view .LVU166
 460              		.loc 1 803 12 is_stmt 0 view .LVU167
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 24


 461 01ec 0746     		mov	r7, r0
 462 01ee 0028     		cmp	r0, #0
 463 01f0 3DD1     		bne	.L45
 804:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         {
 805:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 806:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 807:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 808:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 809:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 810:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Release media protection.  */
 811:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             FX_UNPROTECT
 812:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 813:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             /* Return the error status.  */
 814:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             return(status);
 815:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 816:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 817:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     else
 818:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 819:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 820:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 821:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 822:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 823:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 824:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Release media protection.  */
 825:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_UNPROTECT
 826:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 827:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Not enough contiguous space on the media.  Return error status.  */
 828:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(FX_NO_MORE_SPACE);
 829:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 830:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 831:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_FAULT_TOLERANT
 832:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 833:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Flush the cached individual FAT entries */
 834:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     _fx_utility_FAT_flush(media_ptr);
 835:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif
 836:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 837:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Flush the internal logical sector cache.  */
 838:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     status =  _fx_utility_logical_sector_flush(media_ptr, ((ULONG64) 1), (ULONG64)(media_ptr -> fx_
 464              		.loc 1 838 5 is_stmt 1 view .LVU168
 465              		.loc 1 838 94 is_stmt 0 view .LVU169
 466 01f2 D8F85820 		ldr	r2, [r8, #88]
 467              		.loc 1 838 15 view .LVU170
 468 01f6 0023     		movs	r3, #0
 469 01f8 0293     		str	r3, [sp, #8]
 470 01fa 0092     		str	r2, [sp]
 471 01fc 0193     		str	r3, [sp, #4]
 472 01fe 0122     		movs	r2, #1
 473 0200 0023     		movs	r3, #0
 474 0202 4046     		mov	r0, r8
 475              	.LVL46:
 476              		.loc 1 838 15 view .LVU171
 477 0204 FFF7FEFF 		bl	_fx_utility_logical_sector_flush
 478              	.LVL47:
 479 0208 0746     		mov	r7, r0
 480              	.LVL48:
 839:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 840:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 25


 841:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Check for a bad status.  */
 842:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (status != FX_SUCCESS)
 843:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 844:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 845:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 846:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 847:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Release media protection.  */
 848:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         FX_UNPROTECT
 849:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 850:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Return the bad status.  */
 851:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         return(status);
 852:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 853:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 854:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     if (media_ptr -> fx_media_fault_tolerant_enabled)
 855:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     {
 856:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 857:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         /* Copy the new file size into the directory entry.  */
 858:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size = file_ptr -> fx_file_current_file_siz
 859:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 860:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 861:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* End transaction. */
 862:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     status = _fx_fault_tolerant_transaction_end(media_ptr);
 863:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 864:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 865:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Release media protection.  */
 866:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     FX_UNPROTECT
 481              		.loc 1 866 5 is_stmt 1 view .LVU172
 482 020a 0598     		ldr	r0, [sp, #20]
 483              	.LVL49:
 484              		.loc 1 866 5 is_stmt 0 view .LVU173
 485 020c FFF7FEFF 		bl	_tx_mutex_put
 486              	.LVL50:
 867:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 868:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     /* Return status to the caller.  */
 869:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     return(status);
 487              		.loc 1 869 5 is_stmt 1 view .LVU174
 488              		.loc 1 869 11 is_stmt 0 view .LVU175
 489 0210 37E0     		b	.L1
 490              	.LVL51:
 491              	.L43:
 609:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 492              		.loc 1 609 17 is_stmt 1 view .LVU176
 493 0212 0598     		ldr	r0, [sp, #20]
 494              	.LVL52:
 609:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 495              		.loc 1 609 17 is_stmt 0 view .LVU177
 496 0214 FFF7FEFF 		bl	_tx_mutex_put
 497              	.LVL53:
 612:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 498              		.loc 1 612 17 is_stmt 1 view .LVU178
 612:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 499              		.loc 1 612 23 is_stmt 0 view .LVU179
 500 0218 33E0     		b	.L1
 501              	.LVL54:
 502              	.L44:
 664:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 503              		.loc 1 664 17 is_stmt 1 view .LVU180
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 26


 664:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 504              		.loc 1 664 27 is_stmt 0 view .LVU181
 505 021a 3246     		mov	r2, r6
 506 021c E169     		ldr	r1, [r4, #28]
 507 021e 4046     		mov	r0, r8
 508              	.LVL55:
 664:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 509              		.loc 1 664 27 view .LVU182
 510 0220 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 511              	.LVL56:
 668:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 512              		.loc 1 668 17 is_stmt 1 view .LVU183
 668:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 {
 513              		.loc 1 668 20 is_stmt 0 view .LVU184
 514 0224 0746     		mov	r7, r0
 515 0226 F0B9     		cbnz	r0, .L46
 687:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (media_ptr -> fx_media_sectors_per_cluster - 1)) &&           
 516              		.loc 1 687 13 is_stmt 1 view .LVU185
 687:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (media_ptr -> fx_media_sectors_per_cluster - 1)) &&           
 517              		.loc 1 687 27 is_stmt 0 view .LVU186
 518 0228 A26B     		ldr	r2, [r4, #56]
 688:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 519              		.loc 1 688 28 view .LVU187
 520 022a D8F85430 		ldr	r3, [r8, #84]
 688:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 521              		.loc 1 688 60 view .LVU188
 522 022e 013B     		subs	r3, r3, #1
 687:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (media_ptr -> fx_media_sectors_per_cluster - 1)) &&           
 523              		.loc 1 687 16 view .LVU189
 524 0230 9A42     		cmp	r2, r3
 525 0232 C2D3     		bcc	.L20
 689:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                  media_ptr -> fx_media_bytes_per_sector))
 526              		.loc 1 689 27 view .LVU190
 527 0234 226B     		ldr	r2, [r4, #48]
 690:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             {
 528              		.loc 1 690 28 view .LVU191
 529 0236 D8F82830 		ldr	r3, [r8, #40]
 688:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 530              		.loc 1 688 66 view .LVU192
 531 023a 9A42     		cmp	r2, r3
 532 023c BDD3     		bcc	.L20
 695:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_relative_cluster++;
 533              		.loc 1 695 17 is_stmt 1 view .LVU193
 695:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_relative_cluster++;
 534              		.loc 1 695 62 is_stmt 0 view .LVU194
 535 023e 2662     		str	r6, [r4, #32]
 696:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 536              		.loc 1 696 17 is_stmt 1 view .LVU195
 696:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 537              		.loc 1 696 26 is_stmt 0 view .LVU196
 538 0240 636B     		ldr	r3, [r4, #52]
 696:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 539              		.loc 1 696 61 view .LVU197
 540 0242 0133     		adds	r3, r3, #1
 541 0244 6363     		str	r3, [r4, #52]
 697:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_
 542              		.loc 1 697 17 is_stmt 1 view .LVU198
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 27


 697:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_
 543              		.loc 1 697 61 is_stmt 0 view .LVU199
 544 0246 0020     		movs	r0, #0
 545              	.LVL57:
 697:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_
 546              		.loc 1 697 61 view .LVU200
 547 0248 A063     		str	r0, [r4, #56]
 698:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 548              		.loc 1 698 17 is_stmt 1 view .LVU201
 698:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 549              		.loc 1 698 83 is_stmt 0 view .LVU202
 550 024a D8F85020 		ldr	r2, [r8, #80]
 699:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                      ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 551              		.loc 1 699 43 view .LVU203
 552 024e B11E     		subs	r1, r6, #2
 700:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 file_ptr -> fx_file_current_logical_offset =    0;
 553              		.loc 1 700 40 view .LVU204
 554 0250 D8F85430 		ldr	r3, [r8, #84]
 699:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                      ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 555              		.loc 1 699 66 view .LVU205
 556 0254 A1FB0313 		umull	r1, r3, r1, r3
 698:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 557              		.loc 1 698 114 view .LVU206
 558 0258 5218     		adds	r2, r2, r1
 559 025a 43F10003 		adc	r3, r3, #0
 698:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 560              		.loc 1 698 60 view .LVU207
 561 025e A262     		str	r2, [r4, #40]
 562 0260 E362     		str	r3, [r4, #44]
 701:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 563              		.loc 1 701 17 is_stmt 1 view .LVU208
 701:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****             }
 564              		.loc 1 701 60 is_stmt 0 view .LVU209
 565 0262 2063     		str	r0, [r4, #48]
 566 0264 A9E7     		b	.L20
 567              	.LVL58:
 568              	.L46:
 676:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 569              		.loc 1 676 21 is_stmt 1 view .LVU210
 570 0266 0598     		ldr	r0, [sp, #20]
 571              	.LVL59:
 676:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 572              		.loc 1 676 21 is_stmt 0 view .LVU211
 573 0268 FFF7FEFF 		bl	_tx_mutex_put
 574              	.LVL60:
 679:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 575              		.loc 1 679 21 is_stmt 1 view .LVU212
 679:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****                 }
 576              		.loc 1 679 27 is_stmt 0 view .LVU213
 577 026c 09E0     		b	.L1
 578              	.LVL61:
 579              	.L45:
 811:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 580              		.loc 1 811 13 is_stmt 1 view .LVU214
 581 026e 0598     		ldr	r0, [sp, #20]
 582              	.LVL62:
 811:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 28


 583              		.loc 1 811 13 is_stmt 0 view .LVU215
 584 0270 FFF7FEFF 		bl	_tx_mutex_put
 585              	.LVL63:
 814:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 586              		.loc 1 814 13 is_stmt 1 view .LVU216
 814:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****         }
 587              		.loc 1 814 19 is_stmt 0 view .LVU217
 588 0274 05E0     		b	.L1
 589              	.LVL64:
 590              	.L40:
 825:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 591              		.loc 1 825 9 is_stmt 1 view .LVU218
 592 0276 0598     		ldr	r0, [sp, #20]
 593 0278 FFF7FEFF 		bl	_tx_mutex_put
 594              	.LVL65:
 828:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 595              		.loc 1 828 9 view .LVU219
 828:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 596              		.loc 1 828 15 is_stmt 0 view .LVU220
 597 027c 0A27     		movs	r7, #10
 598 027e 00E0     		b	.L1
 599              	.LVL66:
 600              	.L22:
 123:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 601              		.loc 1 123 15 view .LVU221
 602 0280 0727     		movs	r7, #7
 603              	.LVL67:
 604              	.L1:
 870:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** }
 605              		.loc 1 870 1 view .LVU222
 606 0282 3846     		mov	r0, r7
 607 0284 0BB0     		add	sp, sp, #44
 608              	.LCFI2:
 609              		.cfi_remember_state
 610              		.cfi_def_cfa_offset 36
 611              		@ sp needed
 612 0286 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 613              	.LVL68:
 614              	.L23:
 615              	.LCFI3:
 616              		.cfi_restore_state
 141:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 617              		.loc 1 141 15 view .LVU223
 618 028a 0627     		movs	r7, #6
 619 028c F9E7     		b	.L1
 620              	.L24:
 149:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c ****     }
 621              		.loc 1 149 15 view .LVU224
 622 028e 0027     		movs	r7, #0
 623 0290 F7E7     		b	.L1
 624              	.LVL69:
 625              	.L26:
 159:Middlewares/ST/filex/common/src/fx_file_extended_allocate.c **** 
 626              		.loc 1 159 5 view .LVU225
 627 0292 1127     		movs	r7, #17
 628 0294 F5E7     		b	.L1
 629              	.L48:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 29


 630 0296 00BF     		.align	2
 631              	.L47:
 632 0298 454C4946 		.word	1179208773
 633 029c 4944454D 		.word	1296385097
 634              		.cfi_endproc
 635              	.LFE8:
 637              		.text
 638              	.Letext0:
 639              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 640              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 641              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 642              		.file 5 "Middlewares/ST/filex/common/inc/fx_utility.h"
 643              		.file 6 "Middlewares/ST/filex/common/inc/fx_directory.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccuWShtg.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 fx_file_extended_allocate.c
C:\Users\HP\AppData\Local\Temp\ccuWShtg.s:21     .text._fx_file_extended_allocate:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccuWShtg.s:27     .text._fx_file_extended_allocate:00000000 _fx_file_extended_allocate
C:\Users\HP\AppData\Local\Temp\ccuWShtg.s:632    .text._fx_file_extended_allocate:00000298 $d

UNDEFINED SYMBOLS
__aeabi_uldivmod
_tx_mutex_get
_tx_mutex_put
_fx_utility_FAT_entry_read
_fx_utility_FAT_entry_write
_fx_directory_entry_write
_fx_utility_logical_sector_flush

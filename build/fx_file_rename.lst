ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_file_rename.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._fx_file_rename,"ax",%progbits
  20              		.align	1
  21              		.global	_fx_file_rename
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_fx_file_rename:
  27              	.LVL0:
  28              	.LFB8:
  29              		.file 1 "Middlewares/ST/filex/common/src/fx_file_rename.c"
   1:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  12:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  13:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_file_rename.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**   File                                                                */
  19:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  23:Middlewares/ST/filex/common/src/fx_file_rename.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  25:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  26:Middlewares/ST/filex/common/src/fx_file_rename.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  28:Middlewares/ST/filex/common/src/fx_file_rename.c **** #include "fx_api.h"
  29:Middlewares/ST/filex/common/src/fx_file_rename.c **** #include "fx_system.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 2


  30:Middlewares/ST/filex/common/src/fx_file_rename.c **** #include "fx_directory.h"
  31:Middlewares/ST/filex/common/src/fx_file_rename.c **** #include "fx_file.h"
  32:Middlewares/ST/filex/common/src/fx_file_rename.c **** #include "fx_utility.h"
  33:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
  34:Middlewares/ST/filex/common/src/fx_file_rename.c **** #include "fx_directory_exFAT.h"
  35:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
  36:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  37:Middlewares/ST/filex/common/src/fx_file_rename.c **** #include "fx_fault_tolerant.h"
  38:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  39:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  40:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  41:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
  42:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  43:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  FUNCTION                                               RELEASE        */
  44:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  45:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_file_rename                                     PORTABLE C      */
  46:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                           6.1          */
  47:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  AUTHOR                                                                */
  48:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  49:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    William E. Lamie, Microsoft Corporation                             */
  50:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  51:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  DESCRIPTION                                                           */
  52:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  53:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    This function first attempts to find the specified file.  If found, */
  54:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    the rename request is valid and the directory entry will be changed */
  55:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    to the new file name.  Otherwise, if the file is not found, the     */
  56:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    appropriate error code is returned to the caller.                   */
  57:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  58:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  INPUT                                                                 */
  59:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  60:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    media_ptr                             Media control block pointer   */
  61:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    old_file_name                         Old file name pointer         */
  62:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    new_file_name                         New file name pointer         */
  63:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  64:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  OUTPUT                                                                */
  65:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  66:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    return status                                                       */
  67:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  68:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  CALLS                                                                 */
  69:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  70:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_directory_entry_write             Write the new directory entry */
  71:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_directory_free_search             Search for a free directory   */
  72:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                            entry in target directory   */
  73:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_directory_name_extract            Extract the new filename      */
  74:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_directory_search                  Search for the file name in   */
  75:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                          the directory structure       */
  76:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_fault_tolerant_transaction_start  Start fault tolerant          */
  77:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                            transaction                 */
  78:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_fault_tolerant_transaction_end    End fault tolerant transaction*/
  79:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    _fx_fault_tolerant_recover            Recover FAT chain             */
  80:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  81:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  CALLED BY                                                             */
  82:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  83:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    Application Code                                                    */
  84:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  85:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  RELEASE HISTORY                                                       */
  86:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 3


  87:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*    DATE              NAME                      DESCRIPTION             */
  88:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  89:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  90:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  91:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                            resulting in version 6.1    */
  92:Middlewares/ST/filex/common/src/fx_file_rename.c **** /*                                                                        */
  93:Middlewares/ST/filex/common/src/fx_file_rename.c **** /**************************************************************************/
  94:Middlewares/ST/filex/common/src/fx_file_rename.c **** UINT  _fx_file_rename(FX_MEDIA *media_ptr, CHAR *old_file_name, CHAR *new_file_name)
  95:Middlewares/ST/filex/common/src/fx_file_rename.c **** {
  30              		.loc 1 95 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 344
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 95 1 is_stmt 0 view .LVU1
  35 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 D8B0     		sub	sp, sp, #352
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 376
  47 0006 0546     		mov	r5, r0
  48 0008 0F46     		mov	r7, r1
  49 000a 1646     		mov	r6, r2
  96:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
  97:Middlewares/ST/filex/common/src/fx_file_rename.c **** ULONG        i;
  50              		.loc 1 97 1 is_stmt 1 view .LVU2
  98:Middlewares/ST/filex/common/src/fx_file_rename.c **** CHAR        *work_ptr;
  51              		.loc 1 98 1 view .LVU3
  99:Middlewares/ST/filex/common/src/fx_file_rename.c **** CHAR         alpha, beta;
  52              		.loc 1 99 1 view .LVU4
 100:Middlewares/ST/filex/common/src/fx_file_rename.c **** UINT         status;
  53              		.loc 1 100 1 view .LVU5
 101:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 102:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifndef FX_DONT_UPDATE_OPEN_FILES
 103:Middlewares/ST/filex/common/src/fx_file_rename.c **** ULONG        open_count;
  54              		.loc 1 103 1 view .LVU6
 104:Middlewares/ST/filex/common/src/fx_file_rename.c **** FX_FILE     *search_ptr;
  55              		.loc 1 104 1 view .LVU7
 105:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 106:Middlewares/ST/filex/common/src/fx_file_rename.c **** CHAR        *new_name_ptr;
  56              		.loc 1 106 1 view .LVU8
 107:Middlewares/ST/filex/common/src/fx_file_rename.c **** FX_DIR_ENTRY old_dir_entry, new_dir_entry;
  57              		.loc 1 107 1 view .LVU9
 108:Middlewares/ST/filex/common/src/fx_file_rename.c **** FX_DIR_ENTRY search_directory;
  58              		.loc 1 108 1 view .LVU10
 109:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_RENAME_PATH_INHERIT
 110:Middlewares/ST/filex/common/src/fx_file_rename.c **** UINT         j;
 111:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 112:Middlewares/ST/filex/common/src/fx_file_rename.c **** UCHAR        not_a_file_attr;
  59              		.loc 1 112 1 view .LVU11
 113:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 4


 114:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 115:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 116:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 117:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Increment the number of times this service has been called.  */
 118:Middlewares/ST/filex/common/src/fx_file_rename.c ****     media_ptr -> fx_media_file_renames++;
  60              		.loc 1 118 5 view .LVU12
  61              		.loc 1 118 15 is_stmt 0 view .LVU13
  62 000c D0F84431 		ldr	r3, [r0, #324]
  63              		.loc 1 118 39 view .LVU14
  64 0010 0133     		adds	r3, r3, #1
  65 0012 C0F84431 		str	r3, [r0, #324]
 119:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 120:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 121:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Setup pointers to media name buffers.  */
 122:Middlewares/ST/filex/common/src/fx_file_rename.c ****     old_dir_entry.fx_dir_entry_name =     media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN;
  66              		.loc 1 122 5 is_stmt 1 view .LVU15
  67              		.loc 1 122 77 is_stmt 0 view .LVU16
  68 0016 00F69C13 		addw	r3, r0, #2460
  69              		.loc 1 122 37 view .LVU17
  70 001a 3A93     		str	r3, [sp, #232]
 123:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_name =     media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN 
  71              		.loc 1 123 5 is_stmt 1 view .LVU18
  72              		.loc 1 123 77 is_stmt 0 view .LVU19
  73 001c 00F69C23 		addw	r3, r0, #2716
  74              		.loc 1 123 37 view .LVU20
  75 0020 1E93     		str	r3, [sp, #120]
 124:Middlewares/ST/filex/common/src/fx_file_rename.c ****     search_directory.fx_dir_entry_name =  media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN 
  76              		.loc 1 124 5 is_stmt 1 view .LVU21
  77              		.loc 1 124 77 is_stmt 0 view .LVU22
  78 0022 00F69C33 		addw	r3, r0, #2972
  79              		.loc 1 124 40 view .LVU23
  80 0026 0293     		str	r3, [sp, #8]
 125:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 126:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Clear the short name strings.  */
 127:Middlewares/ST/filex/common/src/fx_file_rename.c ****     old_dir_entry.fx_dir_entry_short_name[0] =     0;
  81              		.loc 1 127 5 is_stmt 1 view .LVU24
  82              		.loc 1 127 46 is_stmt 0 view .LVU25
  83 0028 0024     		movs	r4, #0
  84 002a 8DF8EC40 		strb	r4, [sp, #236]
 128:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_short_name[0] =     0;
  85              		.loc 1 128 5 is_stmt 1 view .LVU26
  86              		.loc 1 128 46 is_stmt 0 view .LVU27
  87 002e 8DF87C40 		strb	r4, [sp, #124]
 129:Middlewares/ST/filex/common/src/fx_file_rename.c ****     search_directory.fx_dir_entry_short_name[0] =  0;
  88              		.loc 1 129 5 is_stmt 1 view .LVU28
  89              		.loc 1 129 49 is_stmt 0 view .LVU29
  90 0032 8DF80C40 		strb	r4, [sp, #12]
 130:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 131:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if the supplied name is less than the maximum supported name size. The
 132:Middlewares/ST/filex/common/src/fx_file_rename.c ****        maximum name (FX_MAX_LONG_NAME_LEN) is defined in fx_api.h.  */
 133:Middlewares/ST/filex/common/src/fx_file_rename.c ****     i =  0;
  91              		.loc 1 133 5 is_stmt 1 view .LVU30
  92              	.LVL1:
 134:Middlewares/ST/filex/common/src/fx_file_rename.c ****     work_ptr =  (CHAR *)new_file_name;
  93              		.loc 1 134 5 view .LVU31
 135:Middlewares/ST/filex/common/src/fx_file_rename.c ****     while (*work_ptr)
  94              		.loc 1 135 5 view .LVU32
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 5


 134:Middlewares/ST/filex/common/src/fx_file_rename.c ****     work_ptr =  (CHAR *)new_file_name;
  95              		.loc 1 134 14 is_stmt 0 view .LVU33
  96 0036 9446     		mov	ip, r2
  97              		.loc 1 135 11 view .LVU34
  98 0038 02E0     		b	.L2
  99              	.LVL2:
 100              	.L4:
 136:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 137:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 138:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Determine if the character designates a new path.  */
 139:Middlewares/ST/filex/common/src/fx_file_rename.c ****         if ((*work_ptr == '\\') || (*work_ptr == '/'))
 140:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 141:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Yes, reset the name size.  */
 142:Middlewares/ST/filex/common/src/fx_file_rename.c ****             i =  0;
 143:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 144:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Check for leading spaces.  */
 145:Middlewares/ST/filex/common/src/fx_file_rename.c ****         else if ((*work_ptr != ' ') || (i != 0))
 146:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 147:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 148:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* No leading spaces, increment the name size.  */
 149:Middlewares/ST/filex/common/src/fx_file_rename.c ****             i++;
 101              		.loc 1 149 13 is_stmt 1 view .LVU35
 102              		.loc 1 149 14 is_stmt 0 view .LVU36
 103 003a 0134     		adds	r4, r4, #1
 104              	.LVL3:
 105              	.L3:
 150:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 151:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 152:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Move to the next character.  */
 153:Middlewares/ST/filex/common/src/fx_file_rename.c ****         work_ptr++;
 106              		.loc 1 153 9 is_stmt 1 view .LVU37
 107              		.loc 1 153 17 is_stmt 0 view .LVU38
 108 003c 0CF1010C 		add	ip, ip, #1
 109              	.LVL4:
 110              	.L2:
 135:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 111              		.loc 1 135 11 is_stmt 1 view .LVU39
 135:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 112              		.loc 1 135 12 is_stmt 0 view .LVU40
 113 0040 9CF80030 		ldrb	r3, [ip]	@ zero_extendqisi2
 135:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 114              		.loc 1 135 11 view .LVU41
 115 0044 63B1     		cbz	r3, .L32
 139:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 116              		.loc 1 139 9 is_stmt 1 view .LVU42
 139:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 117              		.loc 1 139 12 is_stmt 0 view .LVU43
 118 0046 5C2B     		cmp	r3, #92
 119 0048 06D0     		beq	.L26
 139:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 120              		.loc 1 139 33 discriminator 1 view .LVU44
 121 004a 2F2B     		cmp	r3, #47
 122 004c 06D0     		beq	.L27
 145:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 123              		.loc 1 145 14 is_stmt 1 view .LVU45
 145:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 124              		.loc 1 145 17 is_stmt 0 view .LVU46
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 6


 125 004e 202B     		cmp	r3, #32
 126 0050 F3D1     		bne	.L4
 145:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 127              		.loc 1 145 37 discriminator 1 view .LVU47
 128 0052 002C     		cmp	r4, #0
 129 0054 F2D0     		beq	.L3
 130 0056 F0E7     		b	.L4
 131              	.L26:
 142:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 132              		.loc 1 142 15 view .LVU48
 133 0058 0024     		movs	r4, #0
 134              	.LVL5:
 142:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 135              		.loc 1 142 15 view .LVU49
 136 005a EFE7     		b	.L3
 137              	.LVL6:
 138              	.L27:
 142:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 139              		.loc 1 142 15 view .LVU50
 140 005c 0024     		movs	r4, #0
 141              	.LVL7:
 142:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 142              		.loc 1 142 15 view .LVU51
 143 005e EDE7     		b	.L3
 144              	.LVL8:
 145              	.L32:
 154:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 155:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 156:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if the supplied name is valid.  */
 157:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if ((i == 0) || (i >= FX_MAX_LONG_NAME_LEN))
 146              		.loc 1 157 5 is_stmt 1 view .LVU52
 147              		.loc 1 157 18 is_stmt 0 view .LVU53
 148 0060 013C     		subs	r4, r4, #1
 149              	.LVL9:
 150              		.loc 1 157 8 view .LVU54
 151 0062 FE2C     		cmp	r4, #254
 152 0064 00F2F880 		bhi	.L28
 158:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 159:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 160:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return an invalid name value.  */
 161:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(FX_INVALID_NAME);
 162:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 163:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 164:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Check the media to make sure it is open.  */
 165:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (media_ptr -> fx_media_id != FX_MEDIA_ID)
 153              		.loc 1 165 5 is_stmt 1 view .LVU55
 154              		.loc 1 165 19 is_stmt 0 view .LVU56
 155 0068 2A68     		ldr	r2, [r5]
 156              	.LVL10:
 157              		.loc 1 165 8 view .LVU57
 158 006a 7E4B     		ldr	r3, .L43
 159 006c 9A42     		cmp	r2, r3
 160 006e 05D0     		beq	.L33
 166:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 167:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 168:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return the media not opened error.  */
 169:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(FX_MEDIA_NOT_OPEN);
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 7


 161              		.loc 1 169 15 view .LVU58
 162 0070 4FF01108 		mov	r8, #17
 163              	.LVL11:
 164              	.L1:
 170:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 171:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 172:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 173:Middlewares/ST/filex/common/src/fx_file_rename.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_FILE_RENAME, media_ptr, old_file_name, new_file_name, 0, FX_TR
 174:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 175:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Protect against other threads accessing the media.  */
 176:Middlewares/ST/filex/common/src/fx_file_rename.c ****     FX_PROTECT
 177:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 178:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 179:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Start transaction. */
 180:Middlewares/ST/filex/common/src/fx_file_rename.c ****     _fx_fault_tolerant_transaction_start(media_ptr);
 181:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 182:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 183:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Check for write protect at the media level (set by driver).  */
 184:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (media_ptr -> fx_media_driver_write_protect)
 185:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 186:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 187:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 188:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 189:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 190:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 191:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Release media protection.  */
 192:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_UNPROTECT
 193:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 194:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return write protect error.  */
 195:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(FX_WRITE_PROTECT);
 196:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 197:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 198:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Search the system for the supplied file name.  */
 199:Middlewares/ST/filex/common/src/fx_file_rename.c ****     status =  _fx_directory_search(media_ptr, old_file_name, &old_dir_entry, &search_directory, FX_
 200:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 201:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if the search was successful.  */
 202:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (status != FX_SUCCESS)
 203:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 204:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 205:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 206:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 207:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 208:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 209:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Release media protection.  */
 210:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_UNPROTECT
 211:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 212:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return the error code.  */
 213:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(status);
 214:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 215:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 216:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 217:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 218:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 219:Middlewares/ST/filex/common/src/fx_file_rename.c ****         not_a_file_attr = FX_DIRECTORY;
 220:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 221:Middlewares/ST/filex/common/src/fx_file_rename.c ****     else
 222:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 8


 223:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
 224:Middlewares/ST/filex/common/src/fx_file_rename.c ****         not_a_file_attr = FX_DIRECTORY | FX_VOLUME;
 225:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 226:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 227:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
 228:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 229:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Check to make sure the found entry is a file.  */
 230:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (old_dir_entry.fx_dir_entry_attributes & not_a_file_attr)
 231:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 232:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 233:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 234:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 235:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 236:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 237:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Release media protection.  */
 238:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_UNPROTECT
 239:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 240:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return the not a file error code.  */
 241:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(FX_NOT_A_FILE);
 242:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 243:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 244:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_RENAME_PATH_INHERIT
 245:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 246:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if the source file name has a path and the target file name does not.  */
 247:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (((old_file_name[0] == '/') || (old_file_name[0] == '\\')) && (new_file_name[0] != '/') && (
 248:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 249:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 250:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* In this case, we need to prepend the path of the old file name to that of the new file n
 251:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 252:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Setup pointer to the rename buffer.  */
 253:Middlewares/ST/filex/common/src/fx_file_rename.c ****         work_ptr =  (CHAR *)media_ptr -> fx_media_rename_buffer;
 254:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 255:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* First, copy the path of the old file name.  */
 256:Middlewares/ST/filex/common/src/fx_file_rename.c ****         i =  0;
 257:Middlewares/ST/filex/common/src/fx_file_rename.c ****         j =  0;
 258:Middlewares/ST/filex/common/src/fx_file_rename.c ****         while ((old_file_name[i]) && (i < FX_MAXIMUM_PATH))
 259:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 260:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 261:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Copy a character into the rename buffer.  */
 262:Middlewares/ST/filex/common/src/fx_file_rename.c ****             *work_ptr++ =  old_file_name[i];
 263:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 264:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Determine if this character is directory separator.  */
 265:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((old_file_name[i] == '/') || (old_file_name[i] == '\\'))
 266:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 267:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 268:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 /* Yes, directory separator has been found - remember the index.  */
 269:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 j =  i;
 270:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 271:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 272:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Move to next position in the old file name.  */
 273:Middlewares/ST/filex/common/src/fx_file_rename.c ****             i++;
 274:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 275:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 276:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* At this point, we have the path stored in the rename buffer.  */
 277:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 278:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Position past the last slash or backslash.  */
 279:Middlewares/ST/filex/common/src/fx_file_rename.c ****         j++;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 9


 280:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 281:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Reset the working pointer to the position after the last directory separator.  */
 282:Middlewares/ST/filex/common/src/fx_file_rename.c ****         work_ptr =  (CHAR *)&(media_ptr -> fx_media_rename_buffer[j]);
 283:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 284:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Now copy the new file name into the rename buffer.  */
 285:Middlewares/ST/filex/common/src/fx_file_rename.c ****         i =  0;
 286:Middlewares/ST/filex/common/src/fx_file_rename.c ****         while ((new_file_name[i]) && (j < FX_MAXIMUM_PATH))
 287:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 288:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 289:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Copy a character into the rename buffer.  */
 290:Middlewares/ST/filex/common/src/fx_file_rename.c ****             *work_ptr++ =  new_file_name[i];
 291:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 292:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Move to next character.  */
 293:Middlewares/ST/filex/common/src/fx_file_rename.c ****             i++;
 294:Middlewares/ST/filex/common/src/fx_file_rename.c ****             j++;
 295:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 296:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 297:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Determine if the path was successfully prepended.  */
 298:Middlewares/ST/filex/common/src/fx_file_rename.c ****         if (new_file_name[i])
 299:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 300:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 301:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* No, there was not enough room in the destination buffer.  */
 302:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 303:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 304:Middlewares/ST/filex/common/src/fx_file_rename.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 305:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 306:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 307:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Release media protection.  */
 308:Middlewares/ST/filex/common/src/fx_file_rename.c ****             FX_UNPROTECT
 309:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 310:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Return the invalid path error code.  */
 311:Middlewares/ST/filex/common/src/fx_file_rename.c ****             return(FX_INVALID_PATH);
 312:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 313:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 314:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Place a NULL at the end of the string.  */
 315:Middlewares/ST/filex/common/src/fx_file_rename.c ****         *work_ptr =  (CHAR)FX_NULL;
 316:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 317:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* At this point, we have successfully prepended the path in the new file name, override
 318:Middlewares/ST/filex/common/src/fx_file_rename.c ****            the new file name so it is used from now on.  */
 319:Middlewares/ST/filex/common/src/fx_file_rename.c ****         new_file_name =  (CHAR *)media_ptr -> fx_media_rename_buffer;
 320:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 321:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 322:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 323:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Search the target directory for the same file name.  */
 324:Middlewares/ST/filex/common/src/fx_file_rename.c ****     status = _fx_directory_search(media_ptr, new_file_name, &new_dir_entry, &search_directory, &new
 325:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 326:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if the name already exists.  */
 327:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (status == FX_SUCCESS)
 328:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 329:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 330:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Determine if the new name simply has an ASCII case change. If so, simply let the process
 331:Middlewares/ST/filex/common/src/fx_file_rename.c ****            continue.  */
 332:Middlewares/ST/filex/common/src/fx_file_rename.c ****         i =  0;
 333:Middlewares/ST/filex/common/src/fx_file_rename.c ****         do
 334:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 335:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 336:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Pickup an old name and new name character and convert to upper case if necessary.  *
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 10


 337:Middlewares/ST/filex/common/src/fx_file_rename.c ****             alpha =  old_file_name[i];
 338:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((alpha >= 'a') && (alpha <= 'z'))
 339:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 340:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 341:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 /* Lower case, convert to upper case!  */
 342:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 alpha =  (CHAR)((INT)alpha - 0x20);
 343:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 344:Middlewares/ST/filex/common/src/fx_file_rename.c ****             beta =   new_file_name[i];
 345:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((beta >= 'a') && (beta <= 'z'))
 346:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 347:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 348:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 /* Lower case, convert to upper case!  */
 349:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 beta = (CHAR)((INT)beta - 0x20);
 350:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 351:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 352:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Now compare the characters.  */
 353:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((alpha != beta) || (alpha == 0))
 354:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 355:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 356:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 /* Get out of this loop!  */
 357:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 break;
 358:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 359:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 360:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Move to next character.  */
 361:Middlewares/ST/filex/common/src/fx_file_rename.c ****             i++;
 362:Middlewares/ST/filex/common/src/fx_file_rename.c ****         } while (i < (FX_MAXIMUM_PATH-1));
 363:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 364:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Now determine if the names match.  */
 365:Middlewares/ST/filex/common/src/fx_file_rename.c ****         if (alpha != beta)
 366:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 367:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 368:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* No, the names do not match so simply return an error
 369:Middlewares/ST/filex/common/src/fx_file_rename.c ****                to the caller.  */
 370:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 371:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 372:Middlewares/ST/filex/common/src/fx_file_rename.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 373:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 374:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 375:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Release media protection.  */
 376:Middlewares/ST/filex/common/src/fx_file_rename.c ****             FX_UNPROTECT
 377:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 378:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Return the not a file error code.  */
 379:Middlewares/ST/filex/common/src/fx_file_rename.c ****             return(FX_ALREADY_CREATED);
 380:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 381:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 382:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 383:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Change the file name and look for extra stuff at the end.  */
 384:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (_fx_directory_name_extract(new_name_ptr, &new_dir_entry.fx_dir_entry_name[0]))
 385:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 386:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 387:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 388:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 389:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 390:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 391:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Release media protection.  */
 392:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_UNPROTECT
 393:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 11


 394:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Invalid name, return error status.  */
 395:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(FX_INVALID_NAME);
 396:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 397:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 398:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Search for a free spot in the target directory.  */
 399:Middlewares/ST/filex/common/src/fx_file_rename.c ****     status = _fx_directory_free_search(media_ptr, &search_directory, &new_dir_entry);
 400:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 401:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if a free spot was found.  */
 402:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (status != FX_SUCCESS)
 403:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 404:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 405:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 406:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 407:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 408:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 409:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Release media protection.  */
 410:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_UNPROTECT
 411:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 412:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return the error code.  */
 413:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(status);
 414:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 415:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 416:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Extract the new file name.  */
 417:Middlewares/ST/filex/common/src/fx_file_rename.c ****     _fx_directory_name_extract(new_name_ptr, &new_dir_entry.fx_dir_entry_name[0]);
 418:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 419:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if a long name is present.  */
 420:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (new_dir_entry.fx_dir_entry_long_name_present)
 421:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 422:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 423:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Yes, clear the short file name.  */
 424:Middlewares/ST/filex/common/src/fx_file_rename.c ****         new_dir_entry.fx_dir_entry_short_name[0] =  0;
 425:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 426:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 427:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Save the updated directory parameters.  */
 428:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_attributes =          old_dir_entry.fx_dir_entry_attributes;
 429:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_cluster    =          old_dir_entry.fx_dir_entry_cluster;
 430:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_file_size  =          old_dir_entry.fx_dir_entry_file_size;
 431:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 432:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Save the reserved field.  */
 433:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_reserved =            old_dir_entry.fx_dir_entry_reserved;
 434:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 435:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Set time and date stamps.  */
 436:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_time_ms =     old_dir_entry.fx_dir_entry_created_time_ms;
 437:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_time =        old_dir_entry.fx_dir_entry_created_time;
 438:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_date =        old_dir_entry.fx_dir_entry_created_date;
 439:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_last_accessed_date =  old_dir_entry.fx_dir_entry_last_accessed_date;
 440:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_time =                old_dir_entry.fx_dir_entry_time;
 441:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_date =                old_dir_entry.fx_dir_entry_date;
 442:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 443:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 444:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 445:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 446:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 447:Middlewares/ST/filex/common/src/fx_file_rename.c ****         new_dir_entry.fx_dir_entry_dont_use_fat =              old_dir_entry.fx_dir_entry_dont_use_
 448:Middlewares/ST/filex/common/src/fx_file_rename.c ****         new_dir_entry.fx_dir_entry_type =                  old_dir_entry.fx_dir_entry_type;
 449:Middlewares/ST/filex/common/src/fx_file_rename.c ****         new_dir_entry.fx_dir_entry_available_file_size =   old_dir_entry.fx_dir_entry_available_fil
 450:Middlewares/ST/filex/common/src/fx_file_rename.c ****         new_dir_entry.fx_dir_entry_secondary_count =       old_dir_entry.fx_dir_entry_secondary_cou
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 12


 451:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 452:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
 453:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 454:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Is there a leading dot?  */
 455:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (new_dir_entry.fx_dir_entry_name[0] == '.')
 456:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 457:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 458:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Yes, toggle the hidden attribute bit.  */
 459:Middlewares/ST/filex/common/src/fx_file_rename.c ****         new_dir_entry.fx_dir_entry_attributes |=  FX_HIDDEN;
 460:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 461:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 462:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifndef FX_MEDIA_DISABLE_SEARCH_CACHE
 463:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 464:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Invalidate the directory cache.  */
 465:Middlewares/ST/filex/common/src/fx_file_rename.c ****     media_ptr -> fx_media_last_found_name[0] =  FX_NULL;
 466:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 467:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 468:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Now write out the directory entry.  */
 469:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 470:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 471:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 472:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 473:Middlewares/ST/filex/common/src/fx_file_rename.c ****         status = _fx_directory_exFAT_entry_write(media_ptr, &new_dir_entry, UPDATE_FULL);
 474:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 475:Middlewares/ST/filex/common/src/fx_file_rename.c ****     else
 476:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 477:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
 478:Middlewares/ST/filex/common/src/fx_file_rename.c ****         status =  _fx_directory_entry_write(media_ptr, &new_dir_entry);
 479:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 480:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 481:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
 482:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 483:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Determine if the write was successful.  */
 484:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (status != FX_SUCCESS)
 485:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 486:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 487:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 488:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 489:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 490:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 491:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Release media protection.  */
 492:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_UNPROTECT
 493:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 494:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return the error code.  */
 495:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(status);
 496:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 497:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 498:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifndef FX_DONT_UPDATE_OPEN_FILES
 499:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 500:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Search the opened files to update any currently opened files.  */
 501:Middlewares/ST/filex/common/src/fx_file_rename.c ****     open_count =  media_ptr -> fx_media_opened_file_count;
 502:Middlewares/ST/filex/common/src/fx_file_rename.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 503:Middlewares/ST/filex/common/src/fx_file_rename.c ****     while (open_count)
 504:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 505:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 506:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Look at each opened file to see if it matches the file being renamed.  */
 507:Middlewares/ST/filex/common/src/fx_file_rename.c ****         if ((search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 13


 508:Middlewares/ST/filex/common/src/fx_file_rename.c ****              old_dir_entry.fx_dir_entry_log_sector) &&
 509:Middlewares/ST/filex/common/src/fx_file_rename.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 510:Middlewares/ST/filex/common/src/fx_file_rename.c ****              old_dir_entry.fx_dir_entry_byte_offset))
 511:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 512:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 513:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Yes, the file being renamed is already open.  Update the file's
 514:Middlewares/ST/filex/common/src/fx_file_rename.c ****                information so that it is kept current.  */
 515:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_cluster =      new_dir_entry.fx_dir_entry_
 516:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    new_dir_entry.fx_dir_entry_
 517:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   new_dir_entry.fx_dir_entry_
 518:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  new_dir_entry.fx_dir_entry_
 519:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 520:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Copy the new name into the file's name buffer.  */
 521:Middlewares/ST/filex/common/src/fx_file_rename.c ****             i =  0;
 522:Middlewares/ST/filex/common/src/fx_file_rename.c ****             while (i < (FX_MAX_LONG_NAME_LEN - 1))
 523:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 524:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 525:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 /* Copy byte of the new name.  */
 526:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 search_ptr -> fx_file_dir_entry.fx_dir_entry_name[i] =  new_dir_entry.fx_dir_entry_
 527:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 528:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 /* Move to the next character.  */
 529:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 i++;
 530:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 531:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 /* Determine if we are at the end of the name.  */
 532:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 if (new_dir_entry.fx_dir_entry_name[i] == FX_NULL)
 533:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 {
 534:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 
 535:Middlewares/ST/filex/common/src/fx_file_rename.c ****                     /* Determine if we are not at the maximum name size.  */
 536:Middlewares/ST/filex/common/src/fx_file_rename.c ****                     if (i < (FX_MAX_LONG_NAME_LEN - 1))
 537:Middlewares/ST/filex/common/src/fx_file_rename.c ****                     {
 538:Middlewares/ST/filex/common/src/fx_file_rename.c ****                     
 539:Middlewares/ST/filex/common/src/fx_file_rename.c ****                         /* Get out of the loop.   */
 540:Middlewares/ST/filex/common/src/fx_file_rename.c ****                         break;
 541:Middlewares/ST/filex/common/src/fx_file_rename.c ****                     }
 542:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 }
 543:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 544:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 545:Middlewares/ST/filex/common/src/fx_file_rename.c ****             /* Set the NULL termination in the copy of the new name.  */
 546:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_name[i] =  FX_NULL;
 547:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 548:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 549:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Adjust the pointer and decrement the search count.  */
 550:Middlewares/ST/filex/common/src/fx_file_rename.c ****         search_ptr =  search_ptr -> fx_file_opened_next;
 551:Middlewares/ST/filex/common/src/fx_file_rename.c ****         open_count--;
 552:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 553:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 554:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 555:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Now we are ready to remove the old directory entry.  */
 556:Middlewares/ST/filex/common/src/fx_file_rename.c ****     old_dir_entry.fx_dir_entry_name[0] =        (CHAR)FX_DIR_ENTRY_FREE;
 557:Middlewares/ST/filex/common/src/fx_file_rename.c ****     old_dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 558:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 559:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Now wipe out the old directory entry.  */
 560:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 561:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 562:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 563:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 564:Middlewares/ST/filex/common/src/fx_file_rename.c ****         status = _fx_directory_exFAT_entry_write(media_ptr, &old_dir_entry, UPDATE_DELETE);
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 14


 565:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 566:Middlewares/ST/filex/common/src/fx_file_rename.c ****     else
 567:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 568:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
 569:Middlewares/ST/filex/common/src/fx_file_rename.c ****         status =  _fx_directory_entry_write(media_ptr, &old_dir_entry);
 570:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 571:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 572:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_EXFAT */
 573:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 574:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 575:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Check for a bad status.  */
 576:Middlewares/ST/filex/common/src/fx_file_rename.c ****     if (status != FX_SUCCESS)
 577:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 578:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 579:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 580:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 581:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Release media protection.  */
 582:Middlewares/ST/filex/common/src/fx_file_rename.c ****         FX_UNPROTECT
 583:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 584:Middlewares/ST/filex/common/src/fx_file_rename.c ****         /* Return the bad status.  */
 585:Middlewares/ST/filex/common/src/fx_file_rename.c ****         return(status);
 586:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 587:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 588:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* End transaction. */
 589:Middlewares/ST/filex/common/src/fx_file_rename.c ****     status = _fx_fault_tolerant_transaction_end(media_ptr);
 590:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 591:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 592:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* Release media protection.  */
 593:Middlewares/ST/filex/common/src/fx_file_rename.c ****     FX_UNPROTECT
 594:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 595:Middlewares/ST/filex/common/src/fx_file_rename.c ****     /* File rename is complete, return status.  */
 596:Middlewares/ST/filex/common/src/fx_file_rename.c ****     return(status);
 597:Middlewares/ST/filex/common/src/fx_file_rename.c **** }
 165              		.loc 1 597 1 view .LVU59
 166 0074 4046     		mov	r0, r8
 167 0076 58B0     		add	sp, sp, #352
 168              	.LCFI2:
 169              		.cfi_remember_state
 170              		.cfi_def_cfa_offset 24
 171              		@ sp needed
 172 0078 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 173              	.LVL12:
 174              	.L33:
 175              	.LCFI3:
 176              		.cfi_restore_state
 176:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 177              		.loc 1 176 5 is_stmt 1 discriminator 2 view .LVU60
 176:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 178              		.loc 1 176 5 discriminator 2 view .LVU61
 179 007c 05F5E474 		add	r4, r5, #456
 180              	.LVL13:
 176:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 181              		.loc 1 176 5 is_stmt 0 discriminator 2 view .LVU62
 182 0080 4FF0FF31 		mov	r1, #-1
 183              	.LVL14:
 176:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 184              		.loc 1 176 5 discriminator 2 view .LVU63
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 15


 185 0084 2046     		mov	r0, r4
 186              	.LVL15:
 176:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 187              		.loc 1 176 5 discriminator 2 view .LVU64
 188 0086 FFF7FEFF 		bl	_tx_mutex_get
 189              	.LVL16:
 176:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 190              		.loc 1 176 5 discriminator 2 view .LVU65
 191 008a 0028     		cmp	r0, #0
 192 008c 40F0E780 		bne	.L30
 184:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 193              		.loc 1 184 5 is_stmt 1 view .LVU66
 184:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 194              		.loc 1 184 19 is_stmt 0 view .LVU67
 195 0090 D5F8A830 		ldr	r3, [r5, #168]
 184:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 196              		.loc 1 184 8 view .LVU68
 197 0094 CBB9     		cbnz	r3, .L34
 199:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 198              		.loc 1 199 5 is_stmt 1 view .LVU69
 199:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 199              		.loc 1 199 15 is_stmt 0 view .LVU70
 200 0096 0023     		movs	r3, #0
 201 0098 0093     		str	r3, [sp]
 202 009a 02AB     		add	r3, sp, #8
 203 009c 3AAA     		add	r2, sp, #232
 204 009e 3946     		mov	r1, r7
 205 00a0 2846     		mov	r0, r5
 206 00a2 FFF7FEFF 		bl	_fx_directory_search
 207              	.LVL17:
 202:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 208              		.loc 1 202 5 is_stmt 1 view .LVU71
 202:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 209              		.loc 1 202 8 is_stmt 0 view .LVU72
 210 00a6 8046     		mov	r8, r0
 211 00a8 A8B9     		cbnz	r0, .L35
 224:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 212              		.loc 1 224 9 is_stmt 1 view .LVU73
 213              	.LVL18:
 230:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 214              		.loc 1 230 5 view .LVU74
 230:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 215              		.loc 1 230 22 is_stmt 0 view .LVU75
 216 00aa 9DF80431 		ldrb	r3, [sp, #260]	@ zero_extendqisi2
 230:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 217              		.loc 1 230 8 view .LVU76
 218 00ae 13F0180F 		tst	r3, #24
 219 00b2 14D1     		bne	.L36
 324:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 220              		.loc 1 324 5 is_stmt 1 view .LVU77
 324:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 221              		.loc 1 324 14 is_stmt 0 view .LVU78
 222 00b4 57AB     		add	r3, sp, #348
 223 00b6 0093     		str	r3, [sp]
 224 00b8 02AB     		add	r3, sp, #8
 225 00ba 1EAA     		add	r2, sp, #120
 226 00bc 3146     		mov	r1, r6
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 16


 227 00be 2846     		mov	r0, r5
 228              	.LVL19:
 324:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 229              		.loc 1 324 14 view .LVU79
 230 00c0 FFF7FEFF 		bl	_fx_directory_search
 231              	.LVL20:
 327:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 232              		.loc 1 327 5 is_stmt 1 view .LVU80
 327:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 233              		.loc 1 327 8 is_stmt 0 view .LVU81
 234 00c4 0146     		mov	r1, r0
 235 00c6 B0B1     		cbz	r0, .L14
 236 00c8 28E0     		b	.L10
 237              	.LVL21:
 238              	.L34:
 192:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 239              		.loc 1 192 9 is_stmt 1 view .LVU82
 240 00ca 2046     		mov	r0, r4
 241 00cc FFF7FEFF 		bl	_tx_mutex_put
 242              	.LVL22:
 195:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 243              		.loc 1 195 9 view .LVU83
 195:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 244              		.loc 1 195 15 is_stmt 0 view .LVU84
 245 00d0 4FF02308 		mov	r8, #35
 246 00d4 CEE7     		b	.L1
 247              	.LVL23:
 248              	.L35:
 210:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 249              		.loc 1 210 9 is_stmt 1 view .LVU85
 250 00d6 2046     		mov	r0, r4
 251              	.LVL24:
 210:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 252              		.loc 1 210 9 is_stmt 0 view .LVU86
 253 00d8 FFF7FEFF 		bl	_tx_mutex_put
 254              	.LVL25:
 213:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 255              		.loc 1 213 9 is_stmt 1 view .LVU87
 213:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 256              		.loc 1 213 15 is_stmt 0 view .LVU88
 257 00dc CAE7     		b	.L1
 258              	.LVL26:
 259              	.L36:
 238:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 260              		.loc 1 238 9 is_stmt 1 view .LVU89
 261 00de 2046     		mov	r0, r4
 262              	.LVL27:
 238:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 263              		.loc 1 238 9 is_stmt 0 view .LVU90
 264 00e0 FFF7FEFF 		bl	_tx_mutex_put
 265              	.LVL28:
 241:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 266              		.loc 1 241 9 is_stmt 1 view .LVU91
 241:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 267              		.loc 1 241 15 is_stmt 0 view .LVU92
 268 00e4 4FF00508 		mov	r8, #5
 269              	.LVL29:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 17


 241:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 270              		.loc 1 241 15 view .LVU93
 271 00e8 C4E7     		b	.L1
 272              	.LVL30:
 273              	.L12:
 353:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 274              		.loc 1 353 13 is_stmt 1 view .LVU94
 353:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 275              		.loc 1 353 16 is_stmt 0 view .LVU95
 276 00ea 9342     		cmp	r3, r2
 277 00ec 14D1     		bne	.L13
 353:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 278              		.loc 1 353 33 discriminator 1 view .LVU96
 279 00ee 9BB1     		cbz	r3, .L13
 361:Middlewares/ST/filex/common/src/fx_file_rename.c ****         } while (i < (FX_MAXIMUM_PATH-1));
 280              		.loc 1 361 13 is_stmt 1 view .LVU97
 361:Middlewares/ST/filex/common/src/fx_file_rename.c ****         } while (i < (FX_MAXIMUM_PATH-1));
 281              		.loc 1 361 14 is_stmt 0 view .LVU98
 282 00f0 0131     		adds	r1, r1, #1
 283              	.LVL31:
 362:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 284              		.loc 1 362 17 is_stmt 1 view .LVU99
 362:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 285              		.loc 1 362 9 is_stmt 0 view .LVU100
 286 00f2 FE29     		cmp	r1, #254
 287 00f4 10D8     		bhi	.L13
 288              	.LVL32:
 289              	.L14:
 333:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 290              		.loc 1 333 9 is_stmt 1 view .LVU101
 337:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((alpha >= 'a') && (alpha <= 'z'))
 291              		.loc 1 337 13 view .LVU102
 337:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((alpha >= 'a') && (alpha <= 'z'))
 292              		.loc 1 337 19 is_stmt 0 view .LVU103
 293 00f6 7B5C     		ldrb	r3, [r7, r1]	@ zero_extendqisi2
 294              	.LVL33:
 338:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 295              		.loc 1 338 13 is_stmt 1 view .LVU104
 338:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 296              		.loc 1 338 32 is_stmt 0 view .LVU105
 297 00f8 A3F16102 		sub	r2, r3, #97
 298 00fc D2B2     		uxtb	r2, r2
 338:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 299              		.loc 1 338 16 view .LVU106
 300 00fe 192A     		cmp	r2, #25
 301 0100 01D8     		bhi	.L11
 342:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 302              		.loc 1 342 17 is_stmt 1 view .LVU107
 342:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 303              		.loc 1 342 23 is_stmt 0 view .LVU108
 304 0102 203B     		subs	r3, r3, #32
 305              	.LVL34:
 342:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 306              		.loc 1 342 23 view .LVU109
 307 0104 DBB2     		uxtb	r3, r3
 308              	.LVL35:
 309              	.L11:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 18


 344:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((beta >= 'a') && (beta <= 'z'))
 310              		.loc 1 344 13 is_stmt 1 view .LVU110
 344:Middlewares/ST/filex/common/src/fx_file_rename.c ****             if ((beta >= 'a') && (beta <= 'z'))
 311              		.loc 1 344 18 is_stmt 0 view .LVU111
 312 0106 725C     		ldrb	r2, [r6, r1]	@ zero_extendqisi2
 313              	.LVL36:
 345:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 314              		.loc 1 345 13 is_stmt 1 view .LVU112
 345:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 315              		.loc 1 345 31 is_stmt 0 view .LVU113
 316 0108 A2F16100 		sub	r0, r2, #97
 317 010c C0B2     		uxtb	r0, r0
 345:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 318              		.loc 1 345 16 view .LVU114
 319 010e 1928     		cmp	r0, #25
 320 0110 EBD8     		bhi	.L12
 349:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 321              		.loc 1 349 17 is_stmt 1 view .LVU115
 349:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 322              		.loc 1 349 22 is_stmt 0 view .LVU116
 323 0112 203A     		subs	r2, r2, #32
 324              	.LVL37:
 349:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 325              		.loc 1 349 22 view .LVU117
 326 0114 D2B2     		uxtb	r2, r2
 327              	.LVL38:
 349:Middlewares/ST/filex/common/src/fx_file_rename.c ****             }
 328              		.loc 1 349 22 view .LVU118
 329 0116 E8E7     		b	.L12
 330              	.L13:
 365:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 331              		.loc 1 365 9 is_stmt 1 view .LVU119
 365:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 332              		.loc 1 365 12 is_stmt 0 view .LVU120
 333 0118 9342     		cmp	r3, r2
 334 011a 44D1     		bne	.L37
 335              	.LVL39:
 336              	.L10:
 384:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 337              		.loc 1 384 5 is_stmt 1 view .LVU121
 384:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 338              		.loc 1 384 9 is_stmt 0 view .LVU122
 339 011c 1E99     		ldr	r1, [sp, #120]
 340 011e 5798     		ldr	r0, [sp, #348]
 341 0120 FFF7FEFF 		bl	_fx_directory_name_extract
 342              	.LVL40:
 384:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 343              		.loc 1 384 8 view .LVU123
 344 0124 0028     		cmp	r0, #0
 345 0126 44D1     		bne	.L38
 399:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 346              		.loc 1 399 5 is_stmt 1 view .LVU124
 399:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 347              		.loc 1 399 14 is_stmt 0 view .LVU125
 348 0128 1EAA     		add	r2, sp, #120
 349 012a 02A9     		add	r1, sp, #8
 350 012c 2846     		mov	r0, r5
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 19


 351 012e FFF7FEFF 		bl	_fx_directory_free_search
 352              	.LVL41:
 402:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 353              		.loc 1 402 5 is_stmt 1 view .LVU126
 402:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 354              		.loc 1 402 8 is_stmt 0 view .LVU127
 355 0132 8046     		mov	r8, r0
 356 0134 0028     		cmp	r0, #0
 357 0136 42D1     		bne	.L39
 417:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 358              		.loc 1 417 5 is_stmt 1 view .LVU128
 359 0138 1E99     		ldr	r1, [sp, #120]
 360 013a 5798     		ldr	r0, [sp, #348]
 361              	.LVL42:
 417:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 362              		.loc 1 417 5 is_stmt 0 view .LVU129
 363 013c FFF7FEFF 		bl	_fx_directory_name_extract
 364              	.LVL43:
 420:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 365              		.loc 1 420 5 is_stmt 1 view .LVU130
 420:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 366              		.loc 1 420 22 is_stmt 0 view .LVU131
 367 0140 239B     		ldr	r3, [sp, #140]
 420:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 368              		.loc 1 420 8 view .LVU132
 369 0142 13B1     		cbz	r3, .L17
 424:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 370              		.loc 1 424 9 is_stmt 1 view .LVU133
 424:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 371              		.loc 1 424 50 is_stmt 0 view .LVU134
 372 0144 0023     		movs	r3, #0
 373 0146 8DF87C30 		strb	r3, [sp, #124]
 374              	.L17:
 428:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_cluster    =          old_dir_entry.fx_dir_entry_cluster;
 375              		.loc 1 428 5 is_stmt 1 view .LVU135
 428:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_cluster    =          old_dir_entry.fx_dir_entry_cluster;
 376              		.loc 1 428 67 is_stmt 0 view .LVU136
 377 014a 9DF80431 		ldrb	r3, [sp, #260]	@ zero_extendqisi2
 428:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_cluster    =          old_dir_entry.fx_dir_entry_cluster;
 378              		.loc 1 428 43 view .LVU137
 379 014e 8DF89430 		strb	r3, [sp, #148]
 429:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_file_size  =          old_dir_entry.fx_dir_entry_file_size;
 380              		.loc 1 429 5 is_stmt 1 view .LVU138
 429:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_file_size  =          old_dir_entry.fx_dir_entry_file_size;
 381              		.loc 1 429 67 is_stmt 0 view .LVU139
 382 0152 479A     		ldr	r2, [sp, #284]
 429:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_file_size  =          old_dir_entry.fx_dir_entry_file_size;
 383              		.loc 1 429 43 view .LVU140
 384 0154 2B92     		str	r2, [sp, #172]
 430:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 385              		.loc 1 430 5 is_stmt 1 view .LVU141
 430:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 386              		.loc 1 430 67 is_stmt 0 view .LVU142
 387 0156 DDE94801 		ldrd	r0, [sp, #288]
 430:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 388              		.loc 1 430 43 view .LVU143
 389 015a CDE92C01 		strd	r0, [sp, #176]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 20


 433:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 390              		.loc 1 433 5 is_stmt 1 view .LVU144
 433:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 391              		.loc 1 433 67 is_stmt 0 view .LVU145
 392 015e 9DF80521 		ldrb	r2, [sp, #261]	@ zero_extendqisi2
 433:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 393              		.loc 1 433 41 view .LVU146
 394 0162 8DF89520 		strb	r2, [sp, #149]
 436:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_time =        old_dir_entry.fx_dir_entry_created_time;
 395              		.loc 1 436 5 is_stmt 1 view .LVU147
 436:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_time =        old_dir_entry.fx_dir_entry_created_time;
 396              		.loc 1 436 67 is_stmt 0 view .LVU148
 397 0166 9DF80621 		ldrb	r2, [sp, #262]	@ zero_extendqisi2
 436:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_time =        old_dir_entry.fx_dir_entry_created_time;
 398              		.loc 1 436 48 view .LVU149
 399 016a 8DF89620 		strb	r2, [sp, #150]
 437:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_date =        old_dir_entry.fx_dir_entry_created_date;
 400              		.loc 1 437 5 is_stmt 1 view .LVU150
 437:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_date =        old_dir_entry.fx_dir_entry_created_date;
 401              		.loc 1 437 67 is_stmt 0 view .LVU151
 402 016e 429A     		ldr	r2, [sp, #264]
 437:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_created_date =        old_dir_entry.fx_dir_entry_created_date;
 403              		.loc 1 437 45 view .LVU152
 404 0170 2692     		str	r2, [sp, #152]
 438:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_last_accessed_date =  old_dir_entry.fx_dir_entry_last_accessed_date;
 405              		.loc 1 438 5 is_stmt 1 view .LVU153
 438:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_last_accessed_date =  old_dir_entry.fx_dir_entry_last_accessed_date;
 406              		.loc 1 438 67 is_stmt 0 view .LVU154
 407 0172 439A     		ldr	r2, [sp, #268]
 438:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_last_accessed_date =  old_dir_entry.fx_dir_entry_last_accessed_date;
 408              		.loc 1 438 45 view .LVU155
 409 0174 2792     		str	r2, [sp, #156]
 439:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_time =                old_dir_entry.fx_dir_entry_time;
 410              		.loc 1 439 5 is_stmt 1 view .LVU156
 439:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_time =                old_dir_entry.fx_dir_entry_time;
 411              		.loc 1 439 67 is_stmt 0 view .LVU157
 412 0176 449A     		ldr	r2, [sp, #272]
 439:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_time =                old_dir_entry.fx_dir_entry_time;
 413              		.loc 1 439 51 view .LVU158
 414 0178 2892     		str	r2, [sp, #160]
 440:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_date =                old_dir_entry.fx_dir_entry_date;
 415              		.loc 1 440 5 is_stmt 1 view .LVU159
 440:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_date =                old_dir_entry.fx_dir_entry_date;
 416              		.loc 1 440 67 is_stmt 0 view .LVU160
 417 017a 459A     		ldr	r2, [sp, #276]
 440:Middlewares/ST/filex/common/src/fx_file_rename.c ****     new_dir_entry.fx_dir_entry_date =                old_dir_entry.fx_dir_entry_date;
 418              		.loc 1 440 37 view .LVU161
 419 017c 2992     		str	r2, [sp, #164]
 441:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 420              		.loc 1 441 5 is_stmt 1 view .LVU162
 441:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 421              		.loc 1 441 67 is_stmt 0 view .LVU163
 422 017e 469A     		ldr	r2, [sp, #280]
 441:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 423              		.loc 1 441 37 view .LVU164
 424 0180 2A92     		str	r2, [sp, #168]
 455:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 21


 425              		.loc 1 455 5 is_stmt 1 view .LVU165
 455:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 426              		.loc 1 455 22 is_stmt 0 view .LVU166
 427 0182 1E9A     		ldr	r2, [sp, #120]
 455:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 428              		.loc 1 455 40 view .LVU167
 429 0184 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 455:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 430              		.loc 1 455 8 view .LVU168
 431 0186 2E2A     		cmp	r2, #46
 432 0188 1DD0     		beq	.L40
 433              	.L18:
 465:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 434              		.loc 1 465 5 is_stmt 1 view .LVU169
 465:Middlewares/ST/filex/common/src/fx_file_rename.c **** #endif
 435              		.loc 1 465 46 is_stmt 0 view .LVU170
 436 018a 0023     		movs	r3, #0
 437 018c 85F8E033 		strb	r3, [r5, #992]
 478:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 438              		.loc 1 478 9 is_stmt 1 view .LVU171
 478:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 439              		.loc 1 478 19 is_stmt 0 view .LVU172
 440 0190 1EA9     		add	r1, sp, #120
 441 0192 2846     		mov	r0, r5
 442 0194 FFF7FEFF 		bl	_fx_directory_entry_write
 443              	.LVL44:
 484:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 444              		.loc 1 484 5 is_stmt 1 view .LVU173
 484:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 445              		.loc 1 484 8 is_stmt 0 view .LVU174
 446 0198 8046     		mov	r8, r0
 447 019a C8B9     		cbnz	r0, .L41
 501:Middlewares/ST/filex/common/src/fx_file_rename.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 448              		.loc 1 501 5 is_stmt 1 view .LVU175
 501:Middlewares/ST/filex/common/src/fx_file_rename.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 449              		.loc 1 501 16 is_stmt 0 view .LVU176
 450 019c D5F8CC70 		ldr	r7, [r5, #204]
 451              	.LVL45:
 502:Middlewares/ST/filex/common/src/fx_file_rename.c ****     while (open_count)
 452              		.loc 1 502 5 is_stmt 1 view .LVU177
 502:Middlewares/ST/filex/common/src/fx_file_rename.c ****     while (open_count)
 453              		.loc 1 502 16 is_stmt 0 view .LVU178
 454 01a0 D5F8C820 		ldr	r2, [r5, #200]
 455              	.LVL46:
 503:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 456              		.loc 1 503 5 is_stmt 1 view .LVU179
 503:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 457              		.loc 1 503 11 is_stmt 0 view .LVU180
 458 01a4 1DE0     		b	.L20
 459              	.LVL47:
 460              	.L37:
 376:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 461              		.loc 1 376 13 is_stmt 1 view .LVU181
 462 01a6 2046     		mov	r0, r4
 463 01a8 FFF7FEFF 		bl	_tx_mutex_put
 464              	.LVL48:
 379:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 22


 465              		.loc 1 379 13 view .LVU182
 379:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 466              		.loc 1 379 19 is_stmt 0 view .LVU183
 467 01ac 4FF00B08 		mov	r8, #11
 468 01b0 60E7     		b	.L1
 469              	.L38:
 392:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 470              		.loc 1 392 9 is_stmt 1 view .LVU184
 471 01b2 2046     		mov	r0, r4
 472 01b4 FFF7FEFF 		bl	_tx_mutex_put
 473              	.LVL49:
 395:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 474              		.loc 1 395 9 view .LVU185
 395:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 475              		.loc 1 395 15 is_stmt 0 view .LVU186
 476 01b8 4FF00C08 		mov	r8, #12
 477 01bc 5AE7     		b	.L1
 478              	.LVL50:
 479              	.L39:
 410:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 480              		.loc 1 410 9 is_stmt 1 view .LVU187
 481 01be 2046     		mov	r0, r4
 482              	.LVL51:
 410:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 483              		.loc 1 410 9 is_stmt 0 view .LVU188
 484 01c0 FFF7FEFF 		bl	_tx_mutex_put
 485              	.LVL52:
 413:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 486              		.loc 1 413 9 is_stmt 1 view .LVU189
 413:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 487              		.loc 1 413 15 is_stmt 0 view .LVU190
 488 01c4 56E7     		b	.L1
 489              	.L40:
 459:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 490              		.loc 1 459 9 is_stmt 1 view .LVU191
 459:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 491              		.loc 1 459 47 is_stmt 0 view .LVU192
 492 01c6 43F00203 		orr	r3, r3, #2
 493 01ca 8DF89430 		strb	r3, [sp, #148]
 494 01ce DCE7     		b	.L18
 495              	.LVL53:
 496              	.L41:
 492:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 497              		.loc 1 492 9 is_stmt 1 view .LVU193
 498 01d0 2046     		mov	r0, r4
 499              	.LVL54:
 492:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 500              		.loc 1 492 9 is_stmt 0 view .LVU194
 501 01d2 FFF7FEFF 		bl	_tx_mutex_put
 502              	.LVL55:
 495:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 503              		.loc 1 495 9 is_stmt 1 view .LVU195
 495:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 504              		.loc 1 495 15 is_stmt 0 view .LVU196
 505 01d6 4DE7     		b	.L1
 506              	.LVL56:
 507              	.L23:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 23


 546:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 508              		.loc 1 546 13 is_stmt 1 view .LVU197
 546:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 509              		.loc 1 546 44 is_stmt 0 view .LVU198
 510 01d8 916E     		ldr	r1, [r2, #104]
 546:Middlewares/ST/filex/common/src/fx_file_rename.c ****         }
 511              		.loc 1 546 66 view .LVU199
 512 01da 0020     		movs	r0, #0
 513 01dc C854     		strb	r0, [r1, r3]
 514              	.LVL57:
 515              	.L21:
 550:Middlewares/ST/filex/common/src/fx_file_rename.c ****         open_count--;
 516              		.loc 1 550 9 is_stmt 1 view .LVU200
 550:Middlewares/ST/filex/common/src/fx_file_rename.c ****         open_count--;
 517              		.loc 1 550 20 is_stmt 0 view .LVU201
 518 01de D26D     		ldr	r2, [r2, #92]
 519              	.LVL58:
 551:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 520              		.loc 1 551 9 is_stmt 1 view .LVU202
 551:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 521              		.loc 1 551 19 is_stmt 0 view .LVU203
 522 01e0 013F     		subs	r7, r7, #1
 523              	.LVL59:
 524              	.L20:
 503:Middlewares/ST/filex/common/src/fx_file_rename.c ****     {
 525              		.loc 1 503 11 is_stmt 1 view .LVU204
 526 01e2 5FB3     		cbz	r7, .L42
 507:Middlewares/ST/filex/common/src/fx_file_rename.c ****              old_dir_entry.fx_dir_entry_log_sector) &&
 527              		.loc 1 507 9 view .LVU205
 507:Middlewares/ST/filex/common/src/fx_file_rename.c ****              old_dir_entry.fx_dir_entry_log_sector) &&
 528              		.loc 1 507 45 is_stmt 0 view .LVU206
 529 01e4 D2F8A860 		ldr	r6, [r2, #168]
 530 01e8 D2F8AC10 		ldr	r1, [r2, #172]
 507:Middlewares/ST/filex/common/src/fx_file_rename.c ****              old_dir_entry.fx_dir_entry_log_sector) &&
 531              		.loc 1 507 12 view .LVU207
 532 01ec 4A98     		ldr	r0, [sp, #296]
 533 01ee 4B9B     		ldr	r3, [sp, #300]
 534 01f0 9942     		cmp	r1, r3
 535 01f2 08BF     		it	eq
 536 01f4 8642     		cmpeq	r6, r0
 537 01f6 F2D1     		bne	.L21
 509:Middlewares/ST/filex/common/src/fx_file_rename.c ****              old_dir_entry.fx_dir_entry_byte_offset))
 538              		.loc 1 509 45 view .LVU208
 539 01f8 D2F8B010 		ldr	r1, [r2, #176]
 510:Middlewares/ST/filex/common/src/fx_file_rename.c ****         {
 540              		.loc 1 510 27 view .LVU209
 541 01fc 4C9B     		ldr	r3, [sp, #304]
 508:Middlewares/ST/filex/common/src/fx_file_rename.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 542              		.loc 1 508 53 view .LVU210
 543 01fe 9942     		cmp	r1, r3
 544 0200 EDD1     		bne	.L21
 515:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    new_dir_entry.fx_dir_entry_
 545              		.loc 1 515 13 is_stmt 1 view .LVU211
 515:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    new_dir_entry.fx_dir_entry_
 546              		.loc 1 515 86 is_stmt 0 view .LVU212
 547 0202 2B9B     		ldr	r3, [sp, #172]
 515:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    new_dir_entry.fx_dir_entry_
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 24


 548              		.loc 1 515 66 view .LVU213
 549 0204 C2F89C30 		str	r3, [r2, #156]
 516:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   new_dir_entry.fx_dir_entry_
 550              		.loc 1 516 13 is_stmt 1 view .LVU214
 516:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   new_dir_entry.fx_dir_entry_
 551              		.loc 1 516 86 is_stmt 0 view .LVU215
 552 0208 DDE92C01 		ldrd	r0, [sp, #176]
 516:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   new_dir_entry.fx_dir_entry_
 553              		.loc 1 516 68 view .LVU216
 554 020c C2E92801 		strd	r0, [r2, #160]
 517:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  new_dir_entry.fx_dir_entry_
 555              		.loc 1 517 13 is_stmt 1 view .LVU217
 517:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  new_dir_entry.fx_dir_entry_
 556              		.loc 1 517 86 is_stmt 0 view .LVU218
 557 0210 DDE92E01 		ldrd	r0, [sp, #184]
 517:Middlewares/ST/filex/common/src/fx_file_rename.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  new_dir_entry.fx_dir_entry_
 558              		.loc 1 517 69 view .LVU219
 559 0214 C2E92A01 		strd	r0, [r2, #168]
 518:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 560              		.loc 1 518 13 is_stmt 1 view .LVU220
 518:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 561              		.loc 1 518 86 is_stmt 0 view .LVU221
 562 0218 309B     		ldr	r3, [sp, #192]
 518:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 563              		.loc 1 518 70 view .LVU222
 564 021a C2F8B030 		str	r3, [r2, #176]
 521:Middlewares/ST/filex/common/src/fx_file_rename.c ****             while (i < (FX_MAX_LONG_NAME_LEN - 1))
 565              		.loc 1 521 13 is_stmt 1 view .LVU223
 566              	.LVL60:
 522:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 567              		.loc 1 522 13 view .LVU224
 521:Middlewares/ST/filex/common/src/fx_file_rename.c ****             while (i < (FX_MAX_LONG_NAME_LEN - 1))
 568              		.loc 1 521 15 is_stmt 0 view .LVU225
 569 021e 4346     		mov	r3, r8
 570              	.LVL61:
 571              	.L22:
 522:Middlewares/ST/filex/common/src/fx_file_rename.c ****             {
 572              		.loc 1 522 19 is_stmt 1 view .LVU226
 573 0220 FE2B     		cmp	r3, #254
 574 0222 D9D8     		bhi	.L23
 526:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 575              		.loc 1 526 17 view .LVU227
 526:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 576              		.loc 1 526 48 is_stmt 0 view .LVU228
 577 0224 916E     		ldr	r1, [r2, #104]
 526:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 578              		.loc 1 526 104 view .LVU229
 579 0226 1E98     		ldr	r0, [sp, #120]
 580 0228 C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 526:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 581              		.loc 1 526 70 view .LVU230
 582 022a C854     		strb	r0, [r1, r3]
 529:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 583              		.loc 1 529 17 is_stmt 1 view .LVU231
 529:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 584              		.loc 1 529 18 is_stmt 0 view .LVU232
 585 022c 0133     		adds	r3, r3, #1
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 25


 586              	.LVL62:
 532:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 {
 587              		.loc 1 532 17 is_stmt 1 view .LVU233
 532:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 {
 588              		.loc 1 532 34 is_stmt 0 view .LVU234
 589 022e 1E99     		ldr	r1, [sp, #120]
 532:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 {
 590              		.loc 1 532 52 view .LVU235
 591 0230 C95C     		ldrb	r1, [r1, r3]	@ zero_extendqisi2
 532:Middlewares/ST/filex/common/src/fx_file_rename.c ****                 {
 592              		.loc 1 532 20 view .LVU236
 593 0232 0029     		cmp	r1, #0
 594 0234 F4D1     		bne	.L22
 536:Middlewares/ST/filex/common/src/fx_file_rename.c ****                     {
 595              		.loc 1 536 21 is_stmt 1 view .LVU237
 536:Middlewares/ST/filex/common/src/fx_file_rename.c ****                     {
 596              		.loc 1 536 24 is_stmt 0 view .LVU238
 597 0236 FE2B     		cmp	r3, #254
 598 0238 F2D8     		bhi	.L22
 599 023a CDE7     		b	.L23
 600              	.LVL63:
 601              	.L42:
 556:Middlewares/ST/filex/common/src/fx_file_rename.c ****     old_dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 602              		.loc 1 556 5 is_stmt 1 view .LVU239
 556:Middlewares/ST/filex/common/src/fx_file_rename.c ****     old_dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 603              		.loc 1 556 40 is_stmt 0 view .LVU240
 604 023c E523     		movs	r3, #229
 605 023e 3A9A     		ldr	r2, [sp, #232]
 606              	.LVL64:
 556:Middlewares/ST/filex/common/src/fx_file_rename.c ****     old_dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 607              		.loc 1 556 40 view .LVU241
 608 0240 1370     		strb	r3, [r2]
 557:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 609              		.loc 1 557 5 is_stmt 1 view .LVU242
 557:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 610              		.loc 1 557 46 is_stmt 0 view .LVU243
 611 0242 8DF8EC30 		strb	r3, [sp, #236]
 569:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 612              		.loc 1 569 9 is_stmt 1 view .LVU244
 569:Middlewares/ST/filex/common/src/fx_file_rename.c **** #ifdef FX_ENABLE_EXFAT
 613              		.loc 1 569 19 is_stmt 0 view .LVU245
 614 0246 3AA9     		add	r1, sp, #232
 615 0248 2846     		mov	r0, r5
 616 024a FFF7FEFF 		bl	_fx_directory_entry_write
 617              	.LVL65:
 618 024e 8046     		mov	r8, r0
 619              	.LVL66:
 593:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 620              		.loc 1 593 5 is_stmt 1 view .LVU246
 621 0250 2046     		mov	r0, r4
 622              	.LVL67:
 593:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 623              		.loc 1 593 5 is_stmt 0 view .LVU247
 624 0252 FFF7FEFF 		bl	_tx_mutex_put
 625              	.LVL68:
 596:Middlewares/ST/filex/common/src/fx_file_rename.c **** }
 626              		.loc 1 596 5 is_stmt 1 view .LVU248
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 26


 596:Middlewares/ST/filex/common/src/fx_file_rename.c **** }
 627              		.loc 1 596 11 is_stmt 0 view .LVU249
 628 0256 0DE7     		b	.L1
 629              	.LVL69:
 630              	.L28:
 161:Middlewares/ST/filex/common/src/fx_file_rename.c ****     }
 631              		.loc 1 161 15 view .LVU250
 632 0258 4FF00C08 		mov	r8, #12
 633 025c 0AE7     		b	.L1
 634              	.LVL70:
 635              	.L30:
 176:Middlewares/ST/filex/common/src/fx_file_rename.c **** 
 636              		.loc 1 176 5 view .LVU251
 637 025e 4FF01108 		mov	r8, #17
 638 0262 07E7     		b	.L1
 639              	.L44:
 640              		.align	2
 641              	.L43:
 642 0264 4944454D 		.word	1296385097
 643              		.cfi_endproc
 644              	.LFE8:
 646              		.text
 647              	.Letext0:
 648              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 649              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 650              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 651              		.file 5 "Middlewares/ST/filex/common/inc/fx_directory.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccupuhvX.s 			page 27


DEFINED SYMBOLS
                            *ABS*:00000000 fx_file_rename.c
C:\Users\HP\AppData\Local\Temp\ccupuhvX.s:20     .text._fx_file_rename:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccupuhvX.s:26     .text._fx_file_rename:00000000 _fx_file_rename
C:\Users\HP\AppData\Local\Temp\ccupuhvX.s:642    .text._fx_file_rename:00000264 $d

UNDEFINED SYMBOLS
_tx_mutex_get
_fx_directory_search
_tx_mutex_put
_fx_directory_name_extract
_fx_directory_free_search
_fx_directory_entry_write

ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_file_extended_truncate_release.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_uldivmod
  20              		.section	.text._fx_file_extended_truncate_release,"ax",%progbits
  21              		.align	1
  22              		.global	_fx_file_extended_truncate_release
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_fx_file_extended_truncate_release:
  28              	.LVL0:
  29              	.LFB8:
  30              		.file 1 "Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c"
   1:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  12:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  13:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**   File                                                                */
  19:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  23:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  25:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  26:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  28:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #include "fx_api.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 2


  29:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #include "fx_system.h"
  30:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #include "fx_directory.h"
  31:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #include "fx_file.h"
  32:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #include "fx_utility.h"
  33:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  34:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #include "fx_fault_tolerant.h"
  35:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  36:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  37:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  38:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
  39:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  40:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  FUNCTION                                               RELEASE        */
  41:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  42:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_file_extended_truncate_release                  PORTABLE C      */
  43:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                           6.1.3        */
  44:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  AUTHOR                                                                */
  45:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  46:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    William E. Lamie, Microsoft Corporation                             */
  47:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  48:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  DESCRIPTION                                                           */
  49:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  50:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    This function sets the file to the specified size, if smaller than  */
  51:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    the current file size.  If the new file size is less than the       */
  52:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    current file read/write position, the internal file pointers will   */
  53:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    also be modified.  Any unused clusters are released back to the     */
  54:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    media.                                                              */
  55:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  56:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  INPUT                                                                 */
  57:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  58:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    file_ptr                              File control block pointer    */
  59:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    size                                  New size of the file in bytes */
  60:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  61:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  OUTPUT                                                                */
  62:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  63:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    return status                                                       */
  64:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  65:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  CALLS                                                                 */
  66:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  67:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_directory_entry_write             Write directory entry         */
  68:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_utility_exFAT_bitmap_flush        Flush exFAT allocation bitmap */
  69:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_utility_exFAT_cluster_state_set   Set cluster state             */
  70:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_utility_FAT_entry_read            Read a FAT entry              */
  71:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_utility_FAT_entry_write           Write a FAT entry             */
  72:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_utility_FAT_flush                 Flush written FAT entries     */
  73:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_fault_tolerant_transaction_start  Start fault tolerant          */
  74:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                            transaction                 */
  75:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_fault_tolerant_transaction_end    End fault tolerant transaction*/
  76:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_fault_tolerant_recover            Recover FAT chain             */
  77:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_fault_tolerant_reset_log_file     Reset the log file            */
  78:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    _fx_fault_tolerant_set_FAT_chain      Set data of FAT chain         */
  79:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  80:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  CALLED BY                                                             */
  81:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  82:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    Application Code                                                    */
  83:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  84:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  RELEASE HISTORY                                                       */
  85:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 3


  86:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*    DATE              NAME                      DESCRIPTION             */
  87:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  88:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  89:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  90:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                            resulting in version 6.1    */
  91:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*  12-31-2020     William E. Lamie         Modified comment(s), fixed    */
  92:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                            available cluster issue,    */
  93:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                            resulting in version 6.1.3  */
  94:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /*                                                                        */
  95:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** /**************************************************************************/
  96:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** UINT  _fx_file_extended_truncate_release(FX_FILE *file_ptr, ULONG64 size)
  97:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** {
  31              		.loc 1 97 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 32
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 97 1 is_stmt 0 view .LVU1
  36 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 36
  39              		.cfi_offset 4, -36
  40              		.cfi_offset 5, -32
  41              		.cfi_offset 6, -28
  42              		.cfi_offset 7, -24
  43              		.cfi_offset 8, -20
  44              		.cfi_offset 9, -16
  45              		.cfi_offset 10, -12
  46              		.cfi_offset 11, -8
  47              		.cfi_offset 14, -4
  48 0004 89B0     		sub	sp, sp, #36
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 72
  51 0006 0192     		str	r2, [sp, #4]
  52 0008 0093     		str	r3, [sp]
  98:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
  99:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** UINT                   status;
  53              		.loc 1 99 1 is_stmt 1 view .LVU2
 100:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  cluster;
  54              		.loc 1 100 1 view .LVU3
 101:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  contents;
  55              		.loc 1 101 1 view .LVU4
 102:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  bytes_per_cluster;
  56              		.loc 1 102 1 view .LVU5
 103:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  last_cluster;
  57              		.loc 1 103 1 view .LVU6
 104:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  cluster_count;
  58              		.loc 1 104 1 view .LVU7
 105:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG64                bytes_remaining;
  59              		.loc 1 105 1 view .LVU8
 106:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** FX_MEDIA              *media_ptr;
  60              		.loc 1 106 1 view .LVU9
 107:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 108:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 109:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  original_last_physical_cluster;
 110:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 111:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 112:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifndef FX_DONT_UPDATE_OPEN_FILES
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 4


 113:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  open_count;
  61              		.loc 1 113 1 view .LVU10
 114:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** FX_FILE               *search_ptr;
  62              		.loc 1 114 1 view .LVU11
 115:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif
 116:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 117:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef TX_ENABLE_EVENT_TRACE
 118:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** TX_TRACE_BUFFER_ENTRY *trace_event;
 119:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** ULONG                  trace_timestamp;
 120:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif
 121:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 122:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 123:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* First, determine if the file is still open.  */
 124:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (file_ptr -> fx_file_id != FX_FILE_ID)
  63              		.loc 1 124 5 view .LVU12
  64              		.loc 1 124 18 is_stmt 0 view .LVU13
  65 000a 0268     		ldr	r2, [r0]
  66              	.LVL1:
  67              		.loc 1 124 8 view .LVU14
  68 000c AB4B     		ldr	r3, .L56
  69 000e 9A42     		cmp	r2, r3
  70 0010 40F01D82 		bne	.L34
  71 0014 0446     		mov	r4, r0
 125:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 126:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 127:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Return the file not open error status.  */
 128:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(FX_NOT_OPEN);
 129:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 130:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 131:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 132:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Setup pointer to media structure.  */
 133:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     media_ptr =  file_ptr -> fx_file_media_ptr;
  72              		.loc 1 133 5 is_stmt 1 view .LVU15
  73              		.loc 1 133 15 is_stmt 0 view .LVU16
  74 0016 826D     		ldr	r2, [r0, #88]
  75              	.LVL2:
 134:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 135:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Increment the number of times this service has been called.  */
 136:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     media_ptr -> fx_media_file_truncate_releases++;
  76              		.loc 1 136 5 is_stmt 1 view .LVU17
  77              		.loc 1 136 15 is_stmt 0 view .LVU18
  78 0018 D2F85031 		ldr	r3, [r2, #336]
  79              		.loc 1 136 49 view .LVU19
  80 001c 0133     		adds	r3, r3, #1
  81 001e C2F85031 		str	r3, [r2, #336]
 137:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif
 138:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 139:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Setup pointer to associated media control block.  */
 140:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     media_ptr =  file_ptr -> fx_file_media_ptr;
  82              		.loc 1 140 5 is_stmt 1 view .LVU20
  83              		.loc 1 140 15 is_stmt 0 view .LVU21
  84 0022 856D     		ldr	r5, [r0, #88]
  85              	.LVL3:
 141:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 142:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 143:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_FILE_TRUNCATE_RELEASE, file_ptr, size, file_ptr -> fx_file_cur
 144:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 5


 145:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Protect against other threads accessing the media.  */
 146:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     FX_PROTECT
  86              		.loc 1 146 5 is_stmt 1 view .LVU22
  87 0024 2A68     		ldr	r2, [r5]
  88 0026 A64B     		ldr	r3, .L56+4
  89 0028 9A42     		cmp	r2, r3
  90 002a 02D0     		beq	.L42
  91 002c 4FF0110B 		mov	fp, #17
  92 0030 0FE2     		b	.L1
  93              	.L42:
  94              		.loc 1 146 5 discriminator 2 view .LVU23
  95 0032 05F5E473 		add	r3, r5, #456
  96 0036 0293     		str	r3, [sp, #8]
  97 0038 4FF0FF31 		mov	r1, #-1
  98 003c 1846     		mov	r0, r3
  99              	.LVL4:
 100              		.loc 1 146 5 is_stmt 0 discriminator 2 view .LVU24
 101 003e FFF7FEFF 		bl	_tx_mutex_get
 102              	.LVL5:
 103 0042 0028     		cmp	r0, #0
 104 0044 40F00982 		bne	.L36
 147:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 148:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 149:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Start transaction. */
 150:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     _fx_fault_tolerant_transaction_start(media_ptr);
 151:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 152:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 153:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Make sure this file is open for writing.  */
 154:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (file_ptr -> fx_file_open_mode != FX_OPEN_FOR_WRITE)
 105              		.loc 1 154 5 is_stmt 1 view .LVU25
 106              		.loc 1 154 18 is_stmt 0 view .LVU26
 107 0048 A368     		ldr	r3, [r4, #8]
 108              		.loc 1 154 8 view .LVU27
 109 004a 012B     		cmp	r3, #1
 110 004c 70D1     		bne	.L43
 155:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 156:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 157:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 158:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 159:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 160:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 161:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Release media protection.  */
 162:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_UNPROTECT
 163:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 164:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Return the access error exception - a write was attempted from
 165:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****            a file opened for reading!  */
 166:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(FX_ACCESS_ERROR);
 167:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 168:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 169:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Check for write protect at the media level (set by driver).  */
 170:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (media_ptr -> fx_media_driver_write_protect)
 111              		.loc 1 170 5 is_stmt 1 view .LVU28
 112              		.loc 1 170 19 is_stmt 0 view .LVU29
 113 004e D5F8A830 		ldr	r3, [r5, #168]
 114 0052 0393     		str	r3, [sp, #12]
 115              		.loc 1 170 8 view .LVU30
 116 0054 002B     		cmp	r3, #0
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 6


 117 0056 71D1     		bne	.L44
 171:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 172:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 173:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 174:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 175:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 176:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 177:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Release media protection.  */
 178:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_UNPROTECT
 179:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 180:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Return write protect error.  */
 181:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(FX_WRITE_PROTECT);
 182:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 183:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 184:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Calculate the number of bytes per cluster.  */
 185:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     bytes_per_cluster =  ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 118              		.loc 1 185 5 is_stmt 1 view .LVU31
 119              		.loc 1 185 44 is_stmt 0 view .LVU32
 120 0058 AE6A     		ldr	r6, [r5, #40]
 186:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 121              		.loc 1 186 27 view .LVU33
 122 005a 6B6D     		ldr	r3, [r5, #84]
 185:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 123              		.loc 1 185 23 view .LVU34
 124 005c 03FB06F6 		mul	r6, r3, r6
 125              	.LVL6:
 187:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 188:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Check for invalid value.  */
 189:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (bytes_per_cluster == 0)
 126              		.loc 1 189 5 is_stmt 1 view .LVU35
 127              		.loc 1 189 8 is_stmt 0 view .LVU36
 128 0060 002E     		cmp	r6, #0
 129 0062 71D0     		beq	.L45
 190:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 191:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 192:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 193:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 194:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 195:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 196:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Release media protection.  */
 197:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_UNPROTECT
 198:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 199:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Invalid media, return error.  */
 200:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(FX_MEDIA_INVALID);
 201:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 202:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 203:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Setup the new file available size - if less than the current available size.  */
 204:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (size < file_ptr -> fx_file_current_available_size)
 130              		.loc 1 204 5 is_stmt 1 view .LVU37
 131              		.loc 1 204 25 is_stmt 0 view .LVU38
 132 0064 226D     		ldr	r2, [r4, #80]
 133 0066 636D     		ldr	r3, [r4, #84]
 134              		.loc 1 204 8 view .LVU39
 135 0068 019F     		ldr	r7, [sp, #4]
 136 006a 9742     		cmp	r7, r2
 137 006c 009A     		ldr	r2, [sp]
 138 006e 72EB0303 		sbcs	r3, r2, r3
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 7


 139 0072 73D2     		bcs	.L6
 205:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 206:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 207:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Yes, the file needs to be truncated.  */
 208:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 209:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Update the available file size.  */
 210:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_available_size =  ((size + bytes_per_cluster - 1) / bytes_per_c
 140              		.loc 1 210 9 is_stmt 1 view .LVU40
 141              		.loc 1 210 62 is_stmt 0 view .LVU41
 142 0074 F019     		adds	r0, r6, r7
 143 0076 42F10001 		adc	r1, r2, #0
 144              		.loc 1 210 82 view .LVU42
 145 007a 0138     		subs	r0, r0, #1
 146              		.loc 1 210 87 view .LVU43
 147 007c 3246     		mov	r2, r6
 148 007e 4FF00003 		mov	r3, #0
 149 0082 41F1FF31 		adc	r1, r1, #-1
 150 0086 FFF7FEFF 		bl	__aeabi_uldivmod
 151              	.LVL7:
 152              		.loc 1 210 108 view .LVU44
 153 008a A6FB0003 		umull	r0, r3, r6, r0
 154 008e 06FB0136 		mla	r6, r6, r1, r3
 155              	.LVL8:
 156              		.loc 1 210 52 view .LVU45
 157 0092 2065     		str	r0, [r4, #80]
 158 0094 6665     		str	r6, [r4, #84]
 211:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 212:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Is the new available size less than the actual file size?  */
 213:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         if (size < file_ptr -> fx_file_current_file_size)
 159              		.loc 1 213 9 is_stmt 1 view .LVU46
 160              		.loc 1 213 29 is_stmt 0 view .LVU47
 161 0096 A26C     		ldr	r2, [r4, #72]
 162 0098 E36C     		ldr	r3, [r4, #76]
 163              		.loc 1 213 12 view .LVU48
 164 009a 9742     		cmp	r7, r2
 165 009c 009A     		ldr	r2, [sp]
 166 009e 72EB0303 		sbcs	r3, r2, r3
 167 00a2 15D2     		bcs	.L7
 214:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 215:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 216:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Setup the new file size.  */
 217:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             file_ptr -> fx_file_current_file_size =  size;
 168              		.loc 1 217 13 is_stmt 1 view .LVU49
 169              		.loc 1 217 51 is_stmt 0 view .LVU50
 170 00a4 A764     		str	r7, [r4, #72]
 171 00a6 E264     		str	r2, [r4, #76]
 218:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 219:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Set the modified flag.  */
 220:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             file_ptr -> fx_file_modified =  FX_TRUE;
 172              		.loc 1 220 13 is_stmt 1 view .LVU51
 173              		.loc 1 220 42 is_stmt 0 view .LVU52
 174 00a8 0123     		movs	r3, #1
 175 00aa 2373     		strb	r3, [r4, #12]
 221:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 222:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Copy the new file size into the directory entry.  */
 223:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =  size;
 176              		.loc 1 223 13 is_stmt 1 view .LVU53
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 8


 177              		.loc 1 223 66 is_stmt 0 view .LVU54
 178 00ac C4F8A070 		str	r7, [r4, #160]
 179 00b0 C4F8A420 		str	r2, [r4, #164]
 224:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 225:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Set the first cluster to NULL.  */
 226:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (size == 0)
 180              		.loc 1 226 13 is_stmt 1 view .LVU55
 181              		.loc 1 226 16 is_stmt 0 view .LVU56
 182 00b4 57EA0203 		orrs	r3, r7, r2
 183 00b8 02D1     		bne	.L8
 227:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 228:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 229:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Yes, the first cluster needs to be cleared since the entire
 230:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                    file is going to be truncated.  */
 231:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster =  FX_NULL;
 184              		.loc 1 231 17 is_stmt 1 view .LVU57
 185              		.loc 1 231 68 is_stmt 0 view .LVU58
 186 00ba 0023     		movs	r3, #0
 187 00bc C4F89C30 		str	r3, [r4, #156]
 188              	.L8:
 232:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 233:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 234:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Write the directory entry to the media.  */
 235:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 236:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 237:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 238:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 status = _fx_directory_exFAT_entry_write(
 239:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         media_ptr, &(file_ptr -> fx_file_dir_entry), UPDATE_STREAM);
 240:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 241:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             else
 242:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 243:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 244:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 status = _fx_directory_entry_write(media_ptr, &(file_ptr -> fx_file_dir_entry));
 189              		.loc 1 244 17 is_stmt 1 view .LVU59
 190              		.loc 1 244 26 is_stmt 0 view .LVU60
 191 00c0 04F16801 		add	r1, r4, #104
 192 00c4 2846     		mov	r0, r5
 193 00c6 FFF7FEFF 		bl	_fx_directory_entry_write
 194              	.LVL9:
 245:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 246:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 247:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 248:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 249:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Check for a good status.  */
 250:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (status != FX_SUCCESS)
 195              		.loc 1 250 13 is_stmt 1 view .LVU61
 196              		.loc 1 250 16 is_stmt 0 view .LVU62
 197 00ca 8346     		mov	fp, r0
 198 00cc 0028     		cmp	r0, #0
 199 00ce 41D1     		bne	.L46
 200              	.LVL10:
 201              	.L7:
 251:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 252:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 253:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 254:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 255:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 9


 256:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 257:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Release media protection.  */
 258:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_UNPROTECT
 259:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 260:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Error writing the directory.  */
 261:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 return(status);
 262:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 263:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 264:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 265:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Update the trace event with the truncated size.  */
 266:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_FILE_TRUNCATE_RELEASE, 0, 0, 0
 267:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 268:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     else
 269:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 270:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 271:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Update the trace event with the truncated size.  */
 272:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_FILE_TRUNCATE_RELEASE, 0, 0, 0
 273:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 274:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 275:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 276:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 277:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 278:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Release media protection.  */
 279:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_UNPROTECT
 280:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 281:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Just return, the truncate size is larger than the available size.  */
 282:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(FX_SUCCESS);
 283:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 284:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 285:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Calculate the number of bytes per cluster.  */
 286:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     bytes_per_cluster =  ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 202              		.loc 1 286 5 is_stmt 1 view .LVU63
 203              		.loc 1 286 44 is_stmt 0 view .LVU64
 204 00d0 AB6A     		ldr	r3, [r5, #40]
 287:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 205              		.loc 1 287 27 view .LVU65
 206 00d2 6A6D     		ldr	r2, [r5, #84]
 286:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 207              		.loc 1 286 23 view .LVU66
 208 00d4 02FB03F8 		mul	r8, r2, r3
 209              	.LVL11:
 288:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 289:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Now check to see if the read/write internal file pointers need
 290:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****        to be adjusted.  */
 291:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (file_ptr -> fx_file_current_file_offset > file_ptr -> fx_file_current_file_size)
 210              		.loc 1 291 5 is_stmt 1 view .LVU67
 211              		.loc 1 291 18 is_stmt 0 view .LVU68
 212 00d8 216C     		ldr	r1, [r4, #64]
 213 00da 636C     		ldr	r3, [r4, #68]
 214              		.loc 1 291 60 view .LVU69
 215 00dc A06C     		ldr	r0, [r4, #72]
 216 00de E26C     		ldr	r2, [r4, #76]
 217              		.loc 1 291 8 view .LVU70
 218 00e0 8842     		cmp	r0, r1
 219 00e2 72EB0303 		sbcs	r3, r2, r3
 220 00e6 7BD2     		bcs	.L9
 292:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 10


 293:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 294:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 295:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* At this point, we are ready to walk list of clusters to setup the
 296:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****            seek position of this file.  */
 297:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         cluster =           file_ptr -> fx_file_first_physical_cluster;
 221              		.loc 1 297 9 is_stmt 1 view .LVU71
 222              		.loc 1 297 17 is_stmt 0 view .LVU72
 223 00e8 6769     		ldr	r7, [r4, #20]
 224              	.LVL12:
 298:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         bytes_remaining =   size;
 225              		.loc 1 298 9 is_stmt 1 view .LVU73
 299:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         last_cluster =      0;
 226              		.loc 1 299 9 view .LVU74
 300:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         cluster_count =     0;
 227              		.loc 1 300 9 view .LVU75
 301:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 302:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Follow the link of FAT entries.  */
 303:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         while ((cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_reserved))
 228              		.loc 1 303 9 view .LVU76
 298:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         last_cluster =      0;
 229              		.loc 1 298 25 is_stmt 0 view .LVU77
 230 00ea 019E     		ldr	r6, [sp, #4]
 231 00ec DDF80090 		ldr	r9, [sp]
 300:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         cluster_count =     0;
 232              		.loc 1 300 23 view .LVU78
 233 00f0 0399     		ldr	r1, [sp, #12]
 234 00f2 8A46     		mov	r10, r1
 235              	.LVL13:
 236              	.L10:
 237              		.loc 1 303 15 is_stmt 1 view .LVU79
 238 00f4 012F     		cmp	r7, #1
 239 00f6 3CD9     		bls	.L12
 240              		.loc 1 303 72 is_stmt 0 discriminator 1 view .LVU80
 241 00f8 05F50053 		add	r3, r5, #8192
 242 00fc D3F8A834 		ldr	r3, [r3, #1192]
 243              		.loc 1 303 48 discriminator 1 view .LVU81
 244 0100 BB42     		cmp	r3, r7
 245 0102 36D9     		bls	.L12
 304:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 305:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 306:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Increment the number of clusters.  */
 307:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             cluster_count++;
 246              		.loc 1 307 13 is_stmt 1 view .LVU82
 247              		.loc 1 307 26 is_stmt 0 view .LVU83
 248 0104 0AF1010A 		add	r10, r10, #1
 249              	.LVL14:
 308:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 309:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 310:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 311:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 312:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (cluster >= file_ptr -> fx_file_last_physical_cluster)
 313:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 314:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     contents = FX_LAST_CLUSTER_exFAT;
 315:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 316:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 else
 317:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 318:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     contents = cluster + 1;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 11


 319:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 320:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 321:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             else
 322:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 323:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 324:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 325:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Read the current cluster entry from the FAT.  */
 326:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &contents);
 250              		.loc 1 326 17 is_stmt 1 view .LVU84
 251              		.loc 1 326 27 is_stmt 0 view .LVU85
 252 0108 07AA     		add	r2, sp, #28
 253 010a 3946     		mov	r1, r7
 254              	.LVL15:
 255              		.loc 1 326 27 view .LVU86
 256 010c 2846     		mov	r0, r5
 257 010e FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 258              	.LVL16:
 327:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 328:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Check the return value.  */
 329:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (status != FX_SUCCESS)
 259              		.loc 1 329 17 is_stmt 1 view .LVU87
 260              		.loc 1 329 20 is_stmt 0 view .LVU88
 261 0112 8346     		mov	fp, r0
 262 0114 40BB     		cbnz	r0, .L47
 330:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 331:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 332:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 333:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 334:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 335:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 336:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Release media protection.  */
 337:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     FX_UNPROTECT
 338:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 339:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Return the error status.  */
 340:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     return(status);
 341:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 342:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 343:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 344:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 345:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 346:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Save the last valid cluster.  */
 347:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             last_cluster =  cluster;
 263              		.loc 1 347 13 is_stmt 1 view .LVU89
 264              	.LVL17:
 348:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 349:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Setup for the next cluster.  */
 350:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             cluster =  contents;
 265              		.loc 1 350 13 view .LVU90
 266              		.loc 1 350 21 is_stmt 0 view .LVU91
 267 0116 079A     		ldr	r2, [sp, #28]
 268              	.LVL18:
 351:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 352:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Determine if this is the last written cluster.  */
 353:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (bytes_remaining >= bytes_per_cluster)
 269              		.loc 1 353 13 is_stmt 1 view .LVU92
 270              		.loc 1 353 16 is_stmt 0 view .LVU93
 271 0118 4645     		cmp	r6, r8
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 12


 272 011a 79F10001 		sbcs	r1, r9, #0
 273 011e 27D3     		bcc	.L37
 354:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 355:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 356:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Still more seeking, just decrement the working byte offset.  */
 357:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 bytes_remaining =  bytes_remaining - bytes_per_cluster;
 274              		.loc 1 357 17 is_stmt 1 view .LVU94
 275              		.loc 1 357 33 is_stmt 0 view .LVU95
 276 0120 B6EB0803 		subs	r3, r6, r8
 277 0124 1E46     		mov	r6, r3
 278              	.LVL19:
 279              		.loc 1 357 33 view .LVU96
 280 0126 69F10009 		sbc	r9, r9, #0
 281              	.LVL20:
 347:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 282              		.loc 1 347 26 view .LVU97
 283 012a 3946     		mov	r1, r7
 350:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 284              		.loc 1 350 21 view .LVU98
 285 012c 1746     		mov	r7, r2
 286              	.LVL21:
 350:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 287              		.loc 1 350 21 view .LVU99
 288 012e E1E7     		b	.L10
 289              	.LVL22:
 290              	.L43:
 162:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 291              		.loc 1 162 9 is_stmt 1 view .LVU100
 292 0130 0298     		ldr	r0, [sp, #8]
 293 0132 FFF7FEFF 		bl	_tx_mutex_put
 294              	.LVL23:
 166:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 295              		.loc 1 166 9 view .LVU101
 166:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 296              		.loc 1 166 15 is_stmt 0 view .LVU102
 297 0136 4FF0060B 		mov	fp, #6
 298 013a 8AE1     		b	.L1
 299              	.L44:
 178:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 300              		.loc 1 178 9 is_stmt 1 view .LVU103
 301 013c 0298     		ldr	r0, [sp, #8]
 302 013e FFF7FEFF 		bl	_tx_mutex_put
 303              	.LVL24:
 181:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 304              		.loc 1 181 9 view .LVU104
 181:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 305              		.loc 1 181 15 is_stmt 0 view .LVU105
 306 0142 4FF0230B 		mov	fp, #35
 307 0146 84E1     		b	.L1
 308              	.LVL25:
 309              	.L45:
 197:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 310              		.loc 1 197 9 is_stmt 1 view .LVU106
 311 0148 0298     		ldr	r0, [sp, #8]
 312 014a FFF7FEFF 		bl	_tx_mutex_put
 313              	.LVL26:
 200:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 13


 314              		.loc 1 200 9 view .LVU107
 200:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 315              		.loc 1 200 15 is_stmt 0 view .LVU108
 316 014e 4FF0020B 		mov	fp, #2
 317 0152 7EE1     		b	.L1
 318              	.LVL27:
 319              	.L46:
 258:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 320              		.loc 1 258 17 is_stmt 1 view .LVU109
 321 0154 0298     		ldr	r0, [sp, #8]
 322              	.LVL28:
 258:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 323              		.loc 1 258 17 is_stmt 0 view .LVU110
 324 0156 FFF7FEFF 		bl	_tx_mutex_put
 325              	.LVL29:
 261:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 326              		.loc 1 261 17 is_stmt 1 view .LVU111
 261:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 327              		.loc 1 261 23 is_stmt 0 view .LVU112
 328 015a 7AE1     		b	.L1
 329              	.LVL30:
 330              	.L6:
 279:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 331              		.loc 1 279 9 is_stmt 1 view .LVU113
 332 015c 0298     		ldr	r0, [sp, #8]
 333 015e FFF7FEFF 		bl	_tx_mutex_put
 334              	.LVL31:
 282:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 335              		.loc 1 282 9 view .LVU114
 282:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 336              		.loc 1 282 15 is_stmt 0 view .LVU115
 337 0162 DDF80CB0 		ldr	fp, [sp, #12]
 338 0166 74E1     		b	.L1
 339              	.LVL32:
 340              	.L47:
 337:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 341              		.loc 1 337 21 is_stmt 1 view .LVU116
 342 0168 0298     		ldr	r0, [sp, #8]
 343              	.LVL33:
 337:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 344              		.loc 1 337 21 is_stmt 0 view .LVU117
 345 016a FFF7FEFF 		bl	_tx_mutex_put
 346              	.LVL34:
 340:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 347              		.loc 1 340 21 is_stmt 1 view .LVU118
 340:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 348              		.loc 1 340 27 is_stmt 0 view .LVU119
 349 016e 70E1     		b	.L1
 350              	.LVL35:
 351              	.L37:
 347:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 352              		.loc 1 347 26 view .LVU120
 353 0170 3946     		mov	r1, r7
 354              	.LVL36:
 355              	.L12:
 358:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 359:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             else
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 14


 360:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 361:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 362:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* This is the cluster that contains the seek position.  */
 363:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 break;
 364:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 365:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 366:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         
 367:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Check for errors in traversal of the FAT chain.  */
 368:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         if (size > (((ULONG64) bytes_per_cluster) * ((ULONG64) cluster_count)))
 356              		.loc 1 368 9 is_stmt 1 view .LVU121
 357              		.loc 1 368 51 is_stmt 0 view .LVU122
 358 0172 A8FB0A23 		umull	r2, r3, r8, r10
 359              		.loc 1 368 12 view .LVU123
 360 0176 0198     		ldr	r0, [sp, #4]
 361 0178 8242     		cmp	r2, r0
 362 017a 009A     		ldr	r2, [sp]
 363 017c 9341     		sbcs	r3, r3, r2
 364 017e 37D3     		bcc	.L48
 369:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 370:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 371:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 372:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 373:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 374:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 375:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Release media protection.  */
 376:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             FX_UNPROTECT
 377:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 378:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* This is an error that suggests a corrupt file.  */
 379:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             return(FX_FILE_CORRUPT);
 380:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 381:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 382:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Position the pointers to the new offset.  */
 383:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_physical_cluster =  last_cluster;
 365              		.loc 1 383 9 is_stmt 1 view .LVU124
 366              		.loc 1 383 54 is_stmt 0 view .LVU125
 367 0180 2162     		str	r1, [r4, #32]
 384:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_relative_cluster =  cluster_count - 1;
 368              		.loc 1 384 9 is_stmt 1 view .LVU126
 369              		.loc 1 384 71 is_stmt 0 view .LVU127
 370 0182 0AF1FF33 		add	r3, r10, #-1
 371              		.loc 1 384 54 view .LVU128
 372 0186 6363     		str	r3, [r4, #52]
 385:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sector_s
 373              		.loc 1 385 9 is_stmt 1 view .LVU129
 374              		.loc 1 385 75 is_stmt 0 view .LVU130
 375 0188 2B6D     		ldr	r3, [r5, #80]
 376              		.loc 1 385 58 view .LVU131
 377 018a 0027     		movs	r7, #0
 386:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 378              		.loc 1 386 69 view .LVU132
 379 018c B1F1020A 		subs	r10, r1, #2
 380              	.LVL37:
 381              		.loc 1 386 69 view .LVU133
 382 0190 47F1FF31 		adc	r1, r7, #-1
 383              	.LVL38:
 387:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****              ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 384              		.loc 1 387 32 view .LVU134
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 15


 385 0194 6A6D     		ldr	r2, [r5, #84]
 386:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 386              		.loc 1 386 91 view .LVU135
 387 0196 AAFB02AB 		umull	r10, fp, r10, r2
 388 019a 02FB01BB 		mla	fp, r2, r1, fp
 385:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sector_s
 389              		.loc 1 385 106 view .LVU136
 390 019e 13EB0A0A 		adds	r10, r3, r10
 391 01a2 4BF1000B 		adc	fp, fp, #0
 388:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (bytes_remaining / (ULONG)media_ptr -> fx_media_bytes_per_sector);
 392              		.loc 1 388 30 view .LVU137
 393 01a6 AA6A     		ldr	r2, [r5, #40]
 394 01a8 3B46     		mov	r3, r7
 395 01aa 3046     		mov	r0, r6
 396 01ac 4946     		mov	r1, r9
 397 01ae FFF7FEFF 		bl	__aeabi_uldivmod
 398              	.LVL39:
 387:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****              ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 399              		.loc 1 387 66 view .LVU138
 400 01b2 1AEB0000 		adds	r0, r10, r0
 401 01b6 4BEB0101 		adc	r1, fp, r1
 385:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 402              		.loc 1 385 52 view .LVU139
 403 01ba A062     		str	r0, [r4, #40]
 404 01bc E162     		str	r1, [r4, #44]
 389:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_relative_sector =   (UINT)((bytes_remaining / (ULONG)media_ptr 
 405              		.loc 1 389 9 is_stmt 1 view .LVU140
 406              		.loc 1 389 81 is_stmt 0 view .LVU141
 407 01be AA6A     		ldr	r2, [r5, #40]
 408 01c0 3B46     		mov	r3, r7
 409 01c2 3046     		mov	r0, r6
 410 01c4 4946     		mov	r1, r9
 411 01c6 FFF7FEFF 		bl	__aeabi_uldivmod
 412              	.LVL40:
 413              		.loc 1 389 53 view .LVU142
 414 01ca A063     		str	r0, [r4, #56]
 390:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_file_offset =       size;
 415              		.loc 1 390 9 is_stmt 1 view .LVU143
 416              		.loc 1 390 49 is_stmt 0 view .LVU144
 417 01cc 019B     		ldr	r3, [sp, #4]
 418 01ce 2364     		str	r3, [r4, #64]
 419 01d0 009B     		ldr	r3, [sp]
 420 01d2 6364     		str	r3, [r4, #68]
 391:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_logical_offset =    (ULONG)bytes_remaining % ((ULONG)media_ptr 
 421              		.loc 1 391 9 is_stmt 1 view .LVU145
 422              		.loc 1 391 100 is_stmt 0 view .LVU146
 423 01d4 AB6A     		ldr	r3, [r5, #40]
 424              		.loc 1 391 80 view .LVU147
 425 01d6 B6FBF3F2 		udiv	r2, r6, r3
 426 01da 03FB1266 		mls	r6, r3, r2, r6
 427              	.LVL41:
 428              		.loc 1 391 52 view .LVU148
 429 01de 2663     		str	r6, [r4, #48]
 430              	.L9:
 392:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 393:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 394:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Determine how many clusters are actually in-use now.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 16


 395:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     cluster_count =  (ULONG) (file_ptr -> fx_file_current_available_size + (((ULONG64) bytes_per_cl
 431              		.loc 1 395 5 is_stmt 1 view .LVU149
 432              		.loc 1 395 40 is_stmt 0 view .LVU150
 433 01e0 276D     		ldr	r7, [r4, #80]
 434              		.loc 1 395 74 view .LVU151
 435 01e2 4744     		add	r7, r7, r8
 436              		.loc 1 395 22 view .LVU152
 437 01e4 013F     		subs	r7, r7, #1
 438              		.loc 1 395 19 view .LVU153
 439 01e6 B7FBF8F7 		udiv	r7, r7, r8
 440              	.LVL42:
 396:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 397:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Save the number of clusters in-use.  */
 398:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     file_ptr -> fx_file_total_clusters =  cluster_count;
 441              		.loc 1 398 5 is_stmt 1 view .LVU154
 442              		.loc 1 398 40 is_stmt 0 view .LVU155
 443 01ea 2761     		str	r7, [r4, #16]
 399:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 400:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* At this point, we are ready to walk list of clusters to find the clusters
 401:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****        that can be released.  */
 402:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     cluster =           file_ptr -> fx_file_first_physical_cluster;
 444              		.loc 1 402 5 is_stmt 1 view .LVU156
 445              		.loc 1 402 13 is_stmt 0 view .LVU157
 446 01ec 6669     		ldr	r6, [r4, #20]
 447              	.LVL43:
 403:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 404:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     original_last_physical_cluster = file_ptr -> fx_file_last_physical_cluster;
 405:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 406:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 407:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 408:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Is this the last used cluster?  */
 409:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if ((cluster_count == 0) && (media_ptr -> fx_media_fault_tolerant_enabled))
 410:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 411:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 412:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 413:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 414:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 415:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 416:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Set undo log. */
 417:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             status = _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_FALSE, FX_FREE_CLUSTER,
 418:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                                                       media_ptr -> fx_media_fat_last, cluster, medi
 419:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 420:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Determine if the write was successful.  */
 421:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (status != FX_SUCCESS)
 422:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 423:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 424:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 425:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 426:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Release media protection.  */
 427:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_UNPROTECT
 428:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 429:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Return the error code.  */
 430:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 return(status);
 431:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 432:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 433:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 434:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         else
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 17


 435:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 436:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 437:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Set undo log. */
 438:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             status = _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_TRUE, FX_FREE_CLUSTER,
 439:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                                                       media_ptr -> fx_media_fat_last, cluster, file
 440:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 441:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Determine if the write was successful.  */
 442:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (status != FX_SUCCESS)
 443:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 444:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 445:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 446:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 447:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Release media protection.  */
 448:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_UNPROTECT
 449:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 450:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Return the error code.  */
 451:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 return(status);
 452:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 453:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 454:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT && FX_ENABLE_FAULT_TOLERANT */
 455:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 456:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_last_physical_cluster =  cluster;
 457:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 458:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 459:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 460:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Follow the link of FAT entries.  */
 461:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     while ((cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_reserved))
 448              		.loc 1 461 5 is_stmt 1 view .LVU158
 449              		.loc 1 461 11 is_stmt 0 view .LVU159
 450 01ee 18E0     		b	.L15
 451              	.LVL44:
 452              	.L48:
 376:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 453              		.loc 1 376 13 is_stmt 1 view .LVU160
 454 01f0 0298     		ldr	r0, [sp, #8]
 455 01f2 FFF7FEFF 		bl	_tx_mutex_put
 456              	.LVL45:
 379:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 457              		.loc 1 379 13 view .LVU161
 379:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 458              		.loc 1 379 19 is_stmt 0 view .LVU162
 459 01f6 4FF0080B 		mov	fp, #8
 460 01fa 2AE1     		b	.L1
 461              	.LVL46:
 462              	.L50:
 462:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 463:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 464:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         if (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 465:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 466:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (cluster >= original_last_physical_cluster)
 467:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 468:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 contents = FX_LAST_CLUSTER_exFAT;
 469:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 470:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             else
 471:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 472:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 contents = cluster + 1;
 473:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 18


 474:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 475:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         else
 476:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 477:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 478:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 479:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Read the current cluster entry from the FAT.  */
 480:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &contents);
 481:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 482:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Check the return value.  */
 483:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (status != FX_SUCCESS)
 484:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 485:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 486:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 487:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 488:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 489:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 490:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Release media protection.  */
 491:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 FX_UNPROTECT
 463              		.loc 1 491 17 is_stmt 1 view .LVU163
 464 01fc 0298     		ldr	r0, [sp, #8]
 465              	.LVL47:
 466              		.loc 1 491 17 is_stmt 0 view .LVU164
 467 01fe FFF7FEFF 		bl	_tx_mutex_put
 468              	.LVL48:
 492:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 493:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Return the error status.  */
 494:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 return(status);
 469              		.loc 1 494 17 is_stmt 1 view .LVU165
 470              		.loc 1 494 23 is_stmt 0 view .LVU166
 471 0202 26E1     		b	.L1
 472              	.LVL49:
 473              	.L51:
 495:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 496:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 497:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 498:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 499:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 500:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Determine if are more clusters to release.  */
 501:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         if (cluster_count > 0)
 502:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 503:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 504:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Decrement the number of clusters.  */
 505:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             cluster_count--;
 506:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 507:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Is this the last used cluster?  */
 508:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (cluster_count == 0)
 509:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 510:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 511:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 512:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 513:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 514:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 515:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 516:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     if (media_ptr -> fx_media_fault_tolerant_enabled)
 517:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 518:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 519:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Set undo phase. */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 19


 520:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         media_ptr -> fx_media_fault_tolerant_state |= FX_FAULT_TOLERANT_STATE_SET_F
 521:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 522:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Read the current cluster entry from the FAT.  */
 523:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &contents);
 524:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 525:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Check the return value.  */
 526:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         if (status != FX_SUCCESS)
 527:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         {
 528:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 529:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 530:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 531:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             /* Release media protection.  */
 532:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             FX_UNPROTECT
 533:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 534:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             /* Return the error status.  */
 535:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             return(status);
 536:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         }
 537:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 538:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Set undo log. */
 539:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         status = _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_FALSE, cluster,
 540:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                                                                   media_ptr -> fx_media_fat_last, c
 541:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 542:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Determine if the write was successful.  */
 543:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         if (status != FX_SUCCESS)
 544:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         {
 545:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 546:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 547:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 548:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             /* Release media protection.  */
 549:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             FX_UNPROTECT
 550:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 551:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             /* Return the error code.  */
 552:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             return(status);
 553:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         }
 554:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 555:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 556:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 557:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Yes, it should be designated as last cluster.  */
 558:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     status = _fx_utility_FAT_entry_write(media_ptr, cluster, media_ptr -> fx_media_
 559:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 560:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Check the return value.  */
 561:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     if (status)
 562:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 563:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 564:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 565:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 566:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 567:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 568:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Release media protection.  */
 569:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         FX_UNPROTECT
 474              		.loc 1 569 25 is_stmt 1 view .LVU167
 475 0204 0298     		ldr	r0, [sp, #8]
 476              	.LVL50:
 477              		.loc 1 569 25 is_stmt 0 view .LVU168
 478 0206 FFF7FEFF 		bl	_tx_mutex_put
 479              	.LVL51:
 570:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 20


 571:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Return the error status.  */
 572:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         return(status);
 480              		.loc 1 572 25 is_stmt 1 view .LVU169
 481              		.loc 1 572 31 is_stmt 0 view .LVU170
 482 020a 22E1     		b	.L1
 483              	.LVL52:
 484              	.L17:
 573:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 574:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 575:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 576:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     if (media_ptr -> fx_media_fault_tolerant_enabled)
 577:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 578:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 579:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Clear undo phase. */
 580:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         media_ptr -> fx_media_fault_tolerant_state &= (UCHAR)(~FX_FAULT_TOLERANT_ST
 581:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 582:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 583:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 584:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #if defined(FX_ENABLE_EXFAT) && defined(FX_ENABLE_FAULT_TOLERANT)
 585:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 else if (media_ptr -> fx_media_fault_tolerant_enabled)
 586:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 587:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 588:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Set undo log. */
 589:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     status = _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_TRUE, cluster,
 590:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                                                               media_ptr -> fx_media_fat_last, conte
 591:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 592:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Determine if the write was successful.  */
 593:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     if (status != FX_SUCCESS)
 594:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 595:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 596:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 597:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 598:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Release media protection.  */
 599:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         FX_UNPROTECT
 600:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 601:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Return the error code.  */
 602:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         return(status);
 603:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 604:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 605:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT && FX_ENABLE_FAULT_TOLERANT */
 606:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 607:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 file_ptr -> fx_file_last_physical_cluster =  cluster;
 608:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 609:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_FAULT_TOLERANT
 610:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 611:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Flush the cached individual FAT entries.  */
 612:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 status = _fx_utility_FAT_flush(media_ptr);
 613:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 614:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Check the return value.  */
 615:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (status)
 616:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 617:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 618:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 619:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 620:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 621:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 622:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Release media protection.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 21


 623:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     FX_UNPROTECT
 624:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 625:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Return the error status.  */
 626:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     return(status);
 627:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 628:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif
 629:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 630:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 631:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         else
 632:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 633:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 634:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* This is a cluster after the clusters used by the file, release
 635:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                it back to the media.  */
 636:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 637:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 638:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (media_ptr -> fx_media_fault_tolerant_enabled == FX_FALSE)
 639:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 640:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 641:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 642:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 643:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 644:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 645:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 646:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     status = _fx_utility_FAT_entry_write(media_ptr, cluster, FX_FREE_CLUSTER);
 485              		.loc 1 646 21 is_stmt 1 view .LVU171
 486              		.loc 1 646 30 is_stmt 0 view .LVU172
 487 020c 0022     		movs	r2, #0
 488 020e 3146     		mov	r1, r6
 489 0210 2846     		mov	r0, r5
 490              	.LVL53:
 491              		.loc 1 646 30 view .LVU173
 492 0212 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 493              	.LVL54:
 647:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 648:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Check the return value.  */
 649:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     if (status)
 494              		.loc 1 649 21 is_stmt 1 view .LVU174
 495              		.loc 1 649 24 is_stmt 0 view .LVU175
 496 0216 8346     		mov	fp, r0
 497 0218 20BB     		cbnz	r0, .L49
 650:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 651:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 652:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 653:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 654:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 655:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 656:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Release media protection.  */
 657:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         FX_UNPROTECT
 658:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 659:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Return the error status.  */
 660:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         return(status);
 661:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 662:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 663:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 664:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 665:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 666:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 22


 667:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 668:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Mark the cluster as free.  */
 669:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     _fx_utility_exFAT_cluster_state_set(media_ptr, cluster, FX_EXFAT_BITMAP_CLUSTER
 670:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 671:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 672:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 673:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Increment the number of available clusters.  */
 674:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 media_ptr -> fx_media_available_clusters++;
 498              		.loc 1 674 17 is_stmt 1 view .LVU176
 499              		.loc 1 674 27 is_stmt 0 view .LVU177
 500 021a EB6F     		ldr	r3, [r5, #124]
 501              		.loc 1 674 57 view .LVU178
 502 021c 0133     		adds	r3, r3, #1
 503 021e EB67     		str	r3, [r5, #124]
 504              	.L18:
 675:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 676:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 677:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 678:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 679:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 680:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 681:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Setup for the next cluster.  */
 682:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         cluster =  contents;
 505              		.loc 1 682 9 is_stmt 1 view .LVU179
 506              		.loc 1 682 17 is_stmt 0 view .LVU180
 507 0220 079E     		ldr	r6, [sp, #28]
 508              	.LVL55:
 509              	.L15:
 461:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 510              		.loc 1 461 11 is_stmt 1 view .LVU181
 511 0222 012E     		cmp	r6, #1
 512 0224 22D9     		bls	.L21
 461:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 513              		.loc 1 461 68 is_stmt 0 discriminator 1 view .LVU182
 514 0226 05F50053 		add	r3, r5, #8192
 515 022a D3F8A834 		ldr	r3, [r3, #1192]
 461:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 516              		.loc 1 461 44 discriminator 1 view .LVU183
 517 022e B342     		cmp	r3, r6
 518 0230 1CD9     		bls	.L21
 480:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 519              		.loc 1 480 13 is_stmt 1 view .LVU184
 480:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 520              		.loc 1 480 23 is_stmt 0 view .LVU185
 521 0232 07AA     		add	r2, sp, #28
 522 0234 3146     		mov	r1, r6
 523 0236 2846     		mov	r0, r5
 524 0238 FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 525              	.LVL56:
 483:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 526              		.loc 1 483 13 is_stmt 1 view .LVU186
 483:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 527              		.loc 1 483 16 is_stmt 0 view .LVU187
 528 023c 8346     		mov	fp, r0
 529 023e 0028     		cmp	r0, #0
 530 0240 DCD1     		bne	.L50
 501:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 23


 531              		.loc 1 501 9 is_stmt 1 view .LVU188
 501:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 532              		.loc 1 501 12 is_stmt 0 view .LVU189
 533 0242 002F     		cmp	r7, #0
 534 0244 E2D0     		beq	.L17
 505:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 535              		.loc 1 505 13 is_stmt 1 view .LVU190
 536              	.LVL57:
 508:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 537              		.loc 1 508 13 view .LVU191
 508:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 538              		.loc 1 508 16 is_stmt 0 view .LVU192
 539 0246 013F     		subs	r7, r7, #1
 540              	.LVL58:
 508:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 541              		.loc 1 508 16 view .LVU193
 542 0248 EAD1     		bne	.L18
 558:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 543              		.loc 1 558 21 is_stmt 1 view .LVU194
 558:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 544              		.loc 1 558 30 is_stmt 0 view .LVU195
 545 024a 05F50053 		add	r3, r5, #8192
 546 024e D3F8AC24 		ldr	r2, [r3, #1196]
 547 0252 3146     		mov	r1, r6
 548 0254 2846     		mov	r0, r5
 549              	.LVL59:
 558:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 550              		.loc 1 558 30 view .LVU196
 551 0256 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 552              	.LVL60:
 561:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 553              		.loc 1 561 21 is_stmt 1 view .LVU197
 561:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 554              		.loc 1 561 24 is_stmt 0 view .LVU198
 555 025a 8346     		mov	fp, r0
 556 025c 0028     		cmp	r0, #0
 557 025e D1D1     		bne	.L51
 607:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 558              		.loc 1 607 17 is_stmt 1 view .LVU199
 607:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 559              		.loc 1 607 59 is_stmt 0 view .LVU200
 560 0260 E661     		str	r6, [r4, #28]
 561 0262 DDE7     		b	.L18
 562              	.L49:
 657:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 563              		.loc 1 657 25 is_stmt 1 view .LVU201
 564 0264 0298     		ldr	r0, [sp, #8]
 565              	.LVL61:
 657:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 566              		.loc 1 657 25 is_stmt 0 view .LVU202
 567 0266 FFF7FEFF 		bl	_tx_mutex_put
 568              	.LVL62:
 660:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 569              		.loc 1 660 25 is_stmt 1 view .LVU203
 660:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 570              		.loc 1 660 31 is_stmt 0 view .LVU204
 571 026a F2E0     		b	.L1
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 24


 572              	.LVL63:
 573              	.L21:
 683:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 684:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 685:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Determine if we need to adjust the number of leading consecutive clusters.  */
 686:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (file_ptr -> fx_file_consecutive_cluster > file_ptr -> fx_file_total_clusters)
 574              		.loc 1 686 5 is_stmt 1 view .LVU205
 575              		.loc 1 686 18 is_stmt 0 view .LVU206
 576 026c A269     		ldr	r2, [r4, #24]
 577              		.loc 1 686 60 view .LVU207
 578 026e 2369     		ldr	r3, [r4, #16]
 579              		.loc 1 686 8 view .LVU208
 580 0270 9A42     		cmp	r2, r3
 581 0272 00D9     		bls	.L23
 687:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 688:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 689:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Adjust the leading consecutive cluster count. */
 690:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_consecutive_cluster =  file_ptr -> fx_file_total_clusters;
 582              		.loc 1 690 9 is_stmt 1 view .LVU209
 583              		.loc 1 690 49 is_stmt 0 view .LVU210
 584 0274 A361     		str	r3, [r4, #24]
 585              	.L23:
 691:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 692:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 693:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Determine if the file available size has been truncated to zero.  */
 694:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (file_ptr -> fx_file_current_available_size == 0)
 586              		.loc 1 694 5 is_stmt 1 view .LVU211
 587              		.loc 1 694 18 is_stmt 0 view .LVU212
 588 0276 226D     		ldr	r2, [r4, #80]
 589 0278 636D     		ldr	r3, [r4, #84]
 590              		.loc 1 694 8 view .LVU213
 591 027a 1343     		orrs	r3, r2, r3
 592 027c 0DD1     		bne	.L24
 695:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 696:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 697:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Yes, the first cluster has already been released.  Update the file info
 698:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****            to indicate the file has no clusters.  */
 699:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_last_physical_cluster =     0;
 593              		.loc 1 699 9 is_stmt 1 view .LVU214
 594              		.loc 1 699 51 is_stmt 0 view .LVU215
 595 027e 0023     		movs	r3, #0
 596 0280 E361     		str	r3, [r4, #28]
 700:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_first_physical_cluster =    0;
 597              		.loc 1 700 9 is_stmt 1 view .LVU216
 598              		.loc 1 700 52 is_stmt 0 view .LVU217
 599 0282 6361     		str	r3, [r4, #20]
 701:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_physical_cluster =  0;
 600              		.loc 1 701 9 is_stmt 1 view .LVU218
 601              		.loc 1 701 54 is_stmt 0 view .LVU219
 602 0284 2362     		str	r3, [r4, #32]
 702:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_logical_sector =    0;
 603              		.loc 1 702 9 is_stmt 1 view .LVU220
 604              		.loc 1 702 52 is_stmt 0 view .LVU221
 605 0286 0020     		movs	r0, #0
 606 0288 0021     		movs	r1, #0
 607 028a C4E90A01 		strd	r0, [r4, #40]
 703:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_relative_cluster =  0;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 25


 608              		.loc 1 703 9 is_stmt 1 view .LVU222
 609              		.loc 1 703 54 is_stmt 0 view .LVU223
 610 028e 6363     		str	r3, [r4, #52]
 704:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_relative_sector =   0;
 611              		.loc 1 704 9 is_stmt 1 view .LVU224
 612              		.loc 1 704 53 is_stmt 0 view .LVU225
 613 0290 A363     		str	r3, [r4, #56]
 705:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_current_available_size =    0;
 614              		.loc 1 705 9 is_stmt 1 view .LVU226
 615              		.loc 1 705 52 is_stmt 0 view .LVU227
 616 0292 C4E91401 		strd	r0, [r4, #80]
 706:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_consecutive_cluster =       1;
 617              		.loc 1 706 9 is_stmt 1 view .LVU228
 618              		.loc 1 706 49 is_stmt 0 view .LVU229
 619 0296 0123     		movs	r3, #1
 620 0298 A361     		str	r3, [r4, #24]
 621              	.L24:
 707:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 708:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 709:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifndef FX_DONT_UPDATE_OPEN_FILES
 710:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 711:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Search the opened files list to see if the same file is opened for reading.  */
 712:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     open_count =  media_ptr -> fx_media_opened_file_count;
 622              		.loc 1 712 5 is_stmt 1 view .LVU230
 623              		.loc 1 712 16 is_stmt 0 view .LVU231
 624 029a D5F8CCB0 		ldr	fp, [r5, #204]
 625              	.LVL64:
 713:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 626              		.loc 1 713 5 is_stmt 1 view .LVU232
 627              		.loc 1 713 16 is_stmt 0 view .LVU233
 628 029e D5F8C860 		ldr	r6, [r5, #200]
 629              	.LVL65:
 714:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     while (open_count)
 630              		.loc 1 714 5 is_stmt 1 view .LVU234
 631 02a2 5F46     		mov	r7, fp
 632              	.LVL66:
 633              		.loc 1 714 5 is_stmt 0 view .LVU235
 634 02a4 AB46     		mov	fp, r5
 635              	.LVL67:
 636              		.loc 1 714 11 view .LVU236
 637 02a6 51E0     		b	.L25
 638              	.LVL68:
 639              	.L55:
 715:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 716:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 717:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Is this file the same file opened for reading?  */
 718:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         if ((search_ptr != file_ptr) &&
 719:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
 720:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****              file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 721:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 722:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****              file_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset))
 723:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 724:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 725:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Yes, the same file is opened for reading.  */
 726:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 727:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Setup the new file size.  */
 728:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_current_file_size =  size;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 26


 729:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 730:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Setup the new total clusters.  */
 731:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_total_clusters =  file_ptr -> fx_file_total_clusters;
 732:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 733:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Copy the directory entry.  */
 734:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_cluster =      file_ptr -> fx_file_dir_ent
 735:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    file_ptr -> fx_file_dir_ent
 736:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   file_ptr -> fx_file_dir_ent
 737:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  file_ptr -> fx_file_dir_ent
 738:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 739:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Setup the other file parameters.  */
 740:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_last_physical_cluster =     file_ptr -> fx_file_last_physical_clu
 741:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_first_physical_cluster =    file_ptr -> fx_file_first_physical_cl
 742:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_current_available_size =    file_ptr -> fx_file_current_available
 743:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_consecutive_cluster =       file_ptr -> fx_file_consecutive_clust
 744:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 745:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             /* Determine if the truncated file is smaller than the current file offset.  */
 746:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             if (search_ptr -> fx_file_current_file_offset > size)
 747:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 748:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 749:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Yes, the current file parameters need to be changed since the file was
 750:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                    truncated to a position prior to the current file position.  */
 751:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 752:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Calculate the number of bytes per cluster.  */
 753:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 bytes_per_cluster =  ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 754:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 755:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 756:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* At this point, we are ready to walk list of clusters to setup the
 757:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                    seek position of this file.  */
 758:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 cluster =           search_ptr -> fx_file_first_physical_cluster;
 759:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 bytes_remaining =   size;
 760:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 last_cluster =      0;
 761:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 cluster_count =     0;
 762:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 763:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Follow the link of FAT entries.  */
 764:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 while ((cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_rese
 765:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 766:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 767:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Increment the number of clusters.  */
 768:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     cluster_count++;
 769:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 770:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 771:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     if (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 772:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 773:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         if (cluster >= file_ptr -> fx_file_last_physical_cluster)
 774:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         {
 775:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             contents = FX_LAST_CLUSTER_exFAT;
 776:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         }
 777:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         else
 778:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         {
 779:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             contents = cluster + 1;
 780:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         }
 781:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 782:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     else
 783:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 784:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 785:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 27


 786:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Read the current cluster entry from the FAT.  */
 787:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &contents);
 788:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 789:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Check the return value.  */
 790:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         if (status != FX_SUCCESS)
 791:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         {
 792:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 793:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 794:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 795:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 796:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 797:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             /* Release media protection.  */
 798:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             FX_UNPROTECT
 640              		.loc 1 798 29 view .LVU237
 641 02a8 8346     		mov	fp, r0
 642              	.LVL69:
 643              		.loc 1 798 29 is_stmt 1 view .LVU238
 644 02aa 0298     		ldr	r0, [sp, #8]
 645              	.LVL70:
 646              		.loc 1 798 29 is_stmt 0 view .LVU239
 647 02ac FFF7FEFF 		bl	_tx_mutex_put
 648              	.LVL71:
 799:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 800:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             /* Return the error status.  */
 801:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                             return(status);
 649              		.loc 1 801 29 is_stmt 1 view .LVU240
 650              		.loc 1 801 35 is_stmt 0 view .LVU241
 651 02b0 CFE0     		b	.L1
 652              	.LVL72:
 653              	.L54:
 654              		.loc 1 801 35 view .LVU242
 655 02b2 059E     		ldr	r6, [sp, #20]
 656              	.LVL73:
 657              		.loc 1 801 35 view .LVU243
 658 02b4 07E0     		b	.L29
 659              	.LVL74:
 660              	.L38:
 802:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         }
 803:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 804:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 805:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 806:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 807:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Save the last valid cluster.  */
 808:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     last_cluster =  cluster;
 661              		.loc 1 808 34 view .LVU244
 662 02b6 059E     		ldr	r6, [sp, #20]
 663              	.LVL75:
 664              		.loc 1 808 34 view .LVU245
 665 02b8 2946     		mov	r1, r5
 666 02ba 04E0     		b	.L29
 667              	.L57:
 668              		.align	2
 669              	.L56:
 670 02bc 454C4946 		.word	1179208773
 671 02c0 4944454D 		.word	1296385097
 672              	.LVL76:
 673              	.L40:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 28


 674              		.loc 1 808 34 view .LVU246
 675 02c4 059E     		ldr	r6, [sp, #20]
 676              	.LVL77:
 677              	.L29:
 809:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 810:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Setup for the next cluster.  */
 811:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     cluster =  contents;
 812:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 813:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Determine if this is the last written cluster.  */
 814:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     if (bytes_remaining >= bytes_per_cluster)
 815:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 816:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 817:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* Still more seeking, just decrement the working byte offset.  */
 818:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         bytes_remaining =  bytes_remaining - bytes_per_cluster;
 819:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 820:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     else
 821:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 822:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 823:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         /* This is the cluster that contains the seek position.  */
 824:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         break;
 825:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 826:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 827:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 828:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Check for errors in traversal of the FAT chain.  */
 829:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (size > (((ULONG64) bytes_per_cluster) * ((ULONG64) cluster_count)))
 678              		.loc 1 829 17 is_stmt 1 view .LVU247
 679              		.loc 1 829 59 is_stmt 0 view .LVU248
 680 02c6 049B     		ldr	r3, [sp, #16]
 681 02c8 A3FB0A23 		umull	r2, r3, r3, r10
 682              		.loc 1 829 20 view .LVU249
 683 02cc 0198     		ldr	r0, [sp, #4]
 684 02ce 8242     		cmp	r2, r0
 685 02d0 009A     		ldr	r2, [sp]
 686 02d2 9341     		sbcs	r3, r3, r2
 687 02d4 C0F0A480 		bcc	.L52
 830:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 831:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 832:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 833:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 834:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 835:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 836:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Release media protection.  */
 837:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     FX_UNPROTECT
 838:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 839:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* This is an error that suggests a corrupt file.  */
 840:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     return(FX_FILE_CORRUPT);
 841:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 842:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 843:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Position the pointers to the new offset.  */
 844:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 845:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 /* Determine if there is at least one cluster.  */
 846:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 if (cluster_count)
 688              		.loc 1 846 17 is_stmt 1 view .LVU250
 689              		.loc 1 846 20 is_stmt 0 view .LVU251
 690 02d8 BAF1000F 		cmp	r10, #0
 691 02dc 00F0A680 		beq	.L32
 847:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 29


 848:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 849:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Calculate real file parameters.  */
 850:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_physical_cluster =  last_cluster;
 692              		.loc 1 850 21 is_stmt 1 view .LVU252
 693              		.loc 1 850 68 is_stmt 0 view .LVU253
 694 02e0 3162     		str	r1, [r6, #32]
 851:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_cluster =  cluster_count - 1;
 695              		.loc 1 851 21 is_stmt 1 view .LVU254
 696              		.loc 1 851 85 is_stmt 0 view .LVU255
 697 02e2 0AF1FF33 		add	r3, r10, #-1
 698              		.loc 1 851 68 view .LVU256
 699 02e6 7363     		str	r3, [r6, #52]
 852:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media
 700              		.loc 1 852 21 is_stmt 1 view .LVU257
 701              		.loc 1 852 89 is_stmt 0 view .LVU258
 702 02e8 DBF85000 		ldr	r0, [fp, #80]
 703              		.loc 1 852 72 view .LVU259
 704 02ec 0025     		movs	r5, #0
 853:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         (((ULONG64)search_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_ST
 705              		.loc 1 853 83 view .LVU260
 706 02ee 8B1E     		subs	r3, r1, #2
 707 02f0 45F1FF31 		adc	r1, r5, #-1
 708              	.LVL78:
 854:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                          ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 709              		.loc 1 854 44 view .LVU261
 710 02f4 DBF85420 		ldr	r2, [fp, #84]
 853:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         (((ULONG64)search_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_ST
 711              		.loc 1 853 105 view .LVU262
 712 02f8 A3FB023A 		umull	r3, r10, r3, r2
 713              	.LVL79:
 853:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         (((ULONG64)search_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_ST
 714              		.loc 1 853 105 view .LVU263
 715 02fc 02FB01AA 		mla	r10, r2, r1, r10
 852:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media
 716              		.loc 1 852 120 view .LVU264
 717 0300 C318     		adds	r3, r0, r3
 718 0302 0493     		str	r3, [sp, #16]
 719              	.LVL80:
 852:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media
 720              		.loc 1 852 120 view .LVU265
 721 0304 4AF1000A 		adc	r10, r10, #0
 855:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         (bytes_remaining / (ULONG)media_ptr -> fx_media_bytes_per_sector);
 722              		.loc 1 855 42 view .LVU266
 723 0308 DBF82820 		ldr	r2, [fp, #40]
 724 030c 2B46     		mov	r3, r5
 725 030e 4846     		mov	r0, r9
 726 0310 4146     		mov	r1, r8
 727 0312 FFF7FEFF 		bl	__aeabi_uldivmod
 728              	.LVL81:
 854:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                          ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 729              		.loc 1 854 78 view .LVU267
 730 0316 049B     		ldr	r3, [sp, #16]
 731 0318 1818     		adds	r0, r3, r0
 732 031a 4AEB0101 		adc	r1, r10, r1
 852:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         (((ULONG64)search_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_ST
 733              		.loc 1 852 66 view .LVU268
 734 031e B062     		str	r0, [r6, #40]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 30


 735 0320 F162     		str	r1, [r6, #44]
 856:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_sector =   (UINT)((bytes_remaining / (UL
 736              		.loc 1 856 21 is_stmt 1 view .LVU269
 737              		.loc 1 856 95 is_stmt 0 view .LVU270
 738 0322 DBF82820 		ldr	r2, [fp, #40]
 739 0326 2B46     		mov	r3, r5
 740 0328 4846     		mov	r0, r9
 741 032a 4146     		mov	r1, r8
 742 032c FFF7FEFF 		bl	__aeabi_uldivmod
 743              	.LVL82:
 744              		.loc 1 856 67 view .LVU271
 745 0330 B063     		str	r0, [r6, #56]
 857:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_file_offset =       size;
 746              		.loc 1 857 21 is_stmt 1 view .LVU272
 747              		.loc 1 857 63 is_stmt 0 view .LVU273
 748 0332 019B     		ldr	r3, [sp, #4]
 749 0334 3364     		str	r3, [r6, #64]
 750 0336 009B     		ldr	r3, [sp]
 751 0338 7364     		str	r3, [r6, #68]
 858:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_offset =    (ULONG)bytes_remaining % ((UL
 752              		.loc 1 858 21 is_stmt 1 view .LVU274
 753              		.loc 1 858 114 is_stmt 0 view .LVU275
 754 033a DBF82830 		ldr	r3, [fp, #40]
 755              		.loc 1 858 94 view .LVU276
 756 033e B9FBF3F2 		udiv	r2, r9, r3
 757 0342 03FB1293 		mls	r3, r3, r2, r9
 758              		.loc 1 858 66 view .LVU277
 759 0346 3363     		str	r3, [r6, #48]
 760              	.LVL83:
 761              	.L26:
 859:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 860:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 else
 861:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 862:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 863:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     /* Calculate zero-length file parameters.  */
 864:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_physical_cluster =  0;
 865:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_cluster =  0;
 866:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_sector =    0;
 867:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_sector =   0;
 868:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_file_offset =       0;
 869:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_offset =    0;
 870:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 871:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             }
 872:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         }
 873:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 874:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Adjust the pointer and decrement the search count.  */
 875:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         search_ptr =  search_ptr -> fx_file_opened_next;
 762              		.loc 1 875 9 is_stmt 1 view .LVU278
 763              		.loc 1 875 20 is_stmt 0 view .LVU279
 764 0348 F66D     		ldr	r6, [r6, #92]
 765              	.LVL84:
 876:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         open_count--;
 766              		.loc 1 876 9 is_stmt 1 view .LVU280
 767              		.loc 1 876 19 is_stmt 0 view .LVU281
 768 034a 013F     		subs	r7, r7, #1
 769              	.LVL85:
 770              	.L25:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 31


 714:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 771              		.loc 1 714 11 is_stmt 1 view .LVU282
 772 034c 002F     		cmp	r7, #0
 773 034e 79D0     		beq	.L53
 718:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
 774              		.loc 1 718 9 view .LVU283
 718:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
 775              		.loc 1 718 12 is_stmt 0 view .LVU284
 776 0350 A642     		cmp	r6, r4
 777 0352 F9D0     		beq	.L26
 719:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****              file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 778              		.loc 1 719 45 discriminator 1 view .LVU285
 779 0354 D6F8A800 		ldr	r0, [r6, #168]
 780 0358 D6F8AC20 		ldr	r2, [r6, #172]
 720:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 781              		.loc 1 720 43 discriminator 1 view .LVU286
 782 035c D4F8A810 		ldr	r1, [r4, #168]
 783 0360 D4F8AC30 		ldr	r3, [r4, #172]
 718:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
 784              		.loc 1 718 38 discriminator 1 view .LVU287
 785 0364 9A42     		cmp	r2, r3
 786 0366 08BF     		it	eq
 787 0368 8842     		cmpeq	r0, r1
 788 036a EDD1     		bne	.L26
 721:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****              file_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset))
 789              		.loc 1 721 45 view .LVU288
 790 036c D6F8B020 		ldr	r2, [r6, #176]
 722:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         {
 791              		.loc 1 722 43 view .LVU289
 792 0370 D4F8B030 		ldr	r3, [r4, #176]
 720:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 793              		.loc 1 720 69 view .LVU290
 794 0374 9A42     		cmp	r2, r3
 795 0376 E7D1     		bne	.L26
 728:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 796              		.loc 1 728 13 is_stmt 1 view .LVU291
 728:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 797              		.loc 1 728 53 is_stmt 0 view .LVU292
 798 0378 0199     		ldr	r1, [sp, #4]
 799 037a B164     		str	r1, [r6, #72]
 800 037c 0098     		ldr	r0, [sp]
 801 037e F064     		str	r0, [r6, #76]
 731:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 802              		.loc 1 731 13 is_stmt 1 view .LVU293
 731:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 803              		.loc 1 731 62 is_stmt 0 view .LVU294
 804 0380 2369     		ldr	r3, [r4, #16]
 731:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 805              		.loc 1 731 50 view .LVU295
 806 0382 3361     		str	r3, [r6, #16]
 734:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    file_ptr -> fx_file_dir_ent
 807              		.loc 1 734 13 is_stmt 1 view .LVU296
 734:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    file_ptr -> fx_file_dir_ent
 808              		.loc 1 734 102 is_stmt 0 view .LVU297
 809 0384 D4F89C30 		ldr	r3, [r4, #156]
 734:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =    file_ptr -> fx_file_dir_ent
 810              		.loc 1 734 66 view .LVU298
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 32


 811 0388 C6F89C30 		str	r3, [r6, #156]
 735:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   file_ptr -> fx_file_dir_ent
 812              		.loc 1 735 13 is_stmt 1 view .LVU299
 735:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   file_ptr -> fx_file_dir_ent
 813              		.loc 1 735 102 is_stmt 0 view .LVU300
 814 038c D4E92823 		ldrd	r2, [r4, #160]
 735:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector =   file_ptr -> fx_file_dir_ent
 815              		.loc 1 735 68 view .LVU301
 816 0390 C6E92823 		strd	r2, [r6, #160]
 736:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  file_ptr -> fx_file_dir_ent
 817              		.loc 1 736 13 is_stmt 1 view .LVU302
 736:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  file_ptr -> fx_file_dir_ent
 818              		.loc 1 736 102 is_stmt 0 view .LVU303
 819 0394 D4E92A23 		ldrd	r2, [r4, #168]
 736:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset =  file_ptr -> fx_file_dir_ent
 820              		.loc 1 736 69 view .LVU304
 821 0398 C6E92A23 		strd	r2, [r6, #168]
 737:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 822              		.loc 1 737 13 is_stmt 1 view .LVU305
 737:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 823              		.loc 1 737 102 is_stmt 0 view .LVU306
 824 039c D4F8B030 		ldr	r3, [r4, #176]
 737:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 825              		.loc 1 737 70 view .LVU307
 826 03a0 C6F8B030 		str	r3, [r6, #176]
 740:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_first_physical_cluster =    file_ptr -> fx_file_first_physical_cl
 827              		.loc 1 740 13 is_stmt 1 view .LVU308
 740:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_first_physical_cluster =    file_ptr -> fx_file_first_physical_cl
 828              		.loc 1 740 72 is_stmt 0 view .LVU309
 829 03a4 E369     		ldr	r3, [r4, #28]
 740:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_first_physical_cluster =    file_ptr -> fx_file_first_physical_cl
 830              		.loc 1 740 57 view .LVU310
 831 03a6 F361     		str	r3, [r6, #28]
 741:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_current_available_size =    file_ptr -> fx_file_current_available
 832              		.loc 1 741 13 is_stmt 1 view .LVU311
 741:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_current_available_size =    file_ptr -> fx_file_current_available
 833              		.loc 1 741 72 is_stmt 0 view .LVU312
 834 03a8 6569     		ldr	r5, [r4, #20]
 741:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_current_available_size =    file_ptr -> fx_file_current_available
 835              		.loc 1 741 58 view .LVU313
 836 03aa 7561     		str	r5, [r6, #20]
 742:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_consecutive_cluster =       file_ptr -> fx_file_consecutive_clust
 837              		.loc 1 742 13 is_stmt 1 view .LVU314
 742:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_consecutive_cluster =       file_ptr -> fx_file_consecutive_clust
 838              		.loc 1 742 72 is_stmt 0 view .LVU315
 839 03ac D4E91423 		ldrd	r2, [r4, #80]
 742:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             search_ptr -> fx_file_consecutive_cluster =       file_ptr -> fx_file_consecutive_clust
 840              		.loc 1 742 58 view .LVU316
 841 03b0 C6E91423 		strd	r2, [r6, #80]
 743:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 842              		.loc 1 743 13 is_stmt 1 view .LVU317
 743:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 843              		.loc 1 743 72 is_stmt 0 view .LVU318
 844 03b4 A369     		ldr	r3, [r4, #24]
 743:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 845              		.loc 1 743 55 view .LVU319
 846 03b6 B361     		str	r3, [r6, #24]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 33


 746:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 847              		.loc 1 746 13 is_stmt 1 view .LVU320
 746:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 848              		.loc 1 746 28 is_stmt 0 view .LVU321
 849 03b8 326C     		ldr	r2, [r6, #64]
 850 03ba 736C     		ldr	r3, [r6, #68]
 746:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****             {
 851              		.loc 1 746 16 view .LVU322
 852 03bc 9142     		cmp	r1, r2
 853 03be 70EB0303 		sbcs	r3, r0, r3
 854 03c2 C1D2     		bcs	.L26
 753:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 855              		.loc 1 753 17 is_stmt 1 view .LVU323
 753:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 856              		.loc 1 753 56 is_stmt 0 view .LVU324
 857 03c4 DBF82830 		ldr	r3, [fp, #40]
 754:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 858              		.loc 1 754 39 view .LVU325
 859 03c8 DBF85420 		ldr	r2, [fp, #84]
 753:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 860              		.loc 1 753 35 view .LVU326
 861 03cc 02FB03F3 		mul	r3, r2, r3
 862 03d0 0493     		str	r3, [sp, #16]
 863              	.LVL86:
 758:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 bytes_remaining =   size;
 864              		.loc 1 758 17 is_stmt 1 view .LVU327
 759:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 last_cluster =      0;
 865              		.loc 1 759 17 view .LVU328
 760:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 cluster_count =     0;
 866              		.loc 1 760 17 view .LVU329
 761:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 867              		.loc 1 761 17 view .LVU330
 764:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 868              		.loc 1 764 17 view .LVU331
 759:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 last_cluster =      0;
 869              		.loc 1 759 33 is_stmt 0 view .LVU332
 870 03d2 8946     		mov	r9, r1
 871 03d4 8046     		mov	r8, r0
 761:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 872              		.loc 1 761 31 view .LVU333
 873 03d6 0399     		ldr	r1, [sp, #12]
 874              	.LVL87:
 761:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 875              		.loc 1 761 31 view .LVU334
 876 03d8 8A46     		mov	r10, r1
 877 03da 0596     		str	r6, [sp, #20]
 878 03dc 1E46     		mov	r6, r3
 879              	.LVL88:
 880              	.L27:
 764:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 881              		.loc 1 764 23 is_stmt 1 view .LVU335
 882 03de 012D     		cmp	r5, #1
 883 03e0 7FF670AF 		bls	.L40
 764:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 884              		.loc 1 764 80 is_stmt 0 discriminator 1 view .LVU336
 885 03e4 0BF50053 		add	r3, fp, #8192
 886 03e8 D3F8A834 		ldr	r3, [r3, #1192]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 34


 764:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 {
 887              		.loc 1 764 56 discriminator 1 view .LVU337
 888 03ec AB42     		cmp	r3, r5
 889 03ee 7FF660AF 		bls	.L54
 768:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 890              		.loc 1 768 21 is_stmt 1 view .LVU338
 768:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 891              		.loc 1 768 34 is_stmt 0 view .LVU339
 892 03f2 0AF1010A 		add	r10, r10, #1
 893              	.LVL89:
 787:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 894              		.loc 1 787 25 is_stmt 1 view .LVU340
 787:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 895              		.loc 1 787 35 is_stmt 0 view .LVU341
 896 03f6 07AA     		add	r2, sp, #28
 897 03f8 2946     		mov	r1, r5
 898              	.LVL90:
 787:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 899              		.loc 1 787 35 view .LVU342
 900 03fa 5846     		mov	r0, fp
 901 03fc FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 902              	.LVL91:
 790:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         {
 903              		.loc 1 790 25 is_stmt 1 view .LVU343
 790:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                         {
 904              		.loc 1 790 28 is_stmt 0 view .LVU344
 905 0400 0028     		cmp	r0, #0
 906 0402 7FF451AF 		bne	.L55
 808:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 907              		.loc 1 808 21 is_stmt 1 view .LVU345
 908              	.LVL92:
 811:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 909              		.loc 1 811 21 view .LVU346
 811:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 910              		.loc 1 811 29 is_stmt 0 view .LVU347
 911 0406 079A     		ldr	r2, [sp, #28]
 912              	.LVL93:
 814:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 913              		.loc 1 814 21 is_stmt 1 view .LVU348
 814:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     {
 914              		.loc 1 814 24 is_stmt 0 view .LVU349
 915 0408 B145     		cmp	r9, r6
 916 040a 78F10001 		sbcs	r1, r8, #0
 917 040e FFF452AF 		bcc	.L38
 818:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 918              		.loc 1 818 25 is_stmt 1 view .LVU350
 818:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 919              		.loc 1 818 41 is_stmt 0 view .LVU351
 920 0412 B9EB0609 		subs	r9, r9, r6
 921              	.LVL94:
 818:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     }
 922              		.loc 1 818 41 view .LVU352
 923 0416 68F10008 		sbc	r8, r8, #0
 924              	.LVL95:
 808:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 925              		.loc 1 808 34 view .LVU353
 926 041a 2946     		mov	r1, r5
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 35


 811:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 927              		.loc 1 811 29 view .LVU354
 928 041c 1546     		mov	r5, r2
 929              	.LVL96:
 811:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 930              		.loc 1 811 29 view .LVU355
 931 041e DEE7     		b	.L27
 932              	.LVL97:
 933              	.L52:
 837:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 934              		.loc 1 837 21 is_stmt 1 view .LVU356
 935 0420 0298     		ldr	r0, [sp, #8]
 936 0422 FFF7FEFF 		bl	_tx_mutex_put
 937              	.LVL98:
 840:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 938              		.loc 1 840 21 view .LVU357
 840:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 939              		.loc 1 840 27 is_stmt 0 view .LVU358
 940 0426 4FF0080B 		mov	fp, #8
 941              	.LVL99:
 840:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 942              		.loc 1 840 27 view .LVU359
 943 042a 12E0     		b	.L1
 944              	.LVL100:
 945              	.L32:
 864:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_cluster =  0;
 946              		.loc 1 864 21 is_stmt 1 view .LVU360
 864:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_cluster =  0;
 947              		.loc 1 864 68 is_stmt 0 view .LVU361
 948 042c 0023     		movs	r3, #0
 949 042e 3362     		str	r3, [r6, #32]
 865:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_sector =    0;
 950              		.loc 1 865 21 is_stmt 1 view .LVU362
 865:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_sector =    0;
 951              		.loc 1 865 68 is_stmt 0 view .LVU363
 952 0430 7363     		str	r3, [r6, #52]
 866:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_sector =   0;
 953              		.loc 1 866 21 is_stmt 1 view .LVU364
 866:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_sector =   0;
 954              		.loc 1 866 66 is_stmt 0 view .LVU365
 955 0432 0020     		movs	r0, #0
 956 0434 0021     		movs	r1, #0
 957              	.LVL101:
 866:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_relative_sector =   0;
 958              		.loc 1 866 66 view .LVU366
 959 0436 C6E90A01 		strd	r0, [r6, #40]
 867:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_file_offset =       0;
 960              		.loc 1 867 21 is_stmt 1 view .LVU367
 867:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_file_offset =       0;
 961              		.loc 1 867 67 is_stmt 0 view .LVU368
 962 043a B363     		str	r3, [r6, #56]
 868:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_offset =    0;
 963              		.loc 1 868 21 is_stmt 1 view .LVU369
 868:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                     search_ptr -> fx_file_current_logical_offset =    0;
 964              		.loc 1 868 63 is_stmt 0 view .LVU370
 965 043c C6E91001 		strd	r0, [r6, #64]
 869:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 36


 966              		.loc 1 869 21 is_stmt 1 view .LVU371
 869:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****                 }
 967              		.loc 1 869 66 is_stmt 0 view .LVU372
 968 0440 3363     		str	r3, [r6, #48]
 969 0442 81E7     		b	.L26
 970              	.LVL102:
 971              	.L53:
 877:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 878:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif
 879:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 880:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_FAULT_TOLERANT
 881:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 882:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Flush the cached individual FAT entries */
 883:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     status = _fx_utility_FAT_flush(media_ptr);
 884:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 885:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Check the return value.  */
 886:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (status)
 887:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 888:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 889:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 890:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 891:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 892:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 893:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Release media protection.  */
 894:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_UNPROTECT
 895:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 896:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Return the error status.  */
 897:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(status);
 898:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 899:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 900:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Flush Bit Map.  */
 901:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 902:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 903:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         _fx_utility_exFAT_bitmap_flush(media_ptr);
 904:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 905:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 906:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 907:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif
 908:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 909:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 910:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (media_ptr -> fx_media_fault_tolerant_enabled &&
 911:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         (media_ptr -> fx_media_fault_tolerant_state & FX_FAULT_TOLERANT_STATE_STARTED))
 912:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 913:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 914:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Copy the new file size into the directory entry.  */
 915:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size = file_ptr -> fx_file_current_file_siz
 916:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 917:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 918:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Write the directory entry to the media.  */
 919:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 920:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 921:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 922:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 923:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         status = _fx_directory_exFAT_entry_write(media_ptr, &(file_ptr -> fx_file_dir_entry), UPDAT
 924:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 925:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     else
 926:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 37


 927:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 928:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         status =  _fx_directory_entry_write(media_ptr, &(file_ptr -> fx_file_dir_entry));
 929:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #ifdef FX_ENABLE_EXFAT
 930:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 931:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_EXFAT */
 932:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 933:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Check for a good status.  */
 934:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (status != FX_SUCCESS)
 935:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 936:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 937:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 938:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 939:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Release media protection.  */
 940:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_UNPROTECT
 941:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 942:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Error writing the directory.  */
 943:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(status);
 944:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 945:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 946:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* End transaction. */
 947:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     status = _fx_fault_tolerant_transaction_end(media_ptr);
 948:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 949:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Check for a bad status.  */
 950:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (status != FX_SUCCESS)
 951:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 952:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 953:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Release media protection.  */
 954:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         FX_UNPROTECT
 955:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 956:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         /* Return the bad status.  */
 957:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         return(status);
 958:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 959:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 960:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Update maximum size used if necessary. */
 961:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     if (size < file_ptr -> fx_file_maximum_size_used)
 962:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     {
 963:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****         file_ptr -> fx_file_maximum_size_used = size;
 964:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 965:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 966:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 967:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Release media protection.  */
 968:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     FX_UNPROTECT
 972              		.loc 1 968 5 view .LVU373
 973 0444 BB46     		mov	fp, r7
 974              	.LVL103:
 975              		.loc 1 968 5 is_stmt 1 view .LVU374
 976 0446 0298     		ldr	r0, [sp, #8]
 977 0448 FFF7FEFF 		bl	_tx_mutex_put
 978              	.LVL104:
 969:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 970:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     /* Truncate is complete, return successful status.  */
 971:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     return(FX_SUCCESS);
 979              		.loc 1 971 5 view .LVU375
 980              		.loc 1 971 11 is_stmt 0 view .LVU376
 981 044c 01E0     		b	.L1
 982              	.LVL105:
 983              	.L34:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 38


 128:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c ****     }
 984              		.loc 1 128 15 view .LVU377
 985 044e 4FF0070B 		mov	fp, #7
 986              	.LVL106:
 987              	.L1:
 972:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** }
 988              		.loc 1 972 1 view .LVU378
 989 0452 5846     		mov	r0, fp
 990 0454 09B0     		add	sp, sp, #36
 991              	.LCFI2:
 992              		.cfi_remember_state
 993              		.cfi_def_cfa_offset 36
 994              		@ sp needed
 995 0456 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 996              	.LVL107:
 997              	.L36:
 998              	.LCFI3:
 999              		.cfi_restore_state
 146:Middlewares/ST/filex/common/src/fx_file_extended_truncate_release.c **** 
 1000              		.loc 1 146 5 view .LVU379
 1001 045a 4FF0110B 		mov	fp, #17
 1002 045e F8E7     		b	.L1
 1003              		.cfi_endproc
 1004              	.LFE8:
 1006              		.text
 1007              	.Letext0:
 1008              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 1009              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 1010              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 1011              		.file 5 "Middlewares/ST/filex/common/inc/fx_directory.h"
 1012              		.file 6 "Middlewares/ST/filex/common/inc/fx_utility.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s 			page 39


DEFINED SYMBOLS
                            *ABS*:00000000 fx_file_extended_truncate_release.c
C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s:21     .text._fx_file_extended_truncate_release:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s:27     .text._fx_file_extended_truncate_release:00000000 _fx_file_extended_truncate_release
C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s:670    .text._fx_file_extended_truncate_release:000002bc $d
C:\Users\HP\AppData\Local\Temp\ccZLyyFM.s:675    .text._fx_file_extended_truncate_release:000002c4 $t

UNDEFINED SYMBOLS
__aeabi_uldivmod
_tx_mutex_get
_fx_directory_entry_write
_fx_utility_FAT_entry_read
_tx_mutex_put
_fx_utility_FAT_entry_write

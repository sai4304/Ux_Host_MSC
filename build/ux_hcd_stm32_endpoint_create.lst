ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ux_hcd_stm32_endpoint_create.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._ux_hcd_stm32_endpoint_create,"ax",%progbits
  20              		.align	1
  21              		.global	_ux_hcd_stm32_endpoint_create
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_ux_hcd_stm32_endpoint_create:
  27              	.LVL0:
  28              	.LFB143:
  29              		.file 1 "Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c"
   1:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
   2:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
   3:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
   5:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  10:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
  11:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  12:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  13:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
  14:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
  15:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**                                                                       */
  16:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /** USBX Component                                                        */
  17:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**                                                                       */
  18:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**   STM32 Controller Driver                                             */
  19:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**                                                                       */
  20:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
  21:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
  22:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  23:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  24:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /* Include necessary system files.  */
  25:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  26:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** #define UX_SOURCE_CODE
  27:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** #define UX_HCD_STM32_SOURCE_CODE
  28:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  29:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** #include "ux_api.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 2


  30:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** #include "ux_hcd_stm32.h"
  31:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** #include "ux_host_stack.h"
  32:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  33:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  34:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
  35:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  36:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  FUNCTION                                               RELEASE        */
  37:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  38:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    _ux_hcd_stm32_endpoint_create                       PORTABLE C      */
  39:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                           6.1.12       */
  40:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  AUTHOR                                                                */
  41:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  42:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  43:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  44:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  DESCRIPTION                                                           */
  45:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  46:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    This function will create an endpoint.                              */
  47:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  48:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  INPUT                                                                 */
  49:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  50:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    hcd_stm32                               Pointer to STM32 controller */
  51:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    endpoint                                Pointer to endpoint         */
  52:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  53:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  OUTPUT                                                                */
  54:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  55:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    Completion Status                                                   */
  56:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  57:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  CALLS                                                                 */
  58:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  59:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    _ux_hcd_stm32_ed_obtain                 Obtain STM32 ED             */
  60:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    _ux_hcd_stm32_least_traffic_list_get    Get least traffic list      */
  61:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  62:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  CALLED BY                                                             */
  63:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  64:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    STM32 Controller Driver                                             */
  65:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  66:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  RELEASE HISTORY                                                       */
  67:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  68:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*    DATE              NAME                      DESCRIPTION             */
  69:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  70:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  71:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
  72:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                            added standalone support,   */
  73:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                            resulting in version 6.1.10 */
  74:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*  07-29-2022     Chaoqiong Xiao           Modified comment(s),          */
  75:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                            added ISO transfer support, */
  76:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                            resulting in version 6.1.12 */
  77:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /*                                                                        */
  78:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** /**************************************************************************/
  79:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** UINT  _ux_hcd_stm32_endpoint_create(UX_HCD_STM32 *hcd_stm32, UX_ENDPOINT *endpoint)
  80:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** {
  30              		.loc 1 80 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 80 1 is_stmt 0 view .LVU1
  35 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 3


  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 36
  38              		.cfi_offset 4, -36
  39              		.cfi_offset 5, -32
  40              		.cfi_offset 6, -28
  41              		.cfi_offset 7, -24
  42              		.cfi_offset 8, -20
  43              		.cfi_offset 9, -16
  44              		.cfi_offset 10, -12
  45              		.cfi_offset 11, -8
  46              		.cfi_offset 14, -4
  47 0004 85B0     		sub	sp, sp, #20
  48              	.LCFI1:
  49              		.cfi_def_cfa_offset 56
  50 0006 0546     		mov	r5, r0
  51 0008 0E46     		mov	r6, r1
  81:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  82:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** UX_HCD_STM32_ED        *ed;
  52              		.loc 1 82 1 is_stmt 1 view .LVU2
  83:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** UX_DEVICE              *device;
  53              		.loc 1 83 1 view .LVU3
  84:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** ULONG                   channel_index;
  54              		.loc 1 84 1 view .LVU4
  85:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** UINT                    device_speed;
  55              		.loc 1 85 1 view .LVU5
  86:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** UINT                    endpoint_type;
  56              		.loc 1 86 1 view .LVU6
  87:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** ULONG                   packet_size;
  57              		.loc 1 87 1 view .LVU7
  88:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** ULONG                   endpoint_bInterval;
  58              		.loc 1 88 1 view .LVU8
  89:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  90:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  91:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Get the pointer to the device.  */
  92:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     device =  endpoint -> ux_endpoint_device;
  59              		.loc 1 92 5 view .LVU9
  60              		.loc 1 92 12 is_stmt 0 view .LVU10
  61 000a D1F82CA0 		ldr	r10, [r1, #44]
  62              	.LVL1:
  93:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
  94:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Set device speed.  */
  95:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     switch (device -> ux_device_speed)
  63              		.loc 1 95 5 is_stmt 1 view .LVU11
  64              		.loc 1 95 20 is_stmt 0 view .LVU12
  65 000e DAF81080 		ldr	r8, [r10, #16]
  66              		.loc 1 95 5 view .LVU13
  67 0012 B8F1010F 		cmp	r8, #1
  68 0016 0DD0     		beq	.L2
  69 0018 B8F1020F 		cmp	r8, #2
  70 001c 15D0     		beq	.L21
  71 001e B8F1000F 		cmp	r8, #0
  72 0022 05D0     		beq	.L27
  73 0024 4FF0FF0B 		mov	fp, #255
  74              	.LVL2:
  75              	.L1:
  96:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
  97:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     case UX_HIGH_SPEED_DEVICE:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 4


  98:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         device_speed =  HCD_DEVICE_SPEED_HIGH;
  99:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         break;
 100:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     case UX_FULL_SPEED_DEVICE:
 101:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         device_speed =  HCD_DEVICE_SPEED_FULL;
 102:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         break;
 103:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     case UX_LOW_SPEED_DEVICE:
 104:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         device_speed =  HCD_DEVICE_SPEED_LOW;
 105:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         break;
 106:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     default:
 107:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         return(UX_ERROR);
 108:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 109:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 110:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Set endpoint type.  */
 111:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     switch ((endpoint -> ux_endpoint_descriptor.bmAttributes) & UX_MASK_ENDPOINT_TYPE)
 112:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 113:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     case UX_CONTROL_ENDPOINT:
 114:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         endpoint_type =  EP_TYPE_CTRL;
 115:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         break;
 116:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     case UX_BULK_ENDPOINT:
 117:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         endpoint_type =  EP_TYPE_BULK;
 118:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         break;
 119:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     case UX_INTERRUPT_ENDPOINT:
 120:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         endpoint_type =  EP_TYPE_INTR;
 121:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****        break;
 122:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     case UX_ISOCHRONOUS_ENDPOINT:
 123:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         endpoint_type =  EP_TYPE_ISOC;
 124:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         break;
 125:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     default:
 126:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         return(UX_FUNCTION_NOT_SUPPORTED);
 127:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 128:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 129:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Obtain a ED for this new endpoint. This ED will live as long as the endpoint is active
 130:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****        and will be the container for the tds.  */
 131:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed =  _ux_hcd_stm32_ed_obtain(hcd_stm32);
 132:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (ed == UX_NULL)
 133:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         return(UX_NO_ED_AVAILABLE);
 134:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 135:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* And get a channel. */
 136:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     for (channel_index = 0; channel_index < hcd_stm32 -> ux_hcd_stm32_nb_channels; channel_index++)
 137:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 138:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 139:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Check if that Channel is free.  */
 140:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         if (hcd_stm32 -> ux_hcd_stm32_channels_ed[channel_index]  == UX_NULL)
 141:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 142:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 143:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             /* We have a channel. Save it. */
 144:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             hcd_stm32 -> ux_hcd_stm32_channels_ed[channel_index] = ed;
 145:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 146:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             /* And in the endpoint too. */
 147:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             ed -> ux_stm32_ed_channel = channel_index;
 148:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 149:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             /* Done here.  */
 150:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             break;
 151:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 152:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         }
 153:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 154:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 5


 155:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Check for channel assignment.  */
 156:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (ed -> ux_stm32_ed_channel ==  UX_HCD_STM32_NO_CHANNEL_ASSIGNED)
 157:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 158:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 159:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Free the ED.  */
 160:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_status =  UX_HCD_STM32_ED_STATUS_FREE;
 161:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 162:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Could not allocate a channel.  */
 163:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         return(UX_NO_ED_AVAILABLE);
 164:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 165:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 166:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Check for interrupt and isochronous endpoints.  */
 167:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if ((endpoint_type == EP_TYPE_INTR) || (endpoint_type == EP_TYPE_ISOC))
 168:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 169:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       if (device_speed == HCD_DEVICE_SPEED_HIGH)
 170:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       {
 171:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         if ((device->ux_device_current_configuration->ux_configuration_first_interface->ux_interfac
 172:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             (endpoint -> ux_endpoint_descriptor.bInterval > 9U))
 173:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 174:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           /* Some hubs has an issue with larger binterval scheduling */
 175:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             endpoint_bInterval = UX_HCD_STM32_MAX_HUB_BINTERVAL;
 176:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         }
 177:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         else
 178:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 179:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           endpoint_bInterval = endpoint -> ux_endpoint_descriptor.bInterval;
 180:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         }
 181:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 182:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Set the interval mask for high speed or isochronous endpoints.  */
 183:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask = (1 << (endpoint_bInterval - 1U)) - 1U;
 184:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 185:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       else
 186:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       {
 187:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 188:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Set the interval mask for other endpoints.  */
 189:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask = endpoint -> ux_endpoint_descriptor.bInterval;
 190:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 191:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         if (device->ux_device_parent != NULL)
 192:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 193:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           if (device->ux_device_parent->ux_device_speed == UX_HIGH_SPEED_DEVICE)
 194:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           {
 195:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             ed -> ux_stm32_ed_interval_mask <<= 3U;
 196:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           }
 197:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         }
 198:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 199:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask |= ed -> ux_stm32_ed_interval_mask >> 1;
 200:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask |= ed -> ux_stm32_ed_interval_mask >> 2;
 201:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask |= ed -> ux_stm32_ed_interval_mask >> 4;
 202:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask >>= 1;
 203:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 204:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 205:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Select a transfer time slot with least traffic.  */
 206:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         if (ed -> ux_stm32_ed_interval_mask == 0)
 207:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             ed -> ux_stm32_ed_interval_position = 0;
 208:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         else
 209:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_position =  _ux_hcd_stm32_least_traffic_list_get(hcd_stm32);
 210:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 211:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* No transfer on going.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 6


 212:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_transfer_request = UX_NULL;
 213:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 214:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Attach the ed to periodic ed list.  */
 215:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_next_ed = hcd_stm32 -> ux_hcd_stm32_periodic_ed_head;
 216:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         hcd_stm32 -> ux_hcd_stm32_periodic_ed_head = ed;
 217:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 218:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Activate periodic scheduler.  */
 219:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         hcd_stm32 -> ux_hcd_stm32_periodic_scheduler_active ++;
 220:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 221:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 222:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Attach the ED to the endpoint container.  */
 223:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     endpoint -> ux_endpoint_ed =  (VOID *) ed;
 224:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 225:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Now do the opposite, attach the ED container to the physical ED.  */
 226:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_endpoint =  endpoint;
 227:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_speed = (UCHAR)device_speed;
 228:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_dir = (endpoint -> ux_endpoint_descriptor.bEndpointAddress & 0x80) ? 1 : 0;
 229:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_type     =  endpoint_type;
 230:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     packet_size                =  endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_PACKET
 231:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSACTIONS_MASK)
 232:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 233:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 234:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* Free the ED.  */
 235:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_status =  UX_HCD_STM32_ED_STATUS_FREE;
 236:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 237:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         /* High bandwidth are not supported for now.  */
 238:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         return(UX_FUNCTION_NOT_SUPPORTED);
 239:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 240:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 241:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* By default scheduler is not needed.  */
 242:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_sch_mode = 0;
 243:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 244:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* By default data pointer is not used.  */
 245:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_data = UX_NULL;
 246:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 247:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Call HAL to initialize the host channel.  */
 248:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     HAL_HCD_HC_Init(hcd_stm32->hcd_handle,
 249:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                     channel_index,
 250:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                     endpoint -> ux_endpoint_descriptor.bEndpointAddress,
 251:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                     device -> ux_device_address,
 252:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                     device_speed,
 253:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                     endpoint_type,
 254:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                     endpoint -> ux_endpoint_descriptor.wMaxPacketSize);
 255:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 256:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Reset toggles.  */
 257:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     hcd_stm32 -> hcd_handle -> hc[ed -> ux_stm32_ed_channel].toggle_in = 0;
 258:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     hcd_stm32 -> hcd_handle -> hc[ed -> ux_stm32_ed_channel].toggle_out = 0;
 259:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 260:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** #if defined (USBH_HAL_HUB_SPLIT_SUPPORTED)
 261:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Check if device connected to hub  */
 262:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (endpoint->ux_endpoint_device->ux_device_parent != NULL)
 263:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 264:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       HAL_HCD_HC_SetHubInfo(hcd_stm32->hcd_handle, ed->ux_stm32_ed_channel,
 265:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                             endpoint->ux_endpoint_device->ux_device_parent->ux_device_address,
 266:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                             endpoint->ux_endpoint_device->ux_device_port_location);
 267:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 268:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** #endif /* USBH_HAL_HUB_SPLIT_SUPPORTED */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 7


 269:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 270:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* We need to take into account the nature of the HCD to define the max size
 271:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****        of any transfer in the transfer request.  */
 272:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     endpoint -> ux_endpoint_transfer_request.ux_transfer_request_maximum_length =  UX_HCD_STM32_MAX
 273:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 274:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     /* Return successful completion.  */
 275:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     return(UX_SUCCESS);
 276:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** }
  76              		.loc 1 276 1 view .LVU14
  77 0028 5846     		mov	r0, fp
  78 002a 05B0     		add	sp, sp, #20
  79              	.LCFI2:
  80              		.cfi_remember_state
  81              		.cfi_def_cfa_offset 36
  82              		@ sp needed
  83 002c BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
  84              	.LVL3:
  85              	.L27:
  86              	.LCFI3:
  87              		.cfi_restore_state
 104:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         break;
  88              		.loc 1 104 22 view .LVU15
  89 0030 4FF00208 		mov	r8, #2
  90              	.L2:
  91              	.LVL4:
 111:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
  92              		.loc 1 111 5 is_stmt 1 view .LVU16
 111:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
  93              		.loc 1 111 48 is_stmt 0 view .LVU17
  94 0034 B369     		ldr	r3, [r6, #24]
 111:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
  95              		.loc 1 111 63 view .LVU18
  96 0036 03F00309 		and	r9, r3, #3
 111:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
  97              		.loc 1 111 5 view .LVU19
  98 003a B9F1030F 		cmp	r9, #3
  99 003e 00F2AA80 		bhi	.L23
 100 0042 DFE809F0 		tbb	[pc, r9]
 101              	.L5:
 102 0046 05       		.byte	(.L4-.L5)/2
 103 0047 05       		.byte	(.L4-.L5)/2
 104 0048 05       		.byte	(.L4-.L5)/2
 105 0049 05       		.byte	(.L4-.L5)/2
 106              	.LVL5:
 107              		.p2align 1
 108              	.L21:
  95:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 109              		.loc 1 95 5 view .LVU20
 110 004a 4FF00008 		mov	r8, #0
 111 004e F1E7     		b	.L2
 112              	.LVL6:
 113              	.L4:
 131:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (ed == UX_NULL)
 114              		.loc 1 131 5 is_stmt 1 view .LVU21
 131:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (ed == UX_NULL)
 115              		.loc 1 131 11 is_stmt 0 view .LVU22
 116 0050 2846     		mov	r0, r5
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 8


 117              	.LVL7:
 131:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (ed == UX_NULL)
 118              		.loc 1 131 11 view .LVU23
 119 0052 FFF7FEFF 		bl	_ux_hcd_stm32_ed_obtain
 120              	.LVL8:
 132:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         return(UX_NO_ED_AVAILABLE);
 121              		.loc 1 132 5 is_stmt 1 view .LVU24
 132:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         return(UX_NO_ED_AVAILABLE);
 122              		.loc 1 132 8 is_stmt 0 view .LVU25
 123 0056 0746     		mov	r7, r0
 124 0058 0028     		cmp	r0, #0
 125 005a 00F09F80 		beq	.L24
 136:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 126              		.loc 1 136 24 view .LVU26
 127 005e 0024     		movs	r4, #0
 128 0060 00E0     		b	.L6
 129              	.LVL9:
 130              	.L7:
 136:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 131              		.loc 1 136 84 is_stmt 1 discriminator 2 view .LVU27
 136:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 132              		.loc 1 136 97 is_stmt 0 discriminator 2 view .LVU28
 133 0062 0134     		adds	r4, r4, #1
 134              	.LVL10:
 135              	.L6:
 136:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 136              		.loc 1 136 29 is_stmt 1 discriminator 1 view .LVU29
 136:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 137              		.loc 1 136 55 is_stmt 0 discriminator 1 view .LVU30
 138 0064 AB6B     		ldr	r3, [r5, #56]
 136:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 139              		.loc 1 136 5 discriminator 1 view .LVU31
 140 0066 A342     		cmp	r3, r4
 141 0068 09D9     		bls	.L8
 140:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 142              		.loc 1 140 9 is_stmt 1 view .LVU32
 140:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 143              		.loc 1 140 50 is_stmt 0 view .LVU33
 144 006a A31C     		adds	r3, r4, #2
 145 006c 55F82330 		ldr	r3, [r5, r3, lsl #2]
 140:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 146              		.loc 1 140 12 view .LVU34
 147 0070 002B     		cmp	r3, #0
 148 0072 F6D1     		bne	.L7
 144:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 149              		.loc 1 144 13 is_stmt 1 view .LVU35
 144:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 150              		.loc 1 144 66 is_stmt 0 view .LVU36
 151 0074 A31C     		adds	r3, r4, #2
 152 0076 45F82370 		str	r7, [r5, r3, lsl #2]
 147:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 153              		.loc 1 147 13 is_stmt 1 view .LVU37
 147:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 154              		.loc 1 147 39 is_stmt 0 view .LVU38
 155 007a 87F82940 		strb	r4, [r7, #41]
 150:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 156              		.loc 1 150 13 is_stmt 1 view .LVU39
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 9


 157              	.L8:
 156:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 158              		.loc 1 156 5 view .LVU40
 156:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 159              		.loc 1 156 12 is_stmt 0 view .LVU41
 160 007e 97F82930 		ldrb	r3, [r7, #41]	@ zero_extendqisi2
 156:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 161              		.loc 1 156 8 view .LVU42
 162 0082 FF2B     		cmp	r3, #255
 163 0084 59D0     		beq	.L28
 167:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 164              		.loc 1 167 5 is_stmt 1 view .LVU43
 167:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 165              		.loc 1 167 8 is_stmt 0 view .LVU44
 166 0086 B9F1030F 		cmp	r9, #3
 167 008a 02D0     		beq	.L11
 167:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 168              		.loc 1 167 41 discriminator 1 view .LVU45
 169 008c B9F1010F 		cmp	r9, #1
 170 0090 1AD1     		bne	.L12
 171              	.L11:
 169:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       {
 172              		.loc 1 169 7 is_stmt 1 view .LVU46
 169:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       {
 173              		.loc 1 169 10 is_stmt 0 view .LVU47
 174 0092 B8F1000F 		cmp	r8, #0
 175 0096 5BD1     		bne	.L13
 171:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             (endpoint -> ux_endpoint_descriptor.bInterval > 9U))
 176              		.loc 1 171 9 is_stmt 1 view .LVU48
 171:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             (endpoint -> ux_endpoint_descriptor.bInterval > 9U))
 177              		.loc 1 171 20 is_stmt 0 view .LVU49
 178 0098 DAF81830 		ldr	r3, [r10, #24]
 171:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             (endpoint -> ux_endpoint_descriptor.bInterval > 9U))
 179              		.loc 1 171 53 view .LVU50
 180 009c DB6A     		ldr	r3, [r3, #44]
 171:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             (endpoint -> ux_endpoint_descriptor.bInterval > 9U))
 181              		.loc 1 171 112 view .LVU51
 182 009e 1B6A     		ldr	r3, [r3, #32]
 171:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             (endpoint -> ux_endpoint_descriptor.bInterval > 9U))
 183              		.loc 1 171 12 view .LVU52
 184 00a0 092B     		cmp	r3, #9
 185 00a2 50D0     		beq	.L29
 186              	.L14:
 179:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         }
 187              		.loc 1 179 11 is_stmt 1 view .LVU53
 179:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         }
 188              		.loc 1 179 30 is_stmt 0 view .LVU54
 189 00a4 326A     		ldr	r2, [r6, #32]
 190              	.LVL11:
 191              	.L15:
 183:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 192              		.loc 1 183 9 is_stmt 1 view .LVU55
 183:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 193              		.loc 1 183 69 is_stmt 0 view .LVU56
 194 00a6 013A     		subs	r2, r2, #1
 195              	.LVL12:
 183:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 10


 196              		.loc 1 183 46 view .LVU57
 197 00a8 0123     		movs	r3, #1
 198 00aa 9340     		lsls	r3, r3, r2
 183:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 199              		.loc 1 183 76 view .LVU58
 200 00ac 013B     		subs	r3, r3, #1
 183:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 201              		.loc 1 183 41 view .LVU59
 202 00ae FB61     		str	r3, [r7, #28]
 203              	.LVL13:
 204              	.L16:
 206:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             ed -> ux_stm32_ed_interval_position = 0;
 205              		.loc 1 206 9 is_stmt 1 view .LVU60
 206:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             ed -> ux_stm32_ed_interval_position = 0;
 206              		.loc 1 206 16 is_stmt 0 view .LVU61
 207 00b0 FB69     		ldr	r3, [r7, #28]
 206:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             ed -> ux_stm32_ed_interval_position = 0;
 208              		.loc 1 206 12 view .LVU62
 209 00b2 002B     		cmp	r3, #0
 210 00b4 64D1     		bne	.L18
 207:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         else
 211              		.loc 1 207 13 is_stmt 1 view .LVU63
 207:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         else
 212              		.loc 1 207 49 is_stmt 0 view .LVU64
 213 00b6 3B62     		str	r3, [r7, #32]
 214              	.LVL14:
 215              	.L19:
 212:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 216              		.loc 1 212 9 is_stmt 1 view .LVU65
 212:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 217              		.loc 1 212 44 is_stmt 0 view .LVU66
 218 00b8 0023     		movs	r3, #0
 219 00ba BB60     		str	r3, [r7, #8]
 215:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         hcd_stm32 -> ux_hcd_stm32_periodic_ed_head = ed;
 220              		.loc 1 215 9 is_stmt 1 view .LVU67
 215:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         hcd_stm32 -> ux_hcd_stm32_periodic_ed_head = ed;
 221              		.loc 1 215 47 is_stmt 0 view .LVU68
 222 00bc EB6C     		ldr	r3, [r5, #76]
 215:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         hcd_stm32 -> ux_hcd_stm32_periodic_ed_head = ed;
 223              		.loc 1 215 35 view .LVU69
 224 00be 3B60     		str	r3, [r7]
 216:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 225              		.loc 1 216 9 is_stmt 1 view .LVU70
 216:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 226              		.loc 1 216 52 is_stmt 0 view .LVU71
 227 00c0 EF64     		str	r7, [r5, #76]
 219:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 228              		.loc 1 219 9 is_stmt 1 view .LVU72
 219:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 229              		.loc 1 219 19 is_stmt 0 view .LVU73
 230 00c2 2B6C     		ldr	r3, [r5, #64]
 219:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 231              		.loc 1 219 61 view .LVU74
 232 00c4 0133     		adds	r3, r3, #1
 233 00c6 2B64     		str	r3, [r5, #64]
 234              	.L12:
 223:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 11


 235              		.loc 1 223 5 is_stmt 1 view .LVU75
 223:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 236              		.loc 1 223 32 is_stmt 0 view .LVU76
 237 00c8 B760     		str	r7, [r6, #8]
 226:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_speed = (UCHAR)device_speed;
 238              		.loc 1 226 5 is_stmt 1 view .LVU77
 226:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_speed = (UCHAR)device_speed;
 239              		.loc 1 226 32 is_stmt 0 view .LVU78
 240 00ca 7E60     		str	r6, [r7, #4]
 227:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_dir = (endpoint -> ux_endpoint_descriptor.bEndpointAddress & 0x80) ? 1 : 0;
 241              		.loc 1 227 5 is_stmt 1 view .LVU79
 227:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_dir = (endpoint -> ux_endpoint_descriptor.bEndpointAddress & 0x80) ? 1 : 0;
 242              		.loc 1 227 31 is_stmt 0 view .LVU80
 243 00cc 5FFA88F1 		uxtb	r1, r8
 227:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_dir = (endpoint -> ux_endpoint_descriptor.bEndpointAddress & 0x80) ? 1 : 0;
 244              		.loc 1 227 29 view .LVU81
 245 00d0 87F82B10 		strb	r1, [r7, #43]
 228:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_type     =  endpoint_type;
 246              		.loc 1 228 5 is_stmt 1 view .LVU82
 228:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_type     =  endpoint_type;
 247              		.loc 1 228 64 is_stmt 0 view .LVU83
 248 00d4 7369     		ldr	r3, [r6, #20]
 228:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_type     =  endpoint_type;
 249              		.loc 1 228 94 view .LVU84
 250 00d6 C3F3C013 		ubfx	r3, r3, #7, #1
 228:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     ed -> ux_stm32_ed_type     =  endpoint_type;
 251              		.loc 1 228 27 view .LVU85
 252 00da 87F82A30 		strb	r3, [r7, #42]
 229:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     packet_size                =  endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_PACKET
 253              		.loc 1 229 5 is_stmt 1 view .LVU86
 229:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     packet_size                =  endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_PACKET
 254              		.loc 1 229 32 is_stmt 0 view .LVU87
 255 00de 5FFA89F2 		uxtb	r2, r9
 256 00e2 87F82C20 		strb	r2, [r7, #44]
 230:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSACTIONS_MASK)
 257              		.loc 1 230 5 is_stmt 1 view .LVU88
 230:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSACTIONS_MASK)
 258              		.loc 1 230 69 is_stmt 0 view .LVU89
 259 00e6 F369     		ldr	r3, [r6, #28]
 230:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     if (endpoint -> ux_endpoint_descriptor.wMaxPacketSize & UX_MAX_NUMBER_OF_TRANSACTIONS_MASK)
 260              		.loc 1 230 32 view .LVU90
 261 00e8 C3F30A09 		ubfx	r9, r3, #0, #11
 262              	.LVL15:
 231:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 263              		.loc 1 231 5 is_stmt 1 view .LVU91
 231:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 264              		.loc 1 231 8 is_stmt 0 view .LVU92
 265 00ec 13F4C05B 		ands	fp, r3, #6144
 266 00f0 4BD1     		bne	.L30
 242:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 267              		.loc 1 242 5 is_stmt 1 view .LVU93
 242:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 268              		.loc 1 242 32 is_stmt 0 view .LVU94
 269 00f2 4FF00008 		mov	r8, #0
 270              	.LVL16:
 242:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 271              		.loc 1 242 32 view .LVU95
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 12


 272 00f6 87F82D80 		strb	r8, [r7, #45]
 245:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 273              		.loc 1 245 5 is_stmt 1 view .LVU96
 245:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 274              		.loc 1 245 28 is_stmt 0 view .LVU97
 275 00fa C7F81080 		str	r8, [r7, #16]
 248:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****                     channel_index,
 276              		.loc 1 248 5 is_stmt 1 view .LVU98
 277 00fe 9AF80C30 		ldrb	r3, [r10, #12]	@ zero_extendqisi2
 278 0102 B08B     		ldrh	r0, [r6, #28]
 279 0104 0290     		str	r0, [sp, #8]
 280 0106 0192     		str	r2, [sp, #4]
 281 0108 0091     		str	r1, [sp]
 282 010a 327D     		ldrb	r2, [r6, #20]	@ zero_extendqisi2
 283 010c E1B2     		uxtb	r1, r4
 284 010e A86C     		ldr	r0, [r5, #72]
 285 0110 FFF7FEFF 		bl	HAL_HCD_HC_Init
 286              	.LVL17:
 257:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     hcd_stm32 -> hcd_handle -> hc[ed -> ux_stm32_ed_channel].toggle_out = 0;
 287              		.loc 1 257 5 view .LVU99
 257:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     hcd_stm32 -> hcd_handle -> hc[ed -> ux_stm32_ed_channel].toggle_out = 0;
 288              		.loc 1 257 15 is_stmt 0 view .LVU100
 289 0114 AA6C     		ldr	r2, [r5, #72]
 257:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     hcd_stm32 -> hcd_handle -> hc[ed -> ux_stm32_ed_channel].toggle_out = 0;
 290              		.loc 1 257 38 view .LVU101
 291 0116 97F82930 		ldrb	r3, [r7, #41]	@ zero_extendqisi2
 257:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     hcd_stm32 -> hcd_handle -> hc[ed -> ux_stm32_ed_channel].toggle_out = 0;
 292              		.loc 1 257 72 view .LVU102
 293 011a 2C21     		movs	r1, #44
 294 011c 01FB0322 		mla	r2, r1, r3, r2
 295 0120 82F85480 		strb	r8, [r2, #84]
 258:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 296              		.loc 1 258 5 is_stmt 1 view .LVU103
 258:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 297              		.loc 1 258 15 is_stmt 0 view .LVU104
 298 0124 AB6C     		ldr	r3, [r5, #72]
 258:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 299              		.loc 1 258 38 view .LVU105
 300 0126 97F82920 		ldrb	r2, [r7, #41]	@ zero_extendqisi2
 258:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 301              		.loc 1 258 73 view .LVU106
 302 012a 01FB0233 		mla	r3, r1, r2, r3
 303 012e 83F85580 		strb	r8, [r3, #85]
 272:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 304              		.loc 1 272 5 is_stmt 1 view .LVU107
 272:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 305              		.loc 1 272 114 is_stmt 0 view .LVU108
 306 0132 4FEA0923 		lsl	r3, r9, #8
 272:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 307              		.loc 1 272 81 view .LVU109
 308 0136 F365     		str	r3, [r6, #92]
 275:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** }
 309              		.loc 1 275 5 is_stmt 1 view .LVU110
 275:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** }
 310              		.loc 1 275 11 is_stmt 0 view .LVU111
 311 0138 76E7     		b	.L1
 312              	.LVL18:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 13


 313              	.L28:
 160:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 314              		.loc 1 160 9 is_stmt 1 view .LVU112
 160:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 315              		.loc 1 160 34 is_stmt 0 view .LVU113
 316 013a 0023     		movs	r3, #0
 317 013c 87F82830 		strb	r3, [r7, #40]
 163:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 318              		.loc 1 163 9 is_stmt 1 view .LVU114
 163:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 319              		.loc 1 163 15 is_stmt 0 view .LVU115
 320 0140 4FF0140B 		mov	fp, #20
 321 0144 70E7     		b	.L1
 322              	.L29:
 172:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 323              		.loc 1 172 48 discriminator 1 view .LVU116
 324 0146 336A     		ldr	r3, [r6, #32]
 171:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****             (endpoint -> ux_endpoint_descriptor.bInterval > 9U))
 325              		.loc 1 171 138 discriminator 1 view .LVU117
 326 0148 092B     		cmp	r3, #9
 327 014a ABD9     		bls	.L14
 175:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         }
 328              		.loc 1 175 32 view .LVU118
 329 014c 0822     		movs	r2, #8
 330 014e AAE7     		b	.L15
 331              	.L13:
 189:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 332              		.loc 1 189 9 is_stmt 1 view .LVU119
 189:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 333              		.loc 1 189 77 is_stmt 0 view .LVU120
 334 0150 336A     		ldr	r3, [r6, #32]
 189:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 335              		.loc 1 189 41 view .LVU121
 336 0152 FB61     		str	r3, [r7, #28]
 191:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 337              		.loc 1 191 9 is_stmt 1 view .LVU122
 191:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 338              		.loc 1 191 19 is_stmt 0 view .LVU123
 339 0154 DAF81C21 		ldr	r2, [r10, #284]
 191:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         {
 340              		.loc 1 191 12 view .LVU124
 341 0158 12B1     		cbz	r2, .L17
 193:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           {
 342              		.loc 1 193 11 is_stmt 1 view .LVU125
 193:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           {
 343              		.loc 1 193 39 is_stmt 0 view .LVU126
 344 015a 1269     		ldr	r2, [r2, #16]
 193:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           {
 345              		.loc 1 193 14 view .LVU127
 346 015c 022A     		cmp	r2, #2
 347 015e 0CD0     		beq	.L31
 348              	.L17:
 199:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask |= ed -> ux_stm32_ed_interval_mask >> 2;
 349              		.loc 1 199 9 is_stmt 1 view .LVU128
 199:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask |= ed -> ux_stm32_ed_interval_mask >> 2;
 350              		.loc 1 199 41 is_stmt 0 view .LVU129
 351 0160 FB69     		ldr	r3, [r7, #28]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 14


 352 0162 43EA5303 		orr	r3, r3, r3, lsr #1
 353 0166 FB61     		str	r3, [r7, #28]
 200:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask |= ed -> ux_stm32_ed_interval_mask >> 4;
 354              		.loc 1 200 9 is_stmt 1 view .LVU130
 200:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask |= ed -> ux_stm32_ed_interval_mask >> 4;
 355              		.loc 1 200 41 is_stmt 0 view .LVU131
 356 0168 43EA9303 		orr	r3, r3, r3, lsr #2
 357 016c FB61     		str	r3, [r7, #28]
 201:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask >>= 1;
 358              		.loc 1 201 9 is_stmt 1 view .LVU132
 201:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****         ed -> ux_stm32_ed_interval_mask >>= 1;
 359              		.loc 1 201 41 is_stmt 0 view .LVU133
 360 016e 43EA1313 		orr	r3, r3, r3, lsr #4
 361 0172 FB61     		str	r3, [r7, #28]
 202:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 362              		.loc 1 202 9 is_stmt 1 view .LVU134
 202:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****       }
 363              		.loc 1 202 41 is_stmt 0 view .LVU135
 364 0174 5B08     		lsrs	r3, r3, #1
 365 0176 FB61     		str	r3, [r7, #28]
 366 0178 9AE7     		b	.L16
 367              	.L31:
 195:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           }
 368              		.loc 1 195 13 is_stmt 1 view .LVU136
 195:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****           }
 369              		.loc 1 195 45 is_stmt 0 view .LVU137
 370 017a DB00     		lsls	r3, r3, #3
 371 017c FB61     		str	r3, [r7, #28]
 372 017e EFE7     		b	.L17
 373              	.L18:
 209:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 374              		.loc 1 209 9 is_stmt 1 view .LVU138
 209:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 375              		.loc 1 209 48 is_stmt 0 view .LVU139
 376 0180 2846     		mov	r0, r5
 377              	.LVL19:
 209:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 378              		.loc 1 209 48 view .LVU140
 379 0182 FFF7FEFF 		bl	_ux_hcd_stm32_least_traffic_list_get
 380              	.LVL20:
 209:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 381              		.loc 1 209 45 view .LVU141
 382 0186 3862     		str	r0, [r7, #32]
 383 0188 96E7     		b	.L19
 384              	.LVL21:
 385              	.L30:
 235:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 386              		.loc 1 235 9 is_stmt 1 view .LVU142
 235:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 387              		.loc 1 235 34 is_stmt 0 view .LVU143
 388 018a 0023     		movs	r3, #0
 389 018c 87F82830 		strb	r3, [r7, #40]
 238:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 390              		.loc 1 238 9 is_stmt 1 view .LVU144
 238:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     }
 391              		.loc 1 238 15 is_stmt 0 view .LVU145
 392 0190 4FF0540B 		mov	fp, #84
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 15


 393 0194 48E7     		b	.L1
 394              	.LVL22:
 395              	.L23:
 111:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c ****     {
 396              		.loc 1 111 5 view .LVU146
 397 0196 4FF0540B 		mov	fp, #84
 398 019a 45E7     		b	.L1
 399              	.LVL23:
 400              	.L24:
 133:Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32_endpoint_create.c **** 
 401              		.loc 1 133 15 view .LVU147
 402 019c 4FF0140B 		mov	fp, #20
 403 01a0 42E7     		b	.L1
 404              		.cfi_endproc
 405              	.LFE143:
 407              		.text
 408              	.Letext0:
 409              		.file 2 "c:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\machine\\_default_types.h"
 410              		.file 3 "c:\\gcc-arm-none-eabi\\arm-none-eabi\\include\\sys\\_stdint.h"
 411              		.file 4 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 412              		.file 5 "Middlewares/ST/threadx/common/inc/tx_api.h"
 413              		.file 6 "Middlewares/ST/usbx/common/core/inc/ux_api.h"
 414              		.file 7 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4r5xx.h"
 415              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 416              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_ll_usb.h"
 417              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_hcd.h"
 418              		.file 11 "Middlewares/ST/usbx/common/usbx_stm32_host_controllers/ux_hcd_stm32.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 ux_hcd_stm32_endpoint_create.c
C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s:20     .text._ux_hcd_stm32_endpoint_create:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s:26     .text._ux_hcd_stm32_endpoint_create:00000000 _ux_hcd_stm32_endpoint_create
C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s:102    .text._ux_hcd_stm32_endpoint_create:00000046 $d
C:\Users\HP\AppData\Local\Temp\ccJMpbWd.s:107    .text._ux_hcd_stm32_endpoint_create:0000004a $t

UNDEFINED SYMBOLS
_ux_hcd_stm32_ed_obtain
HAL_HCD_HC_Init
_ux_hcd_stm32_least_traffic_list_get

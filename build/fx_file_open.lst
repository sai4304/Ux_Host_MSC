ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_file_open.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_uldivmod
  20              		.section	.text._fx_file_open,"ax",%progbits
  21              		.align	1
  22              		.global	_fx_file_open
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_fx_file_open:
  28              	.LVL0:
  29              	.LFB8:
  30              		.file 1 "Middlewares/ST/filex/common/src/fx_file_open.c"
   1:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_file_open.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_file_open.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_file_open.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_file_open.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_file_open.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  12:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  13:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_file_open.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_file_open.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_file_open.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_file_open.c **** /**   File                                                                */
  19:Middlewares/ST/filex/common/src/fx_file_open.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  23:Middlewares/ST/filex/common/src/fx_file_open.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  25:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  26:Middlewares/ST/filex/common/src/fx_file_open.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  28:Middlewares/ST/filex/common/src/fx_file_open.c **** #include "fx_api.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 2


  29:Middlewares/ST/filex/common/src/fx_file_open.c **** #include "fx_system.h"
  30:Middlewares/ST/filex/common/src/fx_file_open.c **** #include "fx_directory.h"
  31:Middlewares/ST/filex/common/src/fx_file_open.c **** #include "fx_file.h"
  32:Middlewares/ST/filex/common/src/fx_file_open.c **** #include "fx_utility.h"
  33:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  34:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  35:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
  36:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  37:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  FUNCTION                                               RELEASE        */
  38:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  39:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    _fx_file_open                                       PORTABLE C      */
  40:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                           6.1          */
  41:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  AUTHOR                                                                */
  42:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  43:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    William E. Lamie, Microsoft Corporation                             */
  44:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  45:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  DESCRIPTION                                                           */
  46:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  47:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    This function first attempts to find the specified file.  If found, */
  48:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    the open request is validated and the file is opened.  During the   */
  49:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    opening process, all of the FAT entries for this file are examined  */
  50:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    for their integrity.                                                */
  51:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  52:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  INPUT                                                                 */
  53:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  54:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    media_ptr                             Media control block pointer   */
  55:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    file_ptr                              File control block pointer    */
  56:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    file_name                             Name pointer                  */
  57:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    open_type                             Type of open requested        */
  58:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  59:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  OUTPUT                                                                */
  60:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  61:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    return status                                                       */
  62:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  63:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  CALLS                                                                 */
  64:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  65:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    _fx_directory_search                  Search for the file name in   */
  66:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                          the directory structure       */
  67:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    _fx_utility_FAT_entry_read            Read a FAT entry              */
  68:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  69:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  CALLED BY                                                             */
  70:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  71:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    Application Code                                                    */
  72:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  73:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  RELEASE HISTORY                                                       */
  74:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  75:Middlewares/ST/filex/common/src/fx_file_open.c **** /*    DATE              NAME                      DESCRIPTION             */
  76:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  77:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  78:Middlewares/ST/filex/common/src/fx_file_open.c **** /*  09-30-2020     William E. Lamie         Modified comment(s), and      */
  79:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                            added conditional to        */
  80:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                            disable fast open and       */
  81:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                            consecutive detect,         */
  82:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                            resulting in version 6.1    */
  83:Middlewares/ST/filex/common/src/fx_file_open.c **** /*                                                                        */
  84:Middlewares/ST/filex/common/src/fx_file_open.c **** /**************************************************************************/
  85:Middlewares/ST/filex/common/src/fx_file_open.c **** UINT  _fx_file_open(FX_MEDIA *media_ptr, FX_FILE *file_ptr, CHAR *file_name, UINT open_type)
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 3


  86:Middlewares/ST/filex/common/src/fx_file_open.c **** {
  31              		.loc 1 86 1 view -0
  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 40
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 86 1 is_stmt 0 view .LVU1
  36 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 36
  39              		.cfi_offset 4, -36
  40              		.cfi_offset 5, -32
  41              		.cfi_offset 6, -28
  42              		.cfi_offset 7, -24
  43              		.cfi_offset 8, -20
  44              		.cfi_offset 9, -16
  45              		.cfi_offset 10, -12
  46              		.cfi_offset 11, -8
  47              		.cfi_offset 14, -4
  48 0004 2DED028B 		vpush.64	{d8}
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 44
  51              		.cfi_offset 80, -44
  52              		.cfi_offset 81, -40
  53 0008 8DB0     		sub	sp, sp, #52
  54              	.LCFI2:
  55              		.cfi_def_cfa_offset 96
  56 000a 1746     		mov	r7, r2
  57 000c 1E46     		mov	r6, r3
  87:Middlewares/ST/filex/common/src/fx_file_open.c **** 
  88:Middlewares/ST/filex/common/src/fx_file_open.c **** UINT     status;
  58              		.loc 1 88 1 is_stmt 1 view .LVU2
  89:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifndef FX_DISABLE_CONSECUTIVE_DETECT
  90:Middlewares/ST/filex/common/src/fx_file_open.c **** UINT     leading_consecutive;
  59              		.loc 1 90 1 view .LVU3
  91:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
  92:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG    cluster;
  60              		.loc 1 92 1 view .LVU4
  93:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG    contents = 0;
  61              		.loc 1 93 1 view .LVU5
  62              		.loc 1 93 10 is_stmt 0 view .LVU6
  63 000e 0023     		movs	r3, #0
  64              	.LVL1:
  65              		.loc 1 93 10 view .LVU7
  66 0010 0B93     		str	r3, [sp, #44]
  94:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG    open_count;
  67              		.loc 1 94 1 is_stmt 1 view .LVU8
  95:Middlewares/ST/filex/common/src/fx_file_open.c **** FX_FILE *tail_ptr;
  68              		.loc 1 95 1 view .LVU9
  96:Middlewares/ST/filex/common/src/fx_file_open.c **** FX_FILE *search_ptr;
  69              		.loc 1 96 1 view .LVU10
  97:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG    bytes_per_cluster;
  70              		.loc 1 97 1 view .LVU11
  98:Middlewares/ST/filex/common/src/fx_file_open.c **** UINT     last_cluster;
  71              		.loc 1 98 1 view .LVU12
  99:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG    cluster_count;
  72              		.loc 1 99 1 view .LVU13
 100:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG64  bytes_available;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 4


  73              		.loc 1 100 1 view .LVU14
 101:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG64  bytes_remaining;
  74              		.loc 1 101 1 view .LVU15
 102:Middlewares/ST/filex/common/src/fx_file_open.c **** ULONG    fat_last;
  75              		.loc 1 102 1 view .LVU16
 103:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifndef FX_DISABLE_FAST_OPEN
 104:Middlewares/ST/filex/common/src/fx_file_open.c **** UINT     fast_open;
  76              		.loc 1 104 1 view .LVU17
 105:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_FAST_OPEN */
 106:Middlewares/ST/filex/common/src/fx_file_open.c **** UCHAR    not_a_file_attr;
  77              		.loc 1 106 1 view .LVU18
 107:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 108:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 109:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Check the media to make sure it is open.  */
 110:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (media_ptr -> fx_media_id != FX_MEDIA_ID)
  78              		.loc 1 110 5 view .LVU19
  79              		.loc 1 110 19 is_stmt 0 view .LVU20
  80 0012 0268     		ldr	r2, [r0]
  81              	.LVL2:
  82              		.loc 1 110 8 view .LVU21
  83 0014 AD4B     		ldr	r3, .L51
  84 0016 9A42     		cmp	r2, r3
  85 0018 40F0E081 		bne	.L30
  86 001c 0446     		mov	r4, r0
  87 001e 0D46     		mov	r5, r1
 111:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 112:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 113:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Return the media not opened error.  */
 114:Middlewares/ST/filex/common/src/fx_file_open.c ****         return(FX_MEDIA_NOT_OPEN);
 115:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 116:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 117:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 118:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 119:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Increment the number of times this service has been called.  */
 120:Middlewares/ST/filex/common/src/fx_file_open.c ****     media_ptr -> fx_media_file_opens++;
  88              		.loc 1 120 5 is_stmt 1 view .LVU22
  89              		.loc 1 120 15 is_stmt 0 view .LVU23
  90 0020 D0F83831 		ldr	r3, [r0, #312]
  91              		.loc 1 120 37 view .LVU24
  92 0024 0133     		adds	r3, r3, #1
  93 0026 C0F83831 		str	r3, [r0, #312]
 121:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif
 122:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 123:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Clear the notify function. */
 124:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_write_notify = FX_NULL;
  94              		.loc 1 124 5 is_stmt 1 view .LVU25
  95              		.loc 1 124 38 is_stmt 0 view .LVU26
  96 002a 0023     		movs	r3, #0
  97 002c C1F8DC31 		str	r3, [r1, #476]
 125:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 126:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Determine the type of FAT and setup variables accordingly.  */
 127:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifdef FX_ENABLE_EXFAT
 128:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 129:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 130:Middlewares/ST/filex/common/src/fx_file_open.c ****         fat_last        = FX_LAST_CLUSTER_exFAT;
 131:Middlewares/ST/filex/common/src/fx_file_open.c ****         not_a_file_attr = FX_DIRECTORY;
 132:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 5


 133:Middlewares/ST/filex/common/src/fx_file_open.c ****     else if (media_ptr -> fx_media_FAT_type == FX_FAT32)
 134:Middlewares/ST/filex/common/src/fx_file_open.c **** #else
 135:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (media_ptr -> fx_media_32_bit_FAT)
  98              		.loc 1 135 5 is_stmt 1 view .LVU27
  99              		.loc 1 135 19 is_stmt 0 view .LVU28
 100 0030 436E     		ldr	r3, [r0, #100]
 101              		.loc 1 135 8 view .LVU29
 102 0032 63B1     		cbz	r3, .L31
 136:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_ENABLE_EXFAT */
 137:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 138:Middlewares/ST/filex/common/src/fx_file_open.c ****         fat_last        = FX_LAST_CLUSTER_1_32;
 103              		.loc 1 138 25 view .LVU30
 104 0034 A64B     		ldr	r3, .L51+4
 105 0036 0393     		str	r3, [sp, #12]
 106              	.L3:
 107              	.LVL3:
 139:Middlewares/ST/filex/common/src/fx_file_open.c ****         not_a_file_attr = FX_DIRECTORY | FX_VOLUME;
 140:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 141:Middlewares/ST/filex/common/src/fx_file_open.c ****     else
 142:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 143:Middlewares/ST/filex/common/src/fx_file_open.c ****         fat_last        = FX_LAST_CLUSTER_1;
 144:Middlewares/ST/filex/common/src/fx_file_open.c ****         not_a_file_attr = FX_DIRECTORY | FX_VOLUME;
 145:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 146:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 147:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifndef FX_DISABLE_FAST_OPEN
 148:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Determine if a fast open is selected.  */
 149:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (open_type == FX_OPEN_FOR_READ_FAST)
 108              		.loc 1 149 5 is_stmt 1 view .LVU31
 109              		.loc 1 149 8 is_stmt 0 view .LVU32
 110 0038 022E     		cmp	r6, #2
 111 003a 0CD0     		beq	.L38
 150:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 151:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 152:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Yes, convert the open type to a standard read.  */
 153:Middlewares/ST/filex/common/src/fx_file_open.c ****         open_type =  FX_OPEN_FOR_READ;
 154:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 155:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Set the open fast flag.  */
 156:Middlewares/ST/filex/common/src/fx_file_open.c ****         fast_open =  FX_TRUE;
 157:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 158:Middlewares/ST/filex/common/src/fx_file_open.c ****     else
 159:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 160:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 161:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* A fast open is not selected, set the flag to false.  */
 162:Middlewares/ST/filex/common/src/fx_file_open.c ****         fast_open =  FX_FALSE;
 112              		.loc 1 162 19 view .LVU33
 113 003c 4FF0000A 		mov	r10, #0
 114              	.LVL4:
 115              	.L4:
 163:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 164:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_FAST_OPEN */
 165:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 166:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* If trace is enabled, register this object.  */
 167:Middlewares/ST/filex/common/src/fx_file_open.c ****     FX_TRACE_OBJECT_REGISTER(FX_TRACE_OBJECT_TYPE_FILE, file_ptr, file_name, 0, 0)
 168:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 169:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 170:Middlewares/ST/filex/common/src/fx_file_open.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_FILE_OPEN, media_ptr, file_ptr, file_name, open_type, FX_TRACE
 171:Middlewares/ST/filex/common/src/fx_file_open.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 6


 172:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Protect against other threads accessing the media.  */
 173:Middlewares/ST/filex/common/src/fx_file_open.c ****     FX_PROTECT
 116              		.loc 1 173 5 is_stmt 1 view .LVU34
 117 0040 2268     		ldr	r2, [r4]
 118 0042 A24B     		ldr	r3, .L51
 119 0044 9A42     		cmp	r2, r3
 120 0046 0AD0     		beq	.L39
 121 0048 4FF01109 		mov	r9, #17
 122 004c C8E1     		b	.L1
 123              	.LVL5:
 124              	.L31:
 143:Middlewares/ST/filex/common/src/fx_file_open.c ****         not_a_file_attr = FX_DIRECTORY | FX_VOLUME;
 125              		.loc 1 143 25 is_stmt 0 view .LVU35
 126 004e 4FF6F873 		movw	r3, #65528
 127 0052 0393     		str	r3, [sp, #12]
 128 0054 F0E7     		b	.L3
 129              	.LVL6:
 130              	.L38:
 156:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 131              		.loc 1 156 19 view .LVU36
 132 0056 4FF0010A 		mov	r10, #1
 153:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 133              		.loc 1 153 19 view .LVU37
 134 005a 0026     		movs	r6, #0
 135              	.LVL7:
 153:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 136              		.loc 1 153 19 view .LVU38
 137 005c F0E7     		b	.L4
 138              	.LVL8:
 139              	.L39:
 140              		.loc 1 173 5 is_stmt 1 discriminator 2 view .LVU39
 141 005e 04F5E473 		add	r3, r4, #456
 142 0062 0593     		str	r3, [sp, #20]
 143 0064 4FF0FF31 		mov	r1, #-1
 144              	.LVL9:
 145              		.loc 1 173 5 is_stmt 0 discriminator 2 view .LVU40
 146 0068 1846     		mov	r0, r3
 147              	.LVL10:
 148              		.loc 1 173 5 discriminator 2 view .LVU41
 149 006a FFF7FEFF 		bl	_tx_mutex_get
 150              	.LVL11:
 151 006e 0028     		cmp	r0, #0
 152 0070 40F0BC81 		bne	.L34
 174:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 175:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Setup file name pointer.  */
 176:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_dir_entry.fx_dir_entry_name =  file_ptr -> fx_file_name_buffer;
 153              		.loc 1 176 5 is_stmt 1 view .LVU42
 154              		.loc 1 176 56 is_stmt 0 view .LVU43
 155 0074 05F1D803 		add	r3, r5, #216
 156 0078 0793     		str	r3, [sp, #28]
 157              		.loc 1 176 53 view .LVU44
 158 007a AB66     		str	r3, [r5, #104]
 177:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_dir_entry.fx_dir_entry_short_name[0] =  0;
 159              		.loc 1 177 5 is_stmt 1 view .LVU45
 160              		.loc 1 177 62 is_stmt 0 view .LVU46
 161 007c 0023     		movs	r3, #0
 162 007e 85F86C30 		strb	r3, [r5, #108]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 7


 178:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 179:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Search the system for the supplied file name.  */
 180:Middlewares/ST/filex/common/src/fx_file_open.c ****     status =  _fx_directory_search(media_ptr, file_name, &(file_ptr -> fx_file_dir_entry), FX_NULL,
 163              		.loc 1 180 5 is_stmt 1 view .LVU47
 164              		.loc 1 180 15 is_stmt 0 view .LVU48
 165 0082 0093     		str	r3, [sp]
 166 0084 05F16802 		add	r2, r5, #104
 167 0088 3946     		mov	r1, r7
 168 008a 2046     		mov	r0, r4
 169 008c FFF7FEFF 		bl	_fx_directory_search
 170              	.LVL12:
 181:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 182:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Determine if the search was successful.  */
 183:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (status != FX_SUCCESS)
 171              		.loc 1 183 5 is_stmt 1 view .LVU49
 172              		.loc 1 183 8 is_stmt 0 view .LVU50
 173 0090 8146     		mov	r9, r0
 174 0092 0028     		cmp	r0, #0
 175 0094 71D1     		bne	.L40
 184:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 185:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 186:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Release media protection.  */
 187:Middlewares/ST/filex/common/src/fx_file_open.c ****         FX_UNPROTECT
 188:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 189:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Return the error code.  */
 190:Middlewares/ST/filex/common/src/fx_file_open.c ****         return(status);
 191:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 192:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 193:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Check to make sure the found entry is a file.  */
 194:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (file_ptr -> fx_file_dir_entry.fx_dir_entry_attributes & not_a_file_attr)
 176              		.loc 1 194 5 is_stmt 1 view .LVU51
 177              		.loc 1 194 38 is_stmt 0 view .LVU52
 178 0096 95F88430 		ldrb	r3, [r5, #132]	@ zero_extendqisi2
 179              		.loc 1 194 8 view .LVU53
 180 009a 13F0180F 		tst	r3, #24
 181 009e 70D1     		bne	.L41
 195:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 196:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 197:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Release media protection.  */
 198:Middlewares/ST/filex/common/src/fx_file_open.c ****         FX_UNPROTECT
 199:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 200:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Return the not a file error code.  */
 201:Middlewares/ST/filex/common/src/fx_file_open.c ****         return(FX_NOT_A_FILE);
 202:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 203:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 204:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifdef FX_SINGLE_OPEN_LEGACY
 205:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Check to make sure the access is okay.  */
 206:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (open_type == FX_OPEN_FOR_READ)
 207:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 208:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 209:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Check the list of open files for others open for writing.  */
 210:Middlewares/ST/filex/common/src/fx_file_open.c ****         open_count =  media_ptr -> fx_media_opened_file_count;
 211:Middlewares/ST/filex/common/src/fx_file_open.c ****         search_ptr =  media_ptr -> fx_media_opened_file_list;
 212:Middlewares/ST/filex/common/src/fx_file_open.c ****         while (open_count)
 213:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 214:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 215:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Look at each opened file to see if the same file is opened
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 8


 216:Middlewares/ST/filex/common/src/fx_file_open.c ****                for writing.  */
 217:Middlewares/ST/filex/common/src/fx_file_open.c ****             if ((search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
 218:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 219:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 220:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset) &&
 221:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_open_mode))
 222:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 223:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 224:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Release media protection.  */
 225:Middlewares/ST/filex/common/src/fx_file_open.c ****                 FX_UNPROTECT
 226:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 227:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* The file has been opened for writing by a previous call.  */
 228:Middlewares/ST/filex/common/src/fx_file_open.c ****                 return(FX_ACCESS_ERROR);
 229:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 230:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 231:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Adjust the pointer and decrement the search count.  */
 232:Middlewares/ST/filex/common/src/fx_file_open.c ****             search_ptr =  search_ptr -> fx_file_opened_next;
 233:Middlewares/ST/filex/common/src/fx_file_open.c ****             open_count--;
 234:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 235:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 236:Middlewares/ST/filex/common/src/fx_file_open.c ****     else
 237:Middlewares/ST/filex/common/src/fx_file_open.c **** #else
 238:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (open_type == FX_OPEN_FOR_WRITE)
 182              		.loc 1 238 5 is_stmt 1 view .LVU54
 183              		.loc 1 238 8 is_stmt 0 view .LVU55
 184 00a0 012E     		cmp	r6, #1
 185 00a2 74D0     		beq	.L42
 186              	.LVL13:
 187              	.L7:
 239:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif
 240:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 241:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 242:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* A open for write request is present, check the file attributes
 243:Middlewares/ST/filex/common/src/fx_file_open.c ****            and the list of open files for any other open instance of
 244:Middlewares/ST/filex/common/src/fx_file_open.c ****            this file.  */
 245:Middlewares/ST/filex/common/src/fx_file_open.c ****         if (media_ptr -> fx_media_driver_write_protect)
 246:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 247:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 248:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Release media protection.  */
 249:Middlewares/ST/filex/common/src/fx_file_open.c ****             FX_UNPROTECT
 250:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 251:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Return write protect error.  */
 252:Middlewares/ST/filex/common/src/fx_file_open.c ****             return(FX_WRITE_PROTECT);
 253:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 254:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 255:Middlewares/ST/filex/common/src/fx_file_open.c ****         if (file_ptr -> fx_file_dir_entry.fx_dir_entry_attributes & (UCHAR)(FX_READ_ONLY))
 256:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 257:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 258:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Release media protection.  */
 259:Middlewares/ST/filex/common/src/fx_file_open.c ****             FX_UNPROTECT
 260:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 261:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Return the not a file error code.  */
 262:Middlewares/ST/filex/common/src/fx_file_open.c ****             return(FX_ACCESS_ERROR);
 263:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 264:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 265:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Also search the opened files to see if this file is currently
 266:Middlewares/ST/filex/common/src/fx_file_open.c ****            opened.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 9


 267:Middlewares/ST/filex/common/src/fx_file_open.c ****         open_count =  media_ptr -> fx_media_opened_file_count;
 268:Middlewares/ST/filex/common/src/fx_file_open.c ****         search_ptr =  media_ptr -> fx_media_opened_file_list;
 269:Middlewares/ST/filex/common/src/fx_file_open.c ****         while (open_count)
 270:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 271:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 272:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Look at each opened file to see if the same file is already opened.  */
 273:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifdef FX_SINGLE_OPEN_LEGACY
 274:Middlewares/ST/filex/common/src/fx_file_open.c ****             if ((search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
 275:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 276:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 277:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset))
 278:Middlewares/ST/filex/common/src/fx_file_open.c **** #else
 279:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Look at each opened file to see if the same file is already opened
 280:Middlewares/ST/filex/common/src/fx_file_open.c ****                for writing.  */
 281:Middlewares/ST/filex/common/src/fx_file_open.c ****             if ((search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector ==
 282:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 283:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 284:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset) &&
 285:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_open_mode == FX_OPEN_FOR_WRITE))
 286:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif
 287:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 288:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 289:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Release media protection.  */
 290:Middlewares/ST/filex/common/src/fx_file_open.c ****                 FX_UNPROTECT
 291:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 292:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* The file is currently open.  */
 293:Middlewares/ST/filex/common/src/fx_file_open.c ****                 return(FX_ACCESS_ERROR);
 294:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 295:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 296:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Adjust the pointer and decrement the search count.  */
 297:Middlewares/ST/filex/common/src/fx_file_open.c ****             search_ptr =  search_ptr -> fx_file_opened_next;
 298:Middlewares/ST/filex/common/src/fx_file_open.c ****             open_count--;
 299:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 300:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 301:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 302:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* At this point, we are ready to walk list of clusters to setup the
 303:Middlewares/ST/filex/common/src/fx_file_open.c ****        initial condition of this file as well as to verify its integrity.  */
 304:Middlewares/ST/filex/common/src/fx_file_open.c ****     cluster =           file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster;
 188              		.loc 1 304 5 is_stmt 1 view .LVU56
 189              		.loc 1 304 13 is_stmt 0 view .LVU57
 190 00a4 D5F89C70 		ldr	r7, [r5, #156]
 191              	.LVL14:
 305:Middlewares/ST/filex/common/src/fx_file_open.c ****     bytes_remaining =   file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size;
 192              		.loc 1 305 5 is_stmt 1 view .LVU58
 193              		.loc 1 305 21 is_stmt 0 view .LVU59
 194 00a8 D5F8A080 		ldr	r8, [r5, #160]
 195 00ac D5F8A4B0 		ldr	fp, [r5, #164]
 196              	.LVL15:
 306:Middlewares/ST/filex/common/src/fx_file_open.c ****     bytes_per_cluster = ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 197              		.loc 1 306 5 is_stmt 1 view .LVU60
 198              		.loc 1 306 43 is_stmt 0 view .LVU61
 199 00b0 A36A     		ldr	r3, [r4, #40]
 307:Middlewares/ST/filex/common/src/fx_file_open.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 200              		.loc 1 307 27 view .LVU62
 201 00b2 626D     		ldr	r2, [r4, #84]
 306:Middlewares/ST/filex/common/src/fx_file_open.c ****     bytes_per_cluster = ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 202              		.loc 1 306 23 view .LVU63
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 10


 203 00b4 02FB03F3 		mul	r3, r2, r3
 204 00b8 1A46     		mov	r2, r3
 205 00ba 0693     		str	r3, [sp, #24]
 206              	.LVL16:
 308:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_current_physical_cluster =  0;
 207              		.loc 1 308 5 is_stmt 1 view .LVU64
 208              		.loc 1 308 50 is_stmt 0 view .LVU65
 209 00bc 0023     		movs	r3, #0
 210 00be 2B62     		str	r3, [r5, #32]
 309:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 310:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Check for invalid value.  */
 311:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (bytes_per_cluster == 0)
 211              		.loc 1 311 5 is_stmt 1 view .LVU66
 212              		.loc 1 311 8 is_stmt 0 view .LVU67
 213 00c0 002A     		cmp	r2, #0
 214 00c2 00F09C80 		beq	.L43
 312:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 313:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 314:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Release media protection.  */
 315:Middlewares/ST/filex/common/src/fx_file_open.c ****         FX_UNPROTECT
 316:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 317:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Invalid media, return error.  */
 318:Middlewares/ST/filex/common/src/fx_file_open.c ****         return(FX_MEDIA_INVALID);
 319:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 320:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 321:Middlewares/ST/filex/common/src/fx_file_open.c ****     last_cluster =      0;
 215              		.loc 1 321 5 is_stmt 1 view .LVU68
 216              	.LVL17:
 322:Middlewares/ST/filex/common/src/fx_file_open.c ****     cluster_count =     0;
 217              		.loc 1 322 5 view .LVU69
 323:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 324:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifndef FX_DISABLE_CONSECUTIVE_DETECT
 325:Middlewares/ST/filex/common/src/fx_file_open.c ****     leading_consecutive = 1;
 218              		.loc 1 325 5 view .LVU70
 326:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
 327:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_consecutive_cluster = 1;
 219              		.loc 1 327 5 view .LVU71
 220              		.loc 1 327 45 is_stmt 0 view .LVU72
 221 00c6 0123     		movs	r3, #1
 222 00c8 AB61     		str	r3, [r5, #24]
 328:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifndef FX_DISABLE_FAST_OPEN
 329:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 330:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Determine if the file is being open for reading with the fast option.  */
 331:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (fast_open)
 223              		.loc 1 331 5 is_stmt 1 view .LVU73
 224              		.loc 1 331 8 is_stmt 0 view .LVU74
 225 00ca BAF1000F 		cmp	r10, #0
 226 00ce 00F0F180 		beq	.L35
 332:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 333:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 334:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Calculate the bytes available.  */
 335:Middlewares/ST/filex/common/src/fx_file_open.c ****         bytes_available =  ((bytes_remaining + bytes_per_cluster - 1) / bytes_per_cluster) * bytes_
 227              		.loc 1 335 9 is_stmt 1 view .LVU75
 228              		.loc 1 335 46 is_stmt 0 view .LVU76
 229 00d2 069F     		ldr	r7, [sp, #24]
 230              	.LVL18:
 231              		.loc 1 335 46 view .LVU77
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 11


 232 00d4 17EB0800 		adds	r0, r7, r8
 233 00d8 4BF10001 		adc	r1, fp, #0
 234              		.loc 1 335 66 view .LVU78
 235 00dc 0138     		subs	r0, r0, #1
 236              		.loc 1 335 71 view .LVU79
 237 00de 3A46     		mov	r2, r7
 238              		.loc 1 335 71 view .LVU80
 239 00e0 4FF00003 		mov	r3, #0
 240 00e4 41F1FF31 		adc	r1, r1, #-1
 241 00e8 FFF7FEFF 		bl	__aeabi_uldivmod
 242              	.LVL19:
 243              		.loc 1 335 25 view .LVU81
 244 00ec A7FB0003 		umull	r0, r3, r7, r0
 245 00f0 07FB0133 		mla	r3, r7, r1, r3
 246              	.LVL20:
 322:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 247              		.loc 1 322 19 view .LVU82
 248 00f4 4F46     		mov	r7, r9
 249              	.LVL21:
 321:Middlewares/ST/filex/common/src/fx_file_open.c ****     cluster_count =     0;
 250              		.loc 1 321 18 view .LVU83
 251 00f6 CA46     		mov	r10, r9
 252              	.LVL22:
 253              	.L15:
 336:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 337:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifdef FX_ENABLE_EXFAT
 338:Middlewares/ST/filex/common/src/fx_file_open.c ****         if (bytes_remaining && (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 339:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 340:Middlewares/ST/filex/common/src/fx_file_open.c ****             cluster_count =
 341:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (ULONG)((file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size + bytes_per_cluster -
 342:Middlewares/ST/filex/common/src/fx_file_open.c ****                         bytes_per_cluster);
 343:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_consecutive_cluster = cluster_count;
 344:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 345:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_ENABLE_EXFAT */
 346:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 347:Middlewares/ST/filex/common/src/fx_file_open.c ****     else
 348:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_FAST_OPEN */
 349:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 350:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifdef FX_ENABLE_EXFAT
 351:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 352:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* File is open for writing... walk the FAT chain to position to the end.  */
 353:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 354:Middlewares/ST/filex/common/src/fx_file_open.c ****         if (bytes_remaining && (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 355:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 356:Middlewares/ST/filex/common/src/fx_file_open.c ****             cluster_count =
 357:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (ULONG)((file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size + bytes_per_cluster -
 358:Middlewares/ST/filex/common/src/fx_file_open.c ****                         bytes_per_cluster);
 359:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 360:Middlewares/ST/filex/common/src/fx_file_open.c ****             last_cluster = cluster + cluster_count - 1;
 361:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 362:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_consecutive_cluster = cluster_count;
 363:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 364:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_physical_cluster = last_cluster;
 365:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 366:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_cluster = cluster_count - 1;
 367:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 368:Middlewares/ST/filex/common/src/fx_file_open.c ****             bytes_remaining %= bytes_per_cluster;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 12


 369:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 370:Middlewares/ST/filex/common/src/fx_file_open.c ****             if (!bytes_remaining)
 371:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 372:Middlewares/ST/filex/common/src/fx_file_open.c ****                 if (file_ptr -> fx_file_dir_entry.fx_dir_entry_available_file_size >
 373:Middlewares/ST/filex/common/src/fx_file_open.c ****                     file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size)
 374:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 375:Middlewares/ST/filex/common/src/fx_file_open.c ****                     file_ptr -> fx_file_current_physical_cluster = last_cluster + 1;
 376:Middlewares/ST/filex/common/src/fx_file_open.c ****                     file_ptr -> fx_file_current_relative_cluster++;
 377:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 378:Middlewares/ST/filex/common/src/fx_file_open.c ****                 else
 379:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 380:Middlewares/ST/filex/common/src/fx_file_open.c ****                     bytes_remaining = bytes_per_cluster;
 381:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 382:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 383:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 384:Middlewares/ST/filex/common/src/fx_file_open.c ****             bytes_available =
 385:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (ULONG)((file_ptr -> fx_file_dir_entry.fx_dir_entry_available_file_size + bytes_per
 386:Middlewares/ST/filex/common/src/fx_file_open.c ****                         bytes_per_cluster);
 387:Middlewares/ST/filex/common/src/fx_file_open.c ****             bytes_available *= bytes_per_cluster;
 388:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 389:Middlewares/ST/filex/common/src/fx_file_open.c ****         else
 390:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 391:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_ENABLE_EXFAT */
 392:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 393:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Follow the link of FAT entries.  */
 394:Middlewares/ST/filex/common/src/fx_file_open.c ****             while ((cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_reserved
 395:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 396:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 397:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Increment the number of clusters.  */
 398:Middlewares/ST/filex/common/src/fx_file_open.c ****                 cluster_count++;
 399:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 400:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Read the current cluster entry from the FAT.  */
 401:Middlewares/ST/filex/common/src/fx_file_open.c ****                 status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &contents);
 402:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 403:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Check the return value.  */
 404:Middlewares/ST/filex/common/src/fx_file_open.c ****                 if (status != FX_SUCCESS)
 405:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 406:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 407:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Release media protection.  */
 408:Middlewares/ST/filex/common/src/fx_file_open.c ****                     FX_UNPROTECT
 409:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 410:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Return the error status.  */
 411:Middlewares/ST/filex/common/src/fx_file_open.c ****                     return(status);
 412:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 413:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 414:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Determine if the cluster is invalid (points to itself) or the count exceeds the 
 415:Middlewares/ST/filex/common/src/fx_file_open.c ****                 if ((cluster == contents) || (cluster_count > media_ptr -> fx_media_total_clusters)
 416:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 417:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 418:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Release media protection.  */
 419:Middlewares/ST/filex/common/src/fx_file_open.c ****                     FX_UNPROTECT
 420:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 421:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Return the bad status.  */
 422:Middlewares/ST/filex/common/src/fx_file_open.c ****                     return(FX_FAT_READ_ERROR);
 423:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 424:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 425:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifndef FX_DISABLE_CONSECUTIVE_DETECT
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 13


 426:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 427:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Check if present and next clusters are consecutive */
 428:Middlewares/ST/filex/common/src/fx_file_open.c ****                 if (cluster + 1 == contents)
 429:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 430:Middlewares/ST/filex/common/src/fx_file_open.c ****             
 431:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Determine if clusters are consecutive so far.  */
 432:Middlewares/ST/filex/common/src/fx_file_open.c ****                     if (leading_consecutive)
 433:Middlewares/ST/filex/common/src/fx_file_open.c ****                     {
 434:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 435:Middlewares/ST/filex/common/src/fx_file_open.c ****                         /* Yes, increment the number of leading consecutive clusters.  */
 436:Middlewares/ST/filex/common/src/fx_file_open.c ****                         file_ptr -> fx_file_consecutive_cluster++;
 437:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
 438:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 439:Middlewares/ST/filex/common/src/fx_file_open.c ****                 else
 440:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 441:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 442:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* The clusters are no longer consecutive, clear the consecutive flag.  */
 443:Middlewares/ST/filex/common/src/fx_file_open.c ****                     leading_consecutive = 0;
 444:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 445:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
 446:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 447:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Save the last valid cluster.  */
 448:Middlewares/ST/filex/common/src/fx_file_open.c ****                 last_cluster =  cluster;
 449:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 450:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Setup for the next cluster.  */
 451:Middlewares/ST/filex/common/src/fx_file_open.c ****                 cluster =  contents;
 452:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 453:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Determine if this is the last written cluster.  We need to remember this
 454:Middlewares/ST/filex/common/src/fx_file_open.c ****                    for open for writing.  */
 455:Middlewares/ST/filex/common/src/fx_file_open.c ****                 if (bytes_remaining > bytes_per_cluster)
 456:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 457:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 458:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Still more written clusters, just decrement the counter.  */
 459:Middlewares/ST/filex/common/src/fx_file_open.c ****                     bytes_remaining =  bytes_remaining - bytes_per_cluster;
 460:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 461:Middlewares/ST/filex/common/src/fx_file_open.c ****                 else if (!file_ptr -> fx_file_current_physical_cluster)
 462:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 463:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 464:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Remember this cluster number.  */
 465:Middlewares/ST/filex/common/src/fx_file_open.c ****                     file_ptr -> fx_file_current_physical_cluster =  last_cluster;
 466:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 467:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* Remember the relative cluster.  */
 468:Middlewares/ST/filex/common/src/fx_file_open.c ****                     file_ptr -> fx_file_current_relative_cluster =  cluster_count - 1;
 469:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 470:Middlewares/ST/filex/common/src/fx_file_open.c ****                     /* If the remaining bytes exactly fits the cluster size, check for
 471:Middlewares/ST/filex/common/src/fx_file_open.c ****                        a possible adjustment to the next cluster.  */
 472:Middlewares/ST/filex/common/src/fx_file_open.c ****                     if ((bytes_remaining == bytes_per_cluster) &&
 473:Middlewares/ST/filex/common/src/fx_file_open.c ****                         (cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_res
 474:Middlewares/ST/filex/common/src/fx_file_open.c ****                     {
 475:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 476:Middlewares/ST/filex/common/src/fx_file_open.c ****                         /* We need to position to next allocated cluster.  */
 477:Middlewares/ST/filex/common/src/fx_file_open.c ****                         file_ptr -> fx_file_current_physical_cluster =  cluster;
 478:Middlewares/ST/filex/common/src/fx_file_open.c ****                         file_ptr -> fx_file_current_relative_cluster++;
 479:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 480:Middlewares/ST/filex/common/src/fx_file_open.c ****                         /* Clear the remaining bytes.  */
 481:Middlewares/ST/filex/common/src/fx_file_open.c ****                         bytes_remaining =  0;
 482:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 14


 483:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 484:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 485:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 486:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Determine if the number of clusters is large enough to support the
 487:Middlewares/ST/filex/common/src/fx_file_open.c ****                specified file size.  */
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****             bytes_available =  ((ULONG64)media_ptr -> fx_media_bytes_per_sector) *
 489:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 490:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)cluster_count);
 491:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 492:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Check the bytes available in the cluster chain against the directory entry file size
 493:Middlewares/ST/filex/common/src/fx_file_open.c ****             if ((bytes_available < file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size) ||
 494:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((cluster_count) && (contents < fat_last)))
 495:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 496:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* File is corrupt, release media protection.  */
 497:Middlewares/ST/filex/common/src/fx_file_open.c ****                 FX_UNPROTECT
 498:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 499:Middlewares/ST/filex/common/src/fx_file_open.c ****                 /* Return a corrupt file error status.  */
 500:Middlewares/ST/filex/common/src/fx_file_open.c ****                 return(FX_FILE_CORRUPT);
 501:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 502:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifdef FX_ENABLE_EXFAT
 503:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 504:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_ENABLE_EXFAT */
 505:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 506:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 507:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* The file is okay, populate the file control block and complete the
 508:Middlewares/ST/filex/common/src/fx_file_open.c ****        file open process.  */
 509:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_id =                        FX_FILE_ID;
 254              		.loc 1 509 5 is_stmt 1 view .LVU84
 255              		.loc 1 509 28 is_stmt 0 view .LVU85
 256 00f8 764A     		ldr	r2, .L51+8
 257 00fa 2A60     		str	r2, [r5]
 510:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_name =                      file_ptr -> fx_file_name_buffer;
 258              		.loc 1 510 5 is_stmt 1 view .LVU86
 259              		.loc 1 510 30 is_stmt 0 view .LVU87
 260 00fc 079A     		ldr	r2, [sp, #28]
 261 00fe 6A60     		str	r2, [r5, #4]
 511:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_media_ptr =                 media_ptr;
 262              		.loc 1 511 5 is_stmt 1 view .LVU88
 263              		.loc 1 511 35 is_stmt 0 view .LVU89
 264 0100 AC65     		str	r4, [r5, #88]
 512:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_open_mode =                 open_type;
 265              		.loc 1 512 5 is_stmt 1 view .LVU90
 266              		.loc 1 512 35 is_stmt 0 view .LVU91
 267 0102 AE60     		str	r6, [r5, #8]
 513:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_modified =                  FX_FALSE;
 268              		.loc 1 513 5 is_stmt 1 view .LVU92
 269              		.loc 1 513 34 is_stmt 0 view .LVU93
 270 0104 0021     		movs	r1, #0
 271 0106 2973     		strb	r1, [r5, #12]
 514:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_total_clusters =            cluster_count;
 272              		.loc 1 514 5 is_stmt 1 view .LVU94
 273              		.loc 1 514 40 is_stmt 0 view .LVU95
 274 0108 2F61     		str	r7, [r5, #16]
 515:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_first_physical_cluster =    file_ptr -> fx_file_dir_entry.fx_dir_entry_clus
 275              		.loc 1 515 5 is_stmt 1 view .LVU96
 276              		.loc 1 515 82 is_stmt 0 view .LVU97
 277 010a D5F89C20 		ldr	r2, [r5, #156]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 15


 278              		.loc 1 515 48 view .LVU98
 279 010e 6A61     		str	r2, [r5, #20]
 516:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_last_physical_cluster =     last_cluster;
 280              		.loc 1 516 5 is_stmt 1 view .LVU99
 281              		.loc 1 516 47 is_stmt 0 view .LVU100
 282 0110 C5F81CA0 		str	r10, [r5, #28]
 517:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_current_file_size =         file_ptr -> fx_file_dir_entry.fx_dir_entry_file
 283              		.loc 1 517 5 is_stmt 1 view .LVU101
 284              		.loc 1 517 82 is_stmt 0 view .LVU102
 285 0114 95ED288B 		vldr.64	d8, [r5, #160]	@ int
 286              		.loc 1 517 43 view .LVU103
 287 0118 85ED128B 		vstr.64	d8, [r5, #72]	@ int
 518:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_current_available_size =    bytes_available;
 288              		.loc 1 518 5 is_stmt 1 view .LVU104
 289              		.loc 1 518 48 is_stmt 0 view .LVU105
 290 011c 2865     		str	r0, [r5, #80]
 291 011e 6B65     		str	r3, [r5, #84]
 519:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_disable_burst_cache =       FX_FALSE;
 292              		.loc 1 519 5 is_stmt 1 view .LVU106
 293              		.loc 1 519 45 is_stmt 0 view .LVU107
 294 0120 C5F8D811 		str	r1, [r5, #472]
 520:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 521:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Set the current settings based on how the file was opened.  */
 522:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (open_type == FX_OPEN_FOR_READ)
 295              		.loc 1 522 5 is_stmt 1 view .LVU108
 296              		.loc 1 522 8 is_stmt 0 view .LVU109
 297 0124 002E     		cmp	r6, #0
 298 0126 40F0FB80 		bne	.L25
 523:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 524:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 525:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Position the pointers to the beginning of the file.  */
 526:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_physical_cluster =  file_ptr -> fx_file_first_physical_cluster;
 299              		.loc 1 526 9 is_stmt 1 view .LVU110
 300              		.loc 1 526 54 is_stmt 0 view .LVU111
 301 012a 2A62     		str	r2, [r5, #32]
 527:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_relative_cluster =  0;
 302              		.loc 1 527 9 is_stmt 1 view .LVU112
 303              		.loc 1 527 54 is_stmt 0 view .LVU113
 304 012c 0846     		mov	r0, r1
 305              	.LVL23:
 306              		.loc 1 527 54 view .LVU114
 307 012e 6963     		str	r1, [r5, #52]
 528:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sector_s
 308              		.loc 1 528 9 is_stmt 1 view .LVU115
 309              		.loc 1 528 75 is_stmt 0 view .LVU116
 310 0130 236D     		ldr	r3, [r4, #80]
 311              	.LVL24:
 529:Middlewares/ST/filex/common/src/fx_file_open.c ****             (((ULONG64)(file_ptr -> fx_file_first_physical_cluster - FX_FAT_ENTRY_START)) *
 312              		.loc 1 529 68 view .LVU117
 313 0132 023A     		subs	r2, r2, #2
 530:Middlewares/ST/filex/common/src/fx_file_open.c ****              ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 314              		.loc 1 530 32 view .LVU118
 315 0134 616D     		ldr	r1, [r4, #84]
 529:Middlewares/ST/filex/common/src/fx_file_open.c ****             (((ULONG64)(file_ptr -> fx_file_first_physical_cluster - FX_FAT_ENTRY_START)) *
 316              		.loc 1 529 91 view .LVU119
 317 0136 A2FB0121 		umull	r2, r1, r2, r1
 528:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sector_s
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 16


 318              		.loc 1 528 106 view .LVU120
 319 013a 9B18     		adds	r3, r3, r2
 320 013c 41F10001 		adc	r1, r1, #0
 528:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sector_s
 321              		.loc 1 528 52 view .LVU121
 322 0140 AB62     		str	r3, [r5, #40]
 323 0142 E962     		str	r1, [r5, #44]
 531:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_relative_sector =   0;
 324              		.loc 1 531 9 is_stmt 1 view .LVU122
 325              		.loc 1 531 53 is_stmt 0 view .LVU123
 326 0144 A863     		str	r0, [r5, #56]
 532:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_logical_offset =    0;
 327              		.loc 1 532 9 is_stmt 1 view .LVU124
 328              		.loc 1 532 52 is_stmt 0 view .LVU125
 329 0146 2863     		str	r0, [r5, #48]
 533:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_current_file_offset =       0;
 330              		.loc 1 533 9 is_stmt 1 view .LVU126
 331              		.loc 1 533 49 is_stmt 0 view .LVU127
 332 0148 0022     		movs	r2, #0
 333 014a 0023     		movs	r3, #0
 334 014c C5E91023 		strd	r2, [r5, #64]
 335              	.LVL25:
 336              	.L26:
 534:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 535:Middlewares/ST/filex/common/src/fx_file_open.c ****     else
 536:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 537:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 538:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Open for writing - position the pointers to the end of the file.  */
 539:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 540:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Determine if the remaining bytes fit exactly into the cluster size.  */
 541:Middlewares/ST/filex/common/src/fx_file_open.c ****         if (bytes_remaining == bytes_per_cluster)
 542:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 543:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 544:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Position to the end of the cluster.  */
 545:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 546:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 547:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 548:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG)(((bytes_remaining - 1) / (ULONG)media_ptr -> fx_media_bytes_per_sector)));
 549:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)(((bytes_remaining - 1) / (ULONG
 550:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 551:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_offset =    media_ptr -> fx_media_bytes_per_sector;
 552:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 553:Middlewares/ST/filex/common/src/fx_file_open.c ****         else
 554:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 555:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 556:Middlewares/ST/filex/common/src/fx_file_open.c ****             /* Position file parameters at end of last cluster allocation.  */
 557:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 558:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 559:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 560:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG)((bytes_remaining / (ULONG)media_ptr -> fx_media_bytes_per_sector)));
 561:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)((bytes_remaining / (ULONG)media
 562:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 563:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_offset =    (ULONG)bytes_remaining % ((ULONG)media_
 564:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 565:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 566:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 567:Middlewares/ST/filex/common/src/fx_file_open.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 17


 568:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* By default, the whole file is used. */
 569:Middlewares/ST/filex/common/src/fx_file_open.c ****     file_ptr -> fx_file_maximum_size_used = file_ptr -> fx_file_current_file_size;
 570:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 571:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 572:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Place newly opened file on the list of open files for
 573:Middlewares/ST/filex/common/src/fx_file_open.c ****        this media.  First, check for an empty list.  */
 574:Middlewares/ST/filex/common/src/fx_file_open.c ****     if (media_ptr -> fx_media_opened_file_list)
 337              		.loc 1 574 5 is_stmt 1 view .LVU128
 338              		.loc 1 574 19 is_stmt 0 view .LVU129
 339 0150 D4F8C830 		ldr	r3, [r4, #200]
 340              		.loc 1 574 8 view .LVU130
 341 0154 002B     		cmp	r3, #0
 342 0156 00F03C81 		beq	.L28
 575:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 576:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 577:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Pickup tail pointer.  */
 578:Middlewares/ST/filex/common/src/fx_file_open.c ****         tail_ptr =  (media_ptr -> fx_media_opened_file_list) -> fx_file_opened_previous;
 343              		.loc 1 578 9 is_stmt 1 view .LVU131
 344              		.loc 1 578 18 is_stmt 0 view .LVU132
 345 015a 1A6E     		ldr	r2, [r3, #96]
 346              	.LVL26:
 579:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 580:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Place the new file in the list.  */
 581:Middlewares/ST/filex/common/src/fx_file_open.c ****         (media_ptr -> fx_media_opened_file_list) -> fx_file_opened_previous =  file_ptr;
 347              		.loc 1 581 9 is_stmt 1 view .LVU133
 348              		.loc 1 581 77 is_stmt 0 view .LVU134
 349 015c 1D66     		str	r5, [r3, #96]
 582:Middlewares/ST/filex/common/src/fx_file_open.c ****         tail_ptr -> fx_file_opened_next =  file_ptr;
 350              		.loc 1 582 9 is_stmt 1 view .LVU135
 351              		.loc 1 582 41 is_stmt 0 view .LVU136
 352 015e D565     		str	r5, [r2, #92]
 583:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 584:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* Setup this file's opened links.  */
 585:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_opened_previous =  tail_ptr;
 353              		.loc 1 585 9 is_stmt 1 view .LVU137
 354              		.loc 1 585 45 is_stmt 0 view .LVU138
 355 0160 2A66     		str	r2, [r5, #96]
 586:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr -> fx_file_opened_next =      media_ptr -> fx_media_opened_file_list;
 356              		.loc 1 586 9 is_stmt 1 view .LVU139
 357              		.loc 1 586 58 is_stmt 0 view .LVU140
 358 0162 D4F8C830 		ldr	r3, [r4, #200]
 359              		.loc 1 586 41 view .LVU141
 360 0166 EB65     		str	r3, [r5, #92]
 361              	.LVL27:
 362              	.L29:
 587:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 588:Middlewares/ST/filex/common/src/fx_file_open.c ****     else
 589:Middlewares/ST/filex/common/src/fx_file_open.c ****     {
 590:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 591:Middlewares/ST/filex/common/src/fx_file_open.c ****         /* The opened media list is empty.  Add the media to empty list.  */
 592:Middlewares/ST/filex/common/src/fx_file_open.c ****         media_ptr -> fx_media_opened_file_list =   file_ptr;
 593:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr ->  fx_file_opened_next =         file_ptr;
 594:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr ->  fx_file_opened_previous =     file_ptr;
 595:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 596:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 597:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Increment the opened file counter.  */
 598:Middlewares/ST/filex/common/src/fx_file_open.c ****     media_ptr -> fx_media_opened_file_count++;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 18


 363              		.loc 1 598 5 is_stmt 1 view .LVU142
 364              		.loc 1 598 15 is_stmt 0 view .LVU143
 365 0168 D4F8CC30 		ldr	r3, [r4, #204]
 366              		.loc 1 598 44 view .LVU144
 367 016c 0133     		adds	r3, r3, #1
 368 016e C4F8CC30 		str	r3, [r4, #204]
 599:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 600:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Release media protection.  */
 601:Middlewares/ST/filex/common/src/fx_file_open.c ****     FX_UNPROTECT
 369              		.loc 1 601 5 is_stmt 1 view .LVU145
 370 0172 0598     		ldr	r0, [sp, #20]
 371 0174 FFF7FEFF 		bl	_tx_mutex_put
 372              	.LVL28:
 602:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 603:Middlewares/ST/filex/common/src/fx_file_open.c ****     /* Open is complete, return successful status.  */
 604:Middlewares/ST/filex/common/src/fx_file_open.c ****     return(FX_SUCCESS);
 373              		.loc 1 604 5 view .LVU146
 374              		.loc 1 604 11 is_stmt 0 view .LVU147
 375 0178 32E1     		b	.L1
 376              	.LVL29:
 377              	.L40:
 187:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 378              		.loc 1 187 9 is_stmt 1 view .LVU148
 379 017a 0598     		ldr	r0, [sp, #20]
 380              	.LVL30:
 187:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 381              		.loc 1 187 9 is_stmt 0 view .LVU149
 382 017c FFF7FEFF 		bl	_tx_mutex_put
 383              	.LVL31:
 190:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 384              		.loc 1 190 9 is_stmt 1 view .LVU150
 190:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 385              		.loc 1 190 15 is_stmt 0 view .LVU151
 386 0180 2EE1     		b	.L1
 387              	.LVL32:
 388              	.L41:
 198:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 389              		.loc 1 198 9 is_stmt 1 view .LVU152
 390 0182 0598     		ldr	r0, [sp, #20]
 391              	.LVL33:
 198:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 392              		.loc 1 198 9 is_stmt 0 view .LVU153
 393 0184 FFF7FEFF 		bl	_tx_mutex_put
 394              	.LVL34:
 201:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 395              		.loc 1 201 9 is_stmt 1 view .LVU154
 201:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 396              		.loc 1 201 15 is_stmt 0 view .LVU155
 397 0188 4FF00509 		mov	r9, #5
 398              	.LVL35:
 201:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 399              		.loc 1 201 15 view .LVU156
 400 018c 28E1     		b	.L1
 401              	.LVL36:
 402              	.L42:
 245:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 403              		.loc 1 245 9 is_stmt 1 view .LVU157
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 19


 245:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 404              		.loc 1 245 23 is_stmt 0 view .LVU158
 405 018e D4F8A820 		ldr	r2, [r4, #168]
 245:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 406              		.loc 1 245 12 view .LVU159
 407 0192 42B9     		cbnz	r2, .L44
 255:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 408              		.loc 1 255 9 is_stmt 1 view .LVU160
 255:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 409              		.loc 1 255 12 is_stmt 0 view .LVU161
 410 0194 13F0010F 		tst	r3, #1
 411 0198 0BD1     		bne	.L45
 267:Middlewares/ST/filex/common/src/fx_file_open.c ****         search_ptr =  media_ptr -> fx_media_opened_file_list;
 412              		.loc 1 267 9 is_stmt 1 view .LVU162
 267:Middlewares/ST/filex/common/src/fx_file_open.c ****         search_ptr =  media_ptr -> fx_media_opened_file_list;
 413              		.loc 1 267 20 is_stmt 0 view .LVU163
 414 019a D4F8CC30 		ldr	r3, [r4, #204]
 415              	.LVL37:
 268:Middlewares/ST/filex/common/src/fx_file_open.c ****         while (open_count)
 416              		.loc 1 268 9 is_stmt 1 view .LVU164
 268:Middlewares/ST/filex/common/src/fx_file_open.c ****         while (open_count)
 417              		.loc 1 268 20 is_stmt 0 view .LVU165
 418 019e D4F8C870 		ldr	r7, [r4, #200]
 419              	.LVL38:
 269:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 420              		.loc 1 269 9 is_stmt 1 view .LVU166
 421 01a2 A446     		mov	ip, r4
 269:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 422              		.loc 1 269 15 is_stmt 0 view .LVU167
 423 01a4 0DE0     		b	.L10
 424              	.LVL39:
 425              	.L44:
 249:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 426              		.loc 1 249 13 is_stmt 1 view .LVU168
 427 01a6 0598     		ldr	r0, [sp, #20]
 428              	.LVL40:
 249:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 429              		.loc 1 249 13 is_stmt 0 view .LVU169
 430 01a8 FFF7FEFF 		bl	_tx_mutex_put
 431              	.LVL41:
 252:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 432              		.loc 1 252 13 is_stmt 1 view .LVU170
 252:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 433              		.loc 1 252 19 is_stmt 0 view .LVU171
 434 01ac 4FF02309 		mov	r9, #35
 435              	.LVL42:
 252:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 436              		.loc 1 252 19 view .LVU172
 437 01b0 16E1     		b	.L1
 438              	.LVL43:
 439              	.L45:
 259:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 440              		.loc 1 259 13 is_stmt 1 view .LVU173
 441 01b2 0598     		ldr	r0, [sp, #20]
 442              	.LVL44:
 259:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 443              		.loc 1 259 13 is_stmt 0 view .LVU174
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 20


 444 01b4 FFF7FEFF 		bl	_tx_mutex_put
 445              	.LVL45:
 262:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 446              		.loc 1 262 13 is_stmt 1 view .LVU175
 262:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 447              		.loc 1 262 19 is_stmt 0 view .LVU176
 448 01b8 4FF00609 		mov	r9, #6
 449              	.LVL46:
 262:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 450              		.loc 1 262 19 view .LVU177
 451 01bc 10E1     		b	.L1
 452              	.LVL47:
 453              	.L11:
 297:Middlewares/ST/filex/common/src/fx_file_open.c ****             open_count--;
 454              		.loc 1 297 13 is_stmt 1 view .LVU178
 297:Middlewares/ST/filex/common/src/fx_file_open.c ****             open_count--;
 455              		.loc 1 297 24 is_stmt 0 view .LVU179
 456 01be FF6D     		ldr	r7, [r7, #92]
 457              	.LVL48:
 298:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 458              		.loc 1 298 13 is_stmt 1 view .LVU180
 298:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 459              		.loc 1 298 23 is_stmt 0 view .LVU181
 460 01c0 013B     		subs	r3, r3, #1
 461              	.LVL49:
 462              	.L10:
 269:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 463              		.loc 1 269 15 is_stmt 1 view .LVU182
 464 01c2 D3B1     		cbz	r3, .L46
 281:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 465              		.loc 1 281 13 view .LVU183
 281:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 466              		.loc 1 281 49 is_stmt 0 view .LVU184
 467 01c4 D7F8AC10 		ldr	r1, [r7, #172]
 282:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 468              		.loc 1 282 47 view .LVU185
 469 01c8 D5F8A800 		ldr	r0, [r5, #168]
 470 01cc D5F8AC20 		ldr	r2, [r5, #172]
 281:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector) &&
 471              		.loc 1 281 16 view .LVU186
 472 01d0 D7F8A840 		ldr	r4, [r7, #168]
 473 01d4 9142     		cmp	r1, r2
 474 01d6 08BF     		it	eq
 475 01d8 8442     		cmpeq	r4, r0
 476 01da F0D1     		bne	.L11
 283:Middlewares/ST/filex/common/src/fx_file_open.c ****                  file_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset) &&
 477              		.loc 1 283 49 view .LVU187
 478 01dc D7F8B010 		ldr	r1, [r7, #176]
 284:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_open_mode == FX_OPEN_FOR_WRITE))
 479              		.loc 1 284 47 view .LVU188
 480 01e0 D5F8B020 		ldr	r2, [r5, #176]
 282:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset ==
 481              		.loc 1 282 73 view .LVU189
 482 01e4 9142     		cmp	r1, r2
 483 01e6 EAD1     		bne	.L11
 285:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif
 484              		.loc 1 285 29 view .LVU190
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 21


 485 01e8 BA68     		ldr	r2, [r7, #8]
 284:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (search_ptr -> fx_file_open_mode == FX_OPEN_FOR_WRITE))
 486              		.loc 1 284 74 view .LVU191
 487 01ea 012A     		cmp	r2, #1
 488 01ec E7D1     		bne	.L11
 290:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 489              		.loc 1 290 17 is_stmt 1 view .LVU192
 490 01ee 0598     		ldr	r0, [sp, #20]
 491 01f0 FFF7FEFF 		bl	_tx_mutex_put
 492              	.LVL50:
 293:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 493              		.loc 1 293 17 view .LVU193
 293:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 494              		.loc 1 293 23 is_stmt 0 view .LVU194
 495 01f4 4FF00609 		mov	r9, #6
 496              	.LVL51:
 293:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 497              		.loc 1 293 23 view .LVU195
 498 01f8 F2E0     		b	.L1
 499              	.LVL52:
 500              	.L46:
 293:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 501              		.loc 1 293 23 view .LVU196
 502 01fa 6446     		mov	r4, ip
 503 01fc 52E7     		b	.L7
 504              	.LVL53:
 505              	.L43:
 315:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 506              		.loc 1 315 9 is_stmt 1 view .LVU197
 507 01fe 0598     		ldr	r0, [sp, #20]
 508 0200 FFF7FEFF 		bl	_tx_mutex_put
 509              	.LVL54:
 318:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 510              		.loc 1 318 9 view .LVU198
 318:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 511              		.loc 1 318 15 is_stmt 0 view .LVU199
 512 0204 4FF00209 		mov	r9, #2
 513              	.LVL55:
 318:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 514              		.loc 1 318 15 view .LVU200
 515 0208 EAE0     		b	.L1
 516              	.LVL56:
 517              	.L48:
 408:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 518              		.loc 1 408 21 view .LVU201
 519 020a 8146     		mov	r9, r0
 408:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 520              		.loc 1 408 21 is_stmt 1 view .LVU202
 521 020c 0598     		ldr	r0, [sp, #20]
 522              	.LVL57:
 408:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 523              		.loc 1 408 21 is_stmt 0 view .LVU203
 524 020e FFF7FEFF 		bl	_tx_mutex_put
 525              	.LVL58:
 411:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 526              		.loc 1 411 21 is_stmt 1 view .LVU204
 411:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 22


 527              		.loc 1 411 27 is_stmt 0 view .LVU205
 528 0212 E5E0     		b	.L1
 529              	.LVL59:
 530              	.L17:
 419:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 531              		.loc 1 419 21 is_stmt 1 view .LVU206
 532 0214 0598     		ldr	r0, [sp, #20]
 533              	.LVL60:
 419:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 534              		.loc 1 419 21 is_stmt 0 view .LVU207
 535 0216 FFF7FEFF 		bl	_tx_mutex_put
 536              	.LVL61:
 422:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 537              		.loc 1 422 21 is_stmt 1 view .LVU208
 422:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 538              		.loc 1 422 27 is_stmt 0 view .LVU209
 539 021a 4FF00309 		mov	r9, #3
 540 021e DFE0     		b	.L1
 541              	.LVL62:
 542              	.L49:
 432:Middlewares/ST/filex/common/src/fx_file_open.c ****                     {
 543              		.loc 1 432 21 is_stmt 1 view .LVU210
 432:Middlewares/ST/filex/common/src/fx_file_open.c ****                     {
 544              		.loc 1 432 24 is_stmt 0 view .LVU211
 545 0220 049A     		ldr	r2, [sp, #16]
 546 0222 6AB3     		cbz	r2, .L19
 436:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
 547              		.loc 1 436 25 is_stmt 1 view .LVU212
 436:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
 548              		.loc 1 436 34 is_stmt 0 view .LVU213
 549 0224 DAF81820 		ldr	r2, [r10, #24]
 436:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
 550              		.loc 1 436 64 view .LVU214
 551 0228 0132     		adds	r2, r2, #1
 552 022a CAF81820 		str	r2, [r10, #24]
 553 022e 27E0     		b	.L19
 554              	.LVL63:
 555              	.L20:
 461:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 556              		.loc 1 461 22 is_stmt 1 view .LVU215
 461:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 557              		.loc 1 461 36 is_stmt 0 view .LVU216
 558 0230 DAF82020 		ldr	r2, [r10, #32]
 461:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 559              		.loc 1 461 25 view .LVU217
 560 0234 3AB9     		cbnz	r2, .L21
 465:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 561              		.loc 1 465 21 is_stmt 1 view .LVU218
 465:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 562              		.loc 1 465 66 is_stmt 0 view .LVU219
 563 0236 CAF82070 		str	r7, [r10, #32]
 468:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 564              		.loc 1 468 21 is_stmt 1 view .LVU220
 468:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 565              		.loc 1 468 66 is_stmt 0 view .LVU221
 566 023a CAF83450 		str	r5, [r10, #52]
 472:Middlewares/ST/filex/common/src/fx_file_open.c ****                         (cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_res
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 23


 567              		.loc 1 472 21 is_stmt 1 view .LVU222
 472:Middlewares/ST/filex/common/src/fx_file_open.c ****                         (cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_res
 568              		.loc 1 472 24 is_stmt 0 view .LVU223
 569 023e 5945     		cmp	r1, fp
 570 0240 08BF     		it	eq
 571 0242 C145     		cmpeq	r9, r8
 572 0244 26D0     		beq	.L47
 573              	.LVL64:
 574              	.L21:
 481:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
 575              		.loc 1 481 41 view .LVU224
 576 0246 3546     		mov	r5, r6
 577 0248 3A46     		mov	r2, r7
 578 024a 1F46     		mov	r7, r3
 579              	.LVL65:
 580              	.L14:
 394:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 581              		.loc 1 394 19 is_stmt 1 view .LVU225
 582 024c 012F     		cmp	r7, #1
 583 024e 43D9     		bls	.L22
 394:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 584              		.loc 1 394 76 is_stmt 0 discriminator 1 view .LVU226
 585 0250 04F50053 		add	r3, r4, #8192
 586 0254 D3F8A834 		ldr	r3, [r3, #1192]
 394:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 587              		.loc 1 394 52 discriminator 1 view .LVU227
 588 0258 BB42     		cmp	r3, r7
 589 025a 3DD9     		bls	.L22
 398:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 590              		.loc 1 398 17 is_stmt 1 view .LVU228
 398:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 591              		.loc 1 398 30 is_stmt 0 view .LVU229
 592 025c 6E1C     		adds	r6, r5, #1
 593              	.LVL66:
 401:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 594              		.loc 1 401 17 is_stmt 1 view .LVU230
 401:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 595              		.loc 1 401 27 is_stmt 0 view .LVU231
 596 025e 0BAA     		add	r2, sp, #44
 597              	.LVL67:
 401:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 598              		.loc 1 401 27 view .LVU232
 599 0260 3946     		mov	r1, r7
 600 0262 2046     		mov	r0, r4
 601 0264 FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 602              	.LVL68:
 404:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 603              		.loc 1 404 17 is_stmt 1 view .LVU233
 404:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 604              		.loc 1 404 20 is_stmt 0 view .LVU234
 605 0268 0028     		cmp	r0, #0
 606 026a CED1     		bne	.L48
 415:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 607              		.loc 1 415 17 is_stmt 1 view .LVU235
 415:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 608              		.loc 1 415 30 is_stmt 0 view .LVU236
 609 026c 0B9B     		ldr	r3, [sp, #44]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 24


 415:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 610              		.loc 1 415 20 view .LVU237
 611 026e BB42     		cmp	r3, r7
 612 0270 D0D0     		beq	.L17
 415:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 613              		.loc 1 415 73 discriminator 1 view .LVU238
 614 0272 226C     		ldr	r2, [r4, #64]
 415:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 615              		.loc 1 415 43 discriminator 1 view .LVU239
 616 0274 B242     		cmp	r2, r6
 617 0276 CDD3     		bcc	.L17
 428:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 618              		.loc 1 428 17 is_stmt 1 view .LVU240
 428:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 619              		.loc 1 428 29 is_stmt 0 view .LVU241
 620 0278 7A1C     		adds	r2, r7, #1
 428:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 621              		.loc 1 428 20 view .LVU242
 622 027a 9342     		cmp	r3, r2
 623 027c D0D0     		beq	.L49
 443:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 624              		.loc 1 443 41 view .LVU243
 625 027e 0490     		str	r0, [sp, #16]
 626              	.LVL69:
 627              	.L19:
 448:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 628              		.loc 1 448 17 is_stmt 1 view .LVU244
 451:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 629              		.loc 1 451 17 view .LVU245
 455:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 630              		.loc 1 455 17 view .LVU246
 455:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 631              		.loc 1 455 37 is_stmt 0 view .LVU247
 632 0280 0021     		movs	r1, #0
 455:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 633              		.loc 1 455 20 view .LVU248
 634 0282 C145     		cmp	r9, r8
 635 0284 71EB0B00 		sbcs	r0, r1, fp
 636              	.LVL70:
 455:Middlewares/ST/filex/common/src/fx_file_open.c ****                 {
 637              		.loc 1 455 20 view .LVU249
 638 0288 D2D2     		bcs	.L20
 459:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 639              		.loc 1 459 21 is_stmt 1 view .LVU250
 459:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 640              		.loc 1 459 37 is_stmt 0 view .LVU251
 641 028a B8EB0908 		subs	r8, r8, r9
 642              	.LVL71:
 459:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 643              		.loc 1 459 37 view .LVU252
 644 028e 6BF1000B 		sbc	fp, fp, #0
 645              	.LVL72:
 459:Middlewares/ST/filex/common/src/fx_file_open.c ****                 }
 646              		.loc 1 459 37 view .LVU253
 647 0292 D8E7     		b	.L21
 648              	.L47:
 472:Middlewares/ST/filex/common/src/fx_file_open.c ****                         (cluster >= FX_FAT_ENTRY_START) && (cluster < media_ptr -> fx_media_fat_res
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 25


 649              		.loc 1 472 64 discriminator 1 view .LVU254
 650 0294 012B     		cmp	r3, #1
 651 0296 D6D9     		bls	.L21
 473:Middlewares/ST/filex/common/src/fx_file_open.c ****                     {
 652              		.loc 1 473 81 view .LVU255
 653 0298 04F50052 		add	r2, r4, #8192
 654 029c D2F8A824 		ldr	r2, [r2, #1192]
 473:Middlewares/ST/filex/common/src/fx_file_open.c ****                     {
 655              		.loc 1 473 57 view .LVU256
 656 02a0 9342     		cmp	r3, r2
 657 02a2 D0D2     		bcs	.L21
 477:Middlewares/ST/filex/common/src/fx_file_open.c ****                         file_ptr -> fx_file_current_relative_cluster++;
 658              		.loc 1 477 25 is_stmt 1 view .LVU257
 477:Middlewares/ST/filex/common/src/fx_file_open.c ****                         file_ptr -> fx_file_current_relative_cluster++;
 659              		.loc 1 477 70 is_stmt 0 view .LVU258
 660 02a4 CAF82030 		str	r3, [r10, #32]
 478:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 661              		.loc 1 478 25 is_stmt 1 view .LVU259
 478:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 662              		.loc 1 478 69 is_stmt 0 view .LVU260
 663 02a8 CAF83460 		str	r6, [r10, #52]
 481:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
 664              		.loc 1 481 25 is_stmt 1 view .LVU261
 665              	.LVL73:
 481:Middlewares/ST/filex/common/src/fx_file_open.c ****                     }
 666              		.loc 1 481 41 is_stmt 0 view .LVU262
 667 02ac 4FF00008 		mov	r8, #0
 668 02b0 C346     		mov	fp, r8
 669 02b2 C8E7     		b	.L21
 670              	.LVL74:
 671              	.L35:
 322:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 672              		.loc 1 322 19 view .LVU263
 673 02b4 5146     		mov	r1, r10
 325:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
 674              		.loc 1 325 25 view .LVU264
 675 02b6 0123     		movs	r3, #1
 676 02b8 0493     		str	r3, [sp, #16]
 677 02ba 5246     		mov	r2, r10
 678              	.LVL75:
 325:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
 679              		.loc 1 325 25 view .LVU265
 680 02bc CDF82090 		str	r9, [sp, #32]
 681 02c0 DDF81890 		ldr	r9, [sp, #24]
 682              	.LVL76:
 325:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
 683              		.loc 1 325 25 view .LVU266
 684 02c4 AA46     		mov	r10, r5
 685              	.LVL77:
 325:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
 686              		.loc 1 325 25 view .LVU267
 687 02c6 0D46     		mov	r5, r1
 688              	.LVL78:
 325:Middlewares/ST/filex/common/src/fx_file_open.c **** #endif /* FX_DISABLE_CONSECUTIVE_DETECT */
 689              		.loc 1 325 25 view .LVU268
 690 02c8 0996     		str	r6, [sp, #36]
 691 02ca BFE7     		b	.L14
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 26


 692              	.L52:
 693              		.align	2
 694              	.L51:
 695 02cc 4944454D 		.word	1296385097
 696 02d0 F8FFFF0F 		.word	268435448
 697 02d4 454C4946 		.word	1179208773
 698              	.LVL79:
 699              	.L22:
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 700              		.loc 1 488 52 view .LVU269
 701 02d8 2F46     		mov	r7, r5
 702              	.LVL80:
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 703              		.loc 1 488 52 view .LVU270
 704 02da DDF82090 		ldr	r9, [sp, #32]
 705 02de 5546     		mov	r5, r10
 706              	.LVL81:
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 707              		.loc 1 488 52 view .LVU271
 708 02e0 9246     		mov	r10, r2
 709              	.LVL82:
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 710              		.loc 1 488 52 view .LVU272
 711 02e2 099E     		ldr	r6, [sp, #36]
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 712              		.loc 1 488 13 is_stmt 1 view .LVU273
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 713              		.loc 1 488 52 is_stmt 0 view .LVU274
 714 02e4 A36A     		ldr	r3, [r4, #40]
 489:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)cluster_count);
 715              		.loc 1 489 37 view .LVU275
 716 02e6 606D     		ldr	r0, [r4, #84]
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 717              		.loc 1 488 82 view .LVU276
 718 02e8 A3FB0032 		umull	r3, r2, r3, r0
 719              	.LVL83:
 488:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG64)media_ptr -> fx_media_sectors_per_cluster) *
 720              		.loc 1 488 29 view .LVU277
 721 02ec A3FB0703 		umull	r0, r3, r3, r7
 722 02f0 07FB0233 		mla	r3, r7, r2, r3
 723              	.LVL84:
 493:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((cluster_count) && (contents < fat_last)))
 724              		.loc 1 493 13 is_stmt 1 view .LVU278
 493:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((cluster_count) && (contents < fat_last)))
 725              		.loc 1 493 65 is_stmt 0 view .LVU279
 726 02f4 D5F8A010 		ldr	r1, [r5, #160]
 727 02f8 D5F8A420 		ldr	r2, [r5, #164]
 493:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((cluster_count) && (contents < fat_last)))
 728              		.loc 1 493 16 view .LVU280
 729 02fc 8842     		cmp	r0, r1
 730 02fe 73EB0202 		sbcs	r2, r3, r2
 731 0302 07D3     		bcc	.L24
 732              	.LVL85:
 493:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((cluster_count) && (contents < fat_last)))
 733              		.loc 1 493 90 discriminator 1 view .LVU281
 734 0304 002F     		cmp	r7, #0
 735 0306 3FF4F7AE 		beq	.L15
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 27


 494:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 736              		.loc 1 494 47 view .LVU282
 737 030a 0B9A     		ldr	r2, [sp, #44]
 494:Middlewares/ST/filex/common/src/fx_file_open.c ****             {
 738              		.loc 1 494 34 view .LVU283
 739 030c 0399     		ldr	r1, [sp, #12]
 740 030e 8A42     		cmp	r2, r1
 741 0310 BFF4F2AE 		bcs	.L15
 742              	.L24:
 497:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 743              		.loc 1 497 17 is_stmt 1 view .LVU284
 744 0314 0598     		ldr	r0, [sp, #20]
 745              	.LVL86:
 497:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 746              		.loc 1 497 17 is_stmt 0 view .LVU285
 747 0316 FFF7FEFF 		bl	_tx_mutex_put
 748              	.LVL87:
 500:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 749              		.loc 1 500 17 is_stmt 1 view .LVU286
 500:Middlewares/ST/filex/common/src/fx_file_open.c ****             }
 750              		.loc 1 500 23 is_stmt 0 view .LVU287
 751 031a 4FF00809 		mov	r9, #8
 752 031e 5FE0     		b	.L1
 753              	.LVL88:
 754              	.L25:
 541:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 755              		.loc 1 541 9 is_stmt 1 view .LVU288
 541:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 756              		.loc 1 541 12 is_stmt 0 view .LVU289
 757 0320 069B     		ldr	r3, [sp, #24]
 758              	.LVL89:
 541:Middlewares/ST/filex/common/src/fx_file_open.c ****         {
 759              		.loc 1 541 12 view .LVU290
 760 0322 BBF1000F 		cmp	fp, #0
 761 0326 08BF     		it	eq
 762 0328 4345     		cmpeq	r3, r8
 763 032a 29D0     		beq	.L50
 557:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 764              		.loc 1 557 13 is_stmt 1 view .LVU291
 557:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 765              		.loc 1 557 79 is_stmt 0 view .LVU292
 766 032c 276D     		ldr	r7, [r4, #80]
 767              	.LVL90:
 557:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 768              		.loc 1 557 62 view .LVU293
 769 032e 4FF0000A 		mov	r10, #0
 770              	.LVL91:
 558:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 771              		.loc 1 558 37 view .LVU294
 772 0332 2B6A     		ldr	r3, [r5, #32]
 558:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 773              		.loc 1 558 73 view .LVU295
 774 0334 023B     		subs	r3, r3, #2
 775 0336 4AF1FF31 		adc	r1, r10, #-1
 559:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG)((bytes_remaining / (ULONG)media_ptr -> fx_media_bytes_per_sector)));
 776              		.loc 1 559 36 view .LVU296
 777 033a 666D     		ldr	r6, [r4, #84]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 28


 558:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 778              		.loc 1 558 95 view .LVU297
 779 033c A3FB0623 		umull	r2, r3, r3, r6
 780 0340 06FB0136 		mla	r6, r6, r1, r3
 557:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 781              		.loc 1 557 110 view .LVU298
 782 0344 BF18     		adds	r7, r7, r2
 783 0346 46F10006 		adc	r6, r6, #0
 560:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)((bytes_remaining / (ULONG)media
 784              		.loc 1 560 43 view .LVU299
 785 034a A26A     		ldr	r2, [r4, #40]
 786 034c 5346     		mov	r3, r10
 787 034e 4046     		mov	r0, r8
 788              	.LVL92:
 560:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)((bytes_remaining / (ULONG)media
 789              		.loc 1 560 43 view .LVU300
 790 0350 5946     		mov	r1, fp
 791 0352 FFF7FEFF 		bl	__aeabi_uldivmod
 792              	.LVL93:
 559:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG)((bytes_remaining / (ULONG)media_ptr -> fx_media_bytes_per_sector)));
 793              		.loc 1 559 70 view .LVU301
 794 0356 3F18     		adds	r7, r7, r0
 795 0358 46F10006 		adc	r6, r6, #0
 557:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 796              		.loc 1 557 56 view .LVU302
 797 035c AF62     		str	r7, [r5, #40]
 798 035e EE62     		str	r6, [r5, #44]
 561:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 799              		.loc 1 561 13 is_stmt 1 view .LVU303
 561:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 800              		.loc 1 561 86 is_stmt 0 view .LVU304
 801 0360 A26A     		ldr	r2, [r4, #40]
 802 0362 5346     		mov	r3, r10
 803 0364 4046     		mov	r0, r8
 804 0366 5946     		mov	r1, fp
 805 0368 FFF7FEFF 		bl	__aeabi_uldivmod
 806              	.LVL94:
 561:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 807              		.loc 1 561 57 view .LVU305
 808 036c A863     		str	r0, [r5, #56]
 562:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_offset =    (ULONG)bytes_remaining % ((ULONG)media_
 809              		.loc 1 562 13 is_stmt 1 view .LVU306
 562:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_offset =    (ULONG)bytes_remaining % ((ULONG)media_
 810              		.loc 1 562 53 is_stmt 0 view .LVU307
 811 036e 85ED108B 		vstr.64	d8, [r5, #64]	@ int
 563:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 812              		.loc 1 563 13 is_stmt 1 view .LVU308
 563:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 813              		.loc 1 563 104 is_stmt 0 view .LVU309
 814 0372 A36A     		ldr	r3, [r4, #40]
 563:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 815              		.loc 1 563 84 view .LVU310
 816 0374 B8FBF3F2 		udiv	r2, r8, r3
 817 0378 03FB1283 		mls	r3, r3, r2, r8
 563:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 818              		.loc 1 563 56 view .LVU311
 819 037c 2B63     		str	r3, [r5, #48]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 29


 820 037e E7E6     		b	.L26
 821              	.LVL95:
 822              	.L50:
 545:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 823              		.loc 1 545 13 is_stmt 1 view .LVU312
 545:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 824              		.loc 1 545 79 is_stmt 0 view .LVU313
 825 0380 266D     		ldr	r6, [r4, #80]
 545:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 826              		.loc 1 545 62 view .LVU314
 827 0382 0027     		movs	r7, #0
 828              	.LVL96:
 546:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 829              		.loc 1 546 37 view .LVU315
 830 0384 2B6A     		ldr	r3, [r5, #32]
 546:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 831              		.loc 1 546 73 view .LVU316
 832 0386 023B     		subs	r3, r3, #2
 833 0388 47F1FF31 		adc	r1, r7, #-1
 547:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG)(((bytes_remaining - 1) / (ULONG)media_ptr -> fx_media_bytes_per_sector)));
 834              		.loc 1 547 36 view .LVU317
 835 038c 626D     		ldr	r2, [r4, #84]
 546:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 836              		.loc 1 546 95 view .LVU318
 837 038e A3FB023A 		umull	r3, r10, r3, r2
 838              	.LVL97:
 546:Middlewares/ST/filex/common/src/fx_file_open.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster)) +
 839              		.loc 1 546 95 view .LVU319
 840 0392 02FB01AA 		mla	r10, r2, r1, r10
 545:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
 841              		.loc 1 545 110 view .LVU320
 842 0396 F618     		adds	r6, r6, r3
 843 0398 4AF1000A 		adc	r10, r10, #0
 548:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)(((bytes_remaining - 1) / (ULONG
 844              		.loc 1 548 44 view .LVU321
 845 039c 18F1FF38 		adds	r8, r8, #-1
 846              	.LVL98:
 548:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)(((bytes_remaining - 1) / (ULONG
 847              		.loc 1 548 44 view .LVU322
 848 03a0 4BF1FF3B 		adc	fp, fp, #-1
 849              	.LVL99:
 548:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)(((bytes_remaining - 1) / (ULONG
 850              		.loc 1 548 49 view .LVU323
 851 03a4 A26A     		ldr	r2, [r4, #40]
 852 03a6 3B46     		mov	r3, r7
 853 03a8 4046     		mov	r0, r8
 854              	.LVL100:
 548:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_relative_sector =   (ULONG)(((bytes_remaining - 1) / (ULONG
 855              		.loc 1 548 49 view .LVU324
 856 03aa 5946     		mov	r1, fp
 857 03ac FFF7FEFF 		bl	__aeabi_uldivmod
 858              	.LVL101:
 547:Middlewares/ST/filex/common/src/fx_file_open.c ****                 ((ULONG)(((bytes_remaining - 1) / (ULONG)media_ptr -> fx_media_bytes_per_sector)));
 859              		.loc 1 547 70 view .LVU325
 860 03b0 3618     		adds	r6, r6, r0
 861 03b2 4AF10003 		adc	r3, r10, #0
 545:Middlewares/ST/filex/common/src/fx_file_open.c ****                 (((ULONG64)file_ptr -> fx_file_current_physical_cluster - FX_FAT_ENTRY_START) *
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 30


 862              		.loc 1 545 56 view .LVU326
 863 03b6 AE62     		str	r6, [r5, #40]
 864 03b8 EB62     		str	r3, [r5, #44]
 549:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 865              		.loc 1 549 13 is_stmt 1 view .LVU327
 549:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 866              		.loc 1 549 92 is_stmt 0 view .LVU328
 867 03ba A26A     		ldr	r2, [r4, #40]
 868 03bc 3B46     		mov	r3, r7
 869 03be 4046     		mov	r0, r8
 870 03c0 5946     		mov	r1, fp
 871 03c2 FFF7FEFF 		bl	__aeabi_uldivmod
 872              	.LVL102:
 549:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_file_offset =       file_ptr -> fx_file_current_file_size;
 873              		.loc 1 549 57 view .LVU329
 874 03c6 A863     		str	r0, [r5, #56]
 550:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_offset =    media_ptr -> fx_media_bytes_per_sector;
 875              		.loc 1 550 13 is_stmt 1 view .LVU330
 550:Middlewares/ST/filex/common/src/fx_file_open.c ****             file_ptr -> fx_file_current_logical_offset =    media_ptr -> fx_media_bytes_per_sector;
 876              		.loc 1 550 53 is_stmt 0 view .LVU331
 877 03c8 85ED108B 		vstr.64	d8, [r5, #64]	@ int
 551:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 878              		.loc 1 551 13 is_stmt 1 view .LVU332
 551:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 879              		.loc 1 551 71 is_stmt 0 view .LVU333
 880 03cc A36A     		ldr	r3, [r4, #40]
 551:Middlewares/ST/filex/common/src/fx_file_open.c ****         }
 881              		.loc 1 551 56 view .LVU334
 882 03ce 2B63     		str	r3, [r5, #48]
 883 03d0 BEE6     		b	.L26
 884              	.L28:
 592:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr ->  fx_file_opened_next =         file_ptr;
 885              		.loc 1 592 9 is_stmt 1 view .LVU335
 592:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr ->  fx_file_opened_next =         file_ptr;
 886              		.loc 1 592 48 is_stmt 0 view .LVU336
 887 03d2 C4F8C850 		str	r5, [r4, #200]
 593:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr ->  fx_file_opened_previous =     file_ptr;
 888              		.loc 1 593 9 is_stmt 1 view .LVU337
 593:Middlewares/ST/filex/common/src/fx_file_open.c ****         file_ptr ->  fx_file_opened_previous =     file_ptr;
 889              		.loc 1 593 42 is_stmt 0 view .LVU338
 890 03d6 ED65     		str	r5, [r5, #92]
 594:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 891              		.loc 1 594 9 is_stmt 1 view .LVU339
 594:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 892              		.loc 1 594 46 is_stmt 0 view .LVU340
 893 03d8 2D66     		str	r5, [r5, #96]
 894 03da C5E6     		b	.L29
 895              	.LVL103:
 896              	.L30:
 114:Middlewares/ST/filex/common/src/fx_file_open.c ****     }
 897              		.loc 1 114 15 view .LVU341
 898 03dc 4FF01109 		mov	r9, #17
 899              	.LVL104:
 900              	.L1:
 605:Middlewares/ST/filex/common/src/fx_file_open.c **** }
 901              		.loc 1 605 1 view .LVU342
 902 03e0 4846     		mov	r0, r9
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 31


 903 03e2 0DB0     		add	sp, sp, #52
 904              	.LCFI3:
 905              		.cfi_remember_state
 906              		.cfi_def_cfa_offset 44
 907              		@ sp needed
 908 03e4 BDEC028B 		vldm	sp!, {d8}
 909              	.LCFI4:
 910              		.cfi_restore 80
 911              		.cfi_restore 81
 912              		.cfi_def_cfa_offset 36
 913 03e8 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 914              	.LVL105:
 915              	.L34:
 916              	.LCFI5:
 917              		.cfi_restore_state
 173:Middlewares/ST/filex/common/src/fx_file_open.c **** 
 918              		.loc 1 173 5 view .LVU343
 919 03ec 4FF01109 		mov	r9, #17
 920 03f0 F6E7     		b	.L1
 921              		.cfi_endproc
 922              	.LFE8:
 924 03f2 00BF     		.text
 925              	.Letext0:
 926              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 927              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 928              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 929              		.file 5 "Middlewares/ST/filex/common/inc/fx_directory.h"
 930              		.file 6 "Middlewares/ST/filex/common/inc/fx_utility.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 fx_file_open.c
C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s:21     .text._fx_file_open:00000000 $t
C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s:27     .text._fx_file_open:00000000 _fx_file_open
C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s:695    .text._fx_file_open:000002cc $d
C:\Users\HP\AppData\Local\Temp\cc3D1KVf.s:701    .text._fx_file_open:000002d8 $t

UNDEFINED SYMBOLS
__aeabi_uldivmod
_tx_mutex_get
_fx_directory_search
_tx_mutex_put
_fx_utility_FAT_entry_read

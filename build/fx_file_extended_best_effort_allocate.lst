ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_file_extended_best_effort_allocate.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	__aeabi_uldivmod
  20              		.section	.text._fx_file_extended_best_effort_allocate,"ax",%progbits
  21              		.align	1
  22              		.global	_fx_file_extended_best_effort_allocate
  23              		.syntax unified
  24              		.thumb
  25              		.thumb_func
  27              	_fx_file_extended_best_effort_allocate:
  28              	.LVL0:
  29              	.LFB8:
  30              		.file 1 "Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c"
   1:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  12:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  13:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**   File                                                                */
  19:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  23:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  25:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  26:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  28:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #include "fx_api.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 2


  29:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #include "fx_system.h"
  30:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #include "fx_file.h"
  31:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #include "fx_utility.h"
  32:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #include "fx_directory.h"
  33:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  34:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #include "fx_fault_tolerant.h"
  35:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  36:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  37:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
  38:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
  39:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  40:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  FUNCTION                                               RELEASE        */
  41:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  42:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_file_extended_best_effort_allocate              PORTABLE C      */
  43:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                           6.1          */
  44:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  AUTHOR                                                                */
  45:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  46:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    William E. Lamie, Microsoft Corporation                             */
  47:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  48:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  DESCRIPTION                                                           */
  49:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  50:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    This function attempts to allocate the number of consecutive        */
  51:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    clusters required to satisfy the user's request.  If there are not  */
  52:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    enough clusters, the largest set of clusters are allocated and      */
  53:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    linked to the file.  If there are no free clusters, an error        */
  54:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    code is returned to the caller.                                     */
  55:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  56:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  INPUT                                                                 */
  57:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  58:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    file_ptr                              File control block pointer    */
  59:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    size                                  Number of bytes to allocate   */
  60:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    actual_size_allocated                 Number of bytes allocated     */
  61:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  62:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  OUTPUT                                                                */
  63:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  64:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    return status                                                       */
  65:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  66:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  CALLS                                                                 */
  67:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  68:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_directory_entry_write             Update directory entry        */
  69:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_exFAT_bitmap_flush        Flush exFAT allocation bitmap */
  70:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_exFAT_bitmap_free_cluster_find                          */
  71:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                            Find exFAT free cluster     */
  72:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_exFAT_cluster_state_get   Get cluster state             */
  73:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_exFAT_cluster_state_set   Set cluster state             */
  74:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_FAT_entry_read            Read a FAT entry              */
  75:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_FAT_entry_write           Write a FAT entry             */
  76:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_FAT_flush                 Flush written FAT entries     */
  77:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_utility_logical_sector_flush      Flush the written log sector  */
  78:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_fault_tolerant_transaction_start  Start fault tolerant          */
  79:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                            transaction                 */
  80:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_fault_tolerant_transaction_end    End fault tolerant transaction*/
  81:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_fault_tolerant_recover            Recover FAT chain             */
  82:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_fault_tolerant_reset_log_file     Reset the log file            */
  83:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    _fx_fault_tolerant_set_FAT_chain      Set data of FAT chain         */
  84:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  85:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  CALLED BY                                                             */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 3


  86:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  87:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    Application Code                                                    */
  88:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  89:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  RELEASE HISTORY                                                       */
  90:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  91:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*    DATE              NAME                      DESCRIPTION             */
  92:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  93:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  94:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  95:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                            resulting in version 6.1    */
  96:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /*                                                                        */
  97:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** /**************************************************************************/
  98:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** UINT  _fx_file_extended_best_effort_allocate(FX_FILE *file_ptr, ULONG64 size, ULONG64 *actual_size_
  99:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** {
  31              		.loc 1 99 1 view -0
  32              		.cfi_startproc
  33              		@ args = 4, pretend = 0, frame = 32
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 99 1 is_stmt 0 view .LVU1
  36 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
  37              	.LCFI0:
  38              		.cfi_def_cfa_offset 36
  39              		.cfi_offset 4, -36
  40              		.cfi_offset 5, -32
  41              		.cfi_offset 6, -28
  42              		.cfi_offset 7, -24
  43              		.cfi_offset 8, -20
  44              		.cfi_offset 9, -16
  45              		.cfi_offset 10, -12
  46              		.cfi_offset 11, -8
  47              		.cfi_offset 14, -4
  48 0004 8DB0     		sub	sp, sp, #52
  49              	.LCFI1:
  50              		.cfi_def_cfa_offset 88
  51 0006 1446     		mov	r4, r2
  52 0008 1D46     		mov	r5, r3
 100:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 101:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** UINT                   status;
  53              		.loc 1 101 1 is_stmt 1 view .LVU2
 102:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** ULONG                  i;
  54              		.loc 1 102 1 view .LVU3
 103:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** UINT                   found;
  55              		.loc 1 103 1 view .LVU4
 104:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** ULONG                  bytes_per_cluster;
  56              		.loc 1 104 1 view .LVU5
 105:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** ULONG                  FAT_index, start_FAT_index;
  57              		.loc 1 105 1 view .LVU6
 106:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** ULONG                  FAT_value;
  58              		.loc 1 106 1 view .LVU7
 107:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** ULONG                  clusters, maximum_clusters;
  59              		.loc 1 107 1 view .LVU8
 108:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** FX_MEDIA              *media_ptr;
  60              		.loc 1 108 1 view .LVU9
 109:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 110:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 111:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** UCHAR                  cluster_state;
 112:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 4


 113:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 114:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef TX_ENABLE_EVENT_TRACE
 115:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** TX_TRACE_BUFFER_ENTRY *trace_event;
 116:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** ULONG                  trace_timestamp;
 117:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif
 118:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 119:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 120:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* First, determine if the file is still open.  */
 121:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (file_ptr -> fx_file_id != FX_FILE_ID)
  61              		.loc 1 121 5 view .LVU10
  62              		.loc 1 121 18 is_stmt 0 view .LVU11
  63 000a 0268     		ldr	r2, [r0]
  64              	.LVL1:
  65              		.loc 1 121 8 view .LVU12
  66 000c AB4B     		ldr	r3, .L51
  67 000e 9A42     		cmp	r2, r3
  68 0010 40F06381 		bne	.L25
  69 0014 0646     		mov	r6, r0
 122:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 123:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 124:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return the file not open error status.  */
 125:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_NOT_OPEN);
 126:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 127:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 128:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 129:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Setup pointer to media structure.  */
 130:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     media_ptr =  file_ptr -> fx_file_media_ptr;
  70              		.loc 1 130 5 is_stmt 1 view .LVU13
  71              		.loc 1 130 15 is_stmt 0 view .LVU14
  72 0016 826D     		ldr	r2, [r0, #88]
  73              	.LVL2:
 131:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 132:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Increment the number of times this service has been called.  */
 133:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     media_ptr -> fx_media_file_best_effort_allocates++;
  74              		.loc 1 133 5 is_stmt 1 view .LVU15
  75              		.loc 1 133 15 is_stmt 0 view .LVU16
  76 0018 D2F82831 		ldr	r3, [r2, #296]
  77              		.loc 1 133 53 view .LVU17
  78 001c 0133     		adds	r3, r3, #1
  79 001e C2F82831 		str	r3, [r2, #296]
 134:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif
 135:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 136:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Make sure this file is open for writing.  */
 137:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (file_ptr -> fx_file_open_mode != FX_OPEN_FOR_WRITE)
  80              		.loc 1 137 5 is_stmt 1 view .LVU18
  81              		.loc 1 137 18 is_stmt 0 view .LVU19
  82 0022 D0F808A0 		ldr	r10, [r0, #8]
  83              		.loc 1 137 8 view .LVU20
  84 0026 BAF1010F 		cmp	r10, #1
  85 002a 40F05C81 		bne	.L26
 138:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 139:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 140:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return the access error exception - a write was attempted from
 141:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****            a file opened for reading!  */
 142:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_ACCESS_ERROR);
 143:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 144:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 5


 145:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Determine if the requested allocation is for zero bytes.  */
 146:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (size == 0)
  86              		.loc 1 146 5 is_stmt 1 view .LVU21
  87              		.loc 1 146 8 is_stmt 0 view .LVU22
  88 002e 54EA0503 		orrs	r3, r4, r5
  89 0032 07D0     		beq	.L36
 147:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 148:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 149:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return a size allocated of zero.  */
 150:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         *actual_size_allocated =  0;
 151:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 152:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return a successful completion - nothing needs to be done.  */
 153:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_SUCCESS);
 154:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 155:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 156:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Setup pointer to associated media control block.  */
 157:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     media_ptr =  file_ptr -> fx_file_media_ptr;
  90              		.loc 1 157 5 is_stmt 1 view .LVU23
  91              		.loc 1 157 15 is_stmt 0 view .LVU24
  92 0034 876D     		ldr	r7, [r0, #88]
  93              	.LVL3:
 158:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 159:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 160:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_FILE_BEST_EFFORT_ALLOCATE, file_ptr, size, 0, 0, FX_TRACE_FILE
 161:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 162:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Protect against other threads accessing the media.  */
 163:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     FX_PROTECT
  94              		.loc 1 163 5 is_stmt 1 view .LVU25
  95 0036 3A68     		ldr	r2, [r7]
  96 0038 A14B     		ldr	r3, .L51+4
  97 003a 9A42     		cmp	r2, r3
  98 003c 0AD0     		beq	.L37
  99 003e 4FF01108 		mov	r8, #17
 100 0042 4CE1     		b	.L1
 101              	.LVL4:
 102              	.L36:
 150:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 103              		.loc 1 150 9 view .LVU26
 150:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 104              		.loc 1 150 32 is_stmt 0 view .LVU27
 105 0044 0022     		movs	r2, #0
 106              	.LVL5:
 150:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 107              		.loc 1 150 32 view .LVU28
 108 0046 0023     		movs	r3, #0
 109 0048 1699     		ldr	r1, [sp, #88]
 110 004a C1E90023 		strd	r2, [r1]
 153:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 111              		.loc 1 153 9 is_stmt 1 view .LVU29
 153:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 112              		.loc 1 153 15 is_stmt 0 view .LVU30
 113 004e 4FF00008 		mov	r8, #0
 114 0052 44E1     		b	.L1
 115              	.LVL6:
 116              	.L37:
 117              		.loc 1 163 5 is_stmt 1 discriminator 2 view .LVU31
 118 0054 07F5E473 		add	r3, r7, #456
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 6


 119 0058 0593     		str	r3, [sp, #20]
 120 005a 4FF0FF31 		mov	r1, #-1
 121 005e 1846     		mov	r0, r3
 122              	.LVL7:
 123              		.loc 1 163 5 is_stmt 0 discriminator 2 view .LVU32
 124 0060 FFF7FEFF 		bl	_tx_mutex_get
 125              	.LVL8:
 126 0064 0028     		cmp	r0, #0
 127 0066 40F04181 		bne	.L28
 164:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 165:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 166:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Start transaction. */
 167:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     _fx_fault_tolerant_transaction_start(media_ptr);
 168:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 169:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 170:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Check for write protect at the media level (set by driver).  */
 171:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (media_ptr -> fx_media_driver_write_protect)
 128              		.loc 1 171 5 is_stmt 1 view .LVU33
 129              		.loc 1 171 19 is_stmt 0 view .LVU34
 130 006a D7F8A8B0 		ldr	fp, [r7, #168]
 131              		.loc 1 171 8 view .LVU35
 132 006e BBF1000F 		cmp	fp, #0
 133 0072 2FD1     		bne	.L38
 172:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 173:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 174:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 175:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 176:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 177:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 178:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Release media protection.  */
 179:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_UNPROTECT
 180:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 181:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return write protect error.  */
 182:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_WRITE_PROTECT);
 183:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 184:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 185:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Calculate the number of bytes per cluster.  */
 186:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     bytes_per_cluster =  ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 134              		.loc 1 186 5 is_stmt 1 view .LVU36
 135              		.loc 1 186 44 is_stmt 0 view .LVU37
 136 0074 BB6A     		ldr	r3, [r7, #40]
 187:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 137              		.loc 1 187 27 view .LVU38
 138 0076 7A6D     		ldr	r2, [r7, #84]
 186:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 139              		.loc 1 186 23 view .LVU39
 140 0078 02FB03F3 		mul	r3, r2, r3
 141 007c 0693     		str	r3, [sp, #24]
 142              	.LVL9:
 188:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 189:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Check for invalid value.  */
 190:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (bytes_per_cluster == 0)
 143              		.loc 1 190 5 is_stmt 1 view .LVU40
 144              		.loc 1 190 8 is_stmt 0 view .LVU41
 145 007e 7BB3     		cbz	r3, .L39
 191:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 192:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 7


 193:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 194:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 195:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 196:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 197:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Release media protection.  */
 198:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_UNPROTECT
 199:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 200:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Invalid media, return error.  */
 201:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_MEDIA_INVALID);
 202:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 203:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 204:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Calculate the number of consecutive clusters needed to satisfy this
 205:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****        request.  */
 206:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     clusters =  (ULONG)(((size + bytes_per_cluster - 1) / bytes_per_cluster));
 146              		.loc 1 206 5 is_stmt 1 view .LVU42
 147              		.loc 1 206 32 is_stmt 0 view .LVU43
 148 0080 069A     		ldr	r2, [sp, #24]
 149 0082 0792     		str	r2, [sp, #28]
 150 0084 1419     		adds	r4, r2, r4
 151 0086 45F10001 		adc	r1, r5, #0
 152              		.loc 1 206 52 view .LVU44
 153 008a 601E     		subs	r0, r4, #1
 154              		.loc 1 206 57 view .LVU45
 155 008c 4FF00003 		mov	r3, #0
 156              	.LVL10:
 157              		.loc 1 206 57 view .LVU46
 158 0090 41F1FF31 		adc	r1, r1, #-1
 159 0094 FFF7FEFF 		bl	__aeabi_uldivmod
 160              	.LVL11:
 161              		.loc 1 206 57 view .LVU47
 162 0098 0990     		str	r0, [sp, #36]
 163 009a 0346     		mov	r3, r0
 164              		.loc 1 206 14 view .LVU48
 165 009c 8146     		mov	r9, r0
 166              	.LVL12:
 207:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     
 208:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Determine if cluster count is 0.  */
 209:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (clusters == 0)
 167              		.loc 1 209 5 is_stmt 1 view .LVU49
 168              		.loc 1 209 8 is_stmt 0 view .LVU50
 169 009e 28B3     		cbz	r0, .L40
 210:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 211:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 212:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 213:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 214:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 215:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 216:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Release media protection.  */
 217:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_UNPROTECT
 218:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 219:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Size overflow when rounding to the next cluster, return an error status.  */
 220:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_NO_MORE_SPACE);
 221:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 222:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 223:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Determine if there are no available clusters on the media.  */
 224:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (!media_ptr -> fx_media_available_clusters)
 170              		.loc 1 224 5 is_stmt 1 view .LVU51
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 8


 171              		.loc 1 224 20 is_stmt 0 view .LVU52
 172 00a0 FA6F     		ldr	r2, [r7, #124]
 173              		.loc 1 224 8 view .LVU53
 174 00a2 4AB3     		cbz	r2, .L41
 225:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 226:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 227:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 228:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 229:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 230:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 231:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Release media protection.  */
 232:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_UNPROTECT
 233:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 234:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return a size allocated of zero, since no clusters were available.  */
 235:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         *actual_size_allocated =  0;
 236:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 237:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Not enough clusters, return an error status.  */
 238:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_NO_MORE_SPACE);
 239:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 240:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 241:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Determine if the requested file allocation would exceed the physical limit of the file.  */
 242:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (((file_ptr -> fx_file_current_available_size + (((ULONG64) clusters) * ((ULONG64) bytes_per
 175              		.loc 1 242 5 is_stmt 1 view .LVU54
 176              		.loc 1 242 20 is_stmt 0 view .LVU55
 177 00a4 326D     		ldr	r2, [r6, #80]
 178 00a6 706D     		ldr	r0, [r6, #84]
 179              	.LVL13:
 180              		.loc 1 242 78 view .LVU56
 181 00a8 0799     		ldr	r1, [sp, #28]
 182 00aa A3FB0131 		umull	r3, r1, r3, r1
 183              	.LVL14:
 184              		.loc 1 242 54 view .LVU57
 185 00ae D318     		adds	r3, r2, r3
 186 00b0 41EB0001 		adc	r1, r1, r0
 187              		.loc 1 242 8 view .LVU58
 188 00b4 9342     		cmp	r3, r2
 189 00b6 71EB0002 		sbcs	r2, r1, r0
 190 00ba 28D3     		bcc	.L8
 191              		.loc 1 242 158 discriminator 1 view .LVU59
 192 00bc 4FF0FF32 		mov	r2, #-1
 193 00c0 9A42     		cmp	r2, r3
 194 00c2 4FF00003 		mov	r3, #0
 195 00c6 8B41     		sbcs	r3, r3, r1
 196 00c8 21D3     		bcc	.L8
 243:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         ((file_ptr -> fx_file_current_available_size + (((ULONG64) clusters) * ((ULONG64) bytes_per
 244:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 245:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 246:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 247:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 248:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 249:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 250:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Release media protection.  */
 251:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_UNPROTECT
 252:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 253:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return the no more space error, since the new file size would be larger than
 254:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****            the 32-bit field to represent it in the file's directory entry.  */
 255:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_NO_MORE_SPACE);
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 9


 256:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 257:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 258:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Now we need to find the consecutive clusters.  */
 259:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     found =             FX_FALSE;
 260:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 261:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if ((file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1) &&
 262:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         (file_ptr -> fx_file_last_physical_cluster > FX_FAT_ENTRY_START) &&
 263:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         (file_ptr -> fx_file_last_physical_cluster < media_ptr -> fx_media_total_clusters - cluster
 264:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 265:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         found = FX_TRUE;
 266:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 267:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Try to keep clusters consecutive.  */
 268:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         for (FAT_index = file_ptr -> fx_file_last_physical_cluster + 1;
 269:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****              FAT_index < clusters + file_ptr -> fx_file_last_physical_cluster + 1;
 270:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****              FAT_index++)
 271:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 272:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 273:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Get cluster state.  */
 274:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             status = _fx_utility_exFAT_cluster_state_get(media_ptr, FAT_index, &cluster_state);
 275:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 276:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Check for a successful status.  */
 277:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (status != FX_SUCCESS)
 278:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 279:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 280:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 281:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 282:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 283:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 284:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Release media protection.  */
 285:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 FX_UNPROTECT
 286:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 287:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Return the error status.  */
 288:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 return(status);
 289:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 290:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 291:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Determine if the entry is free.  */
 292:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (cluster_state == FX_EXFAT_BITMAP_CLUSTER_OCCUPIED)
 293:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 294:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 found = FX_FALSE;
 295:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 break;
 296:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 297:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 298:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FAT_index = file_ptr -> fx_file_last_physical_cluster + 1;
 299:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 300:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 301:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (!found)
 302:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 303:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 304:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FAT_index =         FX_FAT_ENTRY_START;
 305:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         maximum_clusters =  0;
 197              		.loc 1 305 26 view .LVU60
 198 00ca D846     		mov	r8, fp
 306:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         start_FAT_index =   FAT_index;
 199              		.loc 1 306 25 view .LVU61
 200 00cc 0223     		movs	r3, #2
 201 00ce 0893     		str	r3, [sp, #32]
 304:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         maximum_clusters =  0;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 10


 202              		.loc 1 304 19 view .LVU62
 203 00d0 1D46     		mov	r5, r3
 204 00d2 2FE0     		b	.L9
 205              	.LVL15:
 206              	.L38:
 179:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 207              		.loc 1 179 9 is_stmt 1 view .LVU63
 208 00d4 0598     		ldr	r0, [sp, #20]
 209 00d6 FFF7FEFF 		bl	_tx_mutex_put
 210              	.LVL16:
 182:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 211              		.loc 1 182 9 view .LVU64
 182:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 212              		.loc 1 182 15 is_stmt 0 view .LVU65
 213 00da 4FF02308 		mov	r8, #35
 214 00de FEE0     		b	.L1
 215              	.LVL17:
 216              	.L39:
 198:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 217              		.loc 1 198 9 is_stmt 1 view .LVU66
 218 00e0 0598     		ldr	r0, [sp, #20]
 219 00e2 FFF7FEFF 		bl	_tx_mutex_put
 220              	.LVL18:
 201:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 221              		.loc 1 201 9 view .LVU67
 201:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 222              		.loc 1 201 15 is_stmt 0 view .LVU68
 223 00e6 4FF00208 		mov	r8, #2
 224 00ea F8E0     		b	.L1
 225              	.LVL19:
 226              	.L40:
 217:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 227              		.loc 1 217 9 is_stmt 1 view .LVU69
 228 00ec 0598     		ldr	r0, [sp, #20]
 229              	.LVL20:
 217:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 230              		.loc 1 217 9 is_stmt 0 view .LVU70
 231 00ee FFF7FEFF 		bl	_tx_mutex_put
 232              	.LVL21:
 220:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 233              		.loc 1 220 9 is_stmt 1 view .LVU71
 220:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 234              		.loc 1 220 15 is_stmt 0 view .LVU72
 235 00f2 4FF00A08 		mov	r8, #10
 236 00f6 F2E0     		b	.L1
 237              	.LVL22:
 238              	.L41:
 232:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 239              		.loc 1 232 9 is_stmt 1 view .LVU73
 240 00f8 0598     		ldr	r0, [sp, #20]
 241              	.LVL23:
 232:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 242              		.loc 1 232 9 is_stmt 0 view .LVU74
 243 00fa FFF7FEFF 		bl	_tx_mutex_put
 244              	.LVL24:
 235:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 245              		.loc 1 235 9 is_stmt 1 view .LVU75
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 11


 235:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 246              		.loc 1 235 32 is_stmt 0 view .LVU76
 247 00fe 0022     		movs	r2, #0
 248 0100 0023     		movs	r3, #0
 249 0102 1699     		ldr	r1, [sp, #88]
 250 0104 C1E90023 		strd	r2, [r1]
 238:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 251              		.loc 1 238 9 is_stmt 1 view .LVU77
 238:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 252              		.loc 1 238 15 is_stmt 0 view .LVU78
 253 0108 4FF00A08 		mov	r8, #10
 254 010c E7E0     		b	.L1
 255              	.L8:
 251:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 256              		.loc 1 251 9 is_stmt 1 view .LVU79
 257 010e 0598     		ldr	r0, [sp, #20]
 258 0110 FFF7FEFF 		bl	_tx_mutex_put
 259              	.LVL25:
 255:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 260              		.loc 1 255 9 view .LVU80
 255:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 261              		.loc 1 255 15 is_stmt 0 view .LVU81
 262 0114 4FF00A08 		mov	r8, #10
 263 0118 E1E0     		b	.L1
 264              	.LVL26:
 265              	.L43:
 307:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 308:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         while (FAT_index < (media_ptr -> fx_media_total_clusters + FX_FAT_ENTRY_START))
 309:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 310:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 311:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Determine if enough consecutive FAT entries are available.  */
 312:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             i =  0;
 313:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 314:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 315:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 316:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 317:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 do
 318:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 319:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 320:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Get cluster state.  */
 321:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     status = _fx_utility_exFAT_cluster_state_get(media_ptr, (FAT_index + i), &clust
 322:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 323:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Check for a successful status.  */
 324:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     if (status != FX_SUCCESS)
 325:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 326:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 327:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 328:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 329:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 330:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 331:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Release media protection.  */
 332:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_UNPROTECT
 333:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 334:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Return the error status.  */
 335:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         return(status);
 336:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 337:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 12


 338:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Determine if the entry is free.  */
 339:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     if (cluster_state == FX_EXFAT_BITMAP_CLUSTER_OCCUPIED)
 340:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 341:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         break;
 342:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 343:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 344:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Otherwise, increment the consecutive FAT indices.  */
 345:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     i++;
 346:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 } while ((i < clusters) && ((FAT_index + i) < media_ptr -> fx_media_total_clusters 
 347:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 348:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             else
 349:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 350:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 351:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 352:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 do
 353:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 354:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 355:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Read a FAT entry.  */
 356:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     status =  _fx_utility_FAT_entry_read(media_ptr, (FAT_index + i), &FAT_value);
 357:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 358:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Check for a successful status.  */
 359:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     if (status != FX_SUCCESS)
 360:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 361:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 362:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 363:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 364:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 365:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 366:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Release media protection.  */
 367:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_UNPROTECT
 266              		.loc 1 367 25 view .LVU82
 267 011a 8046     		mov	r8, r0
 268              	.LVL27:
 269              		.loc 1 367 25 is_stmt 1 view .LVU83
 270 011c 0598     		ldr	r0, [sp, #20]
 271              	.LVL28:
 272              		.loc 1 367 25 is_stmt 0 view .LVU84
 273 011e FFF7FEFF 		bl	_tx_mutex_put
 274              	.LVL29:
 368:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 369:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Return the error status.  */
 370:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         return(status);
 275              		.loc 1 370 25 is_stmt 1 view .LVU85
 276              		.loc 1 370 31 is_stmt 0 view .LVU86
 277 0122 DCE0     		b	.L1
 278              	.LVL30:
 279              	.L11:
 371:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 372:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 373:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Determine if the entry is free.  */
 374:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     if (FAT_value != FX_FREE_CLUSTER)
 375:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 376:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         break;
 377:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 378:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 379:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Otherwise, increment the consecutive FAT indices.  */
 380:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     i++;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 13


 381:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 } while ((i < clusters) && ((FAT_index + i) < media_ptr -> fx_media_total_clusters 
 382:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 383:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 384:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 385:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 386:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Determine if a new maximum number of clusters has been found.  */
 387:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (i > maximum_clusters)
 280              		.loc 1 387 13 is_stmt 1 view .LVU87
 281              		.loc 1 387 16 is_stmt 0 view .LVU88
 282 0124 4445     		cmp	r4, r8
 283 0126 01D9     		bls	.L13
 388:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 389:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 390:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Yes, remember the maximum number of clusters and the starting
 391:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                    cluster.  */
 392:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 maximum_clusters =      i;
 284              		.loc 1 392 34 view .LVU89
 285 0128 A046     		mov	r8, r4
 286              	.LVL31:
 393:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 start_FAT_index =       FAT_index;
 287              		.loc 1 393 33 view .LVU90
 288 012a 0895     		str	r5, [sp, #32]
 289              	.LVL32:
 290              	.L13:
 394:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 395:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 396:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Determine if we found enough FAT entries.  */
 397:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (i >= clusters)
 291              		.loc 1 397 13 is_stmt 1 view .LVU91
 292              		.loc 1 397 16 is_stmt 0 view .LVU92
 293 012c 4C45     		cmp	r4, r9
 294 012e 35D2     		bcs	.L31
 398:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 399:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 400:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Yes, we have found enough FAT entries - set the found
 401:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                    flag and get out of this loop.  */
 402:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 found =  FX_TRUE;
 403:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 break;
 404:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 405:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             else
 406:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 407:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 408:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 409:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 410:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 411:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Find free cluster from exFAT media.  */
 412:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     status = _fx_utility_exFAT_bitmap_free_cluster_find(media_ptr,
 413:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                                                                         FAT_index + i + 1,
 414:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                                                                         &FAT_value);
 415:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     if (status != FX_SUCCESS)
 416:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 417:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 418:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 419:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 420:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 421:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 422:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Release media protection.  */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 14


 423:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_UNPROTECT
 424:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 425:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Return the error status.  */
 426:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         return(status);
 427:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 428:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 429:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     if (FAT_value < FAT_index + i + 1)
 430:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 431:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 432:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* If we wrapped.  */
 433:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FAT_index = media_ptr -> fx_media_total_clusters  + FX_FAT_ENTRY_START;
 434:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 435:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     else
 436:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 437:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FAT_index = FAT_value;
 438:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 439:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 440:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 else
 441:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 442:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 443:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 444:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Position to the next possibly free FAT entry.  */
 445:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FAT_index =  FAT_index + i + 1;
 295              		.loc 1 445 21 is_stmt 1 view .LVU93
 296              		.loc 1 445 44 is_stmt 0 view .LVU94
 297 0130 2C44     		add	r4, r4, r5
 298              	.LVL33:
 299              		.loc 1 445 31 view .LVU95
 300 0132 651C     		adds	r5, r4, #1
 301              	.LVL34:
 302              	.L9:
 308:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 303              		.loc 1 308 15 is_stmt 1 view .LVU96
 308:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 304              		.loc 1 308 39 is_stmt 0 view .LVU97
 305 0134 3B6C     		ldr	r3, [r7, #64]
 308:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 306              		.loc 1 308 66 view .LVU98
 307 0136 0233     		adds	r3, r3, #2
 308:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 308              		.loc 1 308 15 view .LVU99
 309 0138 AB42     		cmp	r3, r5
 310 013a 13D9     		bls	.L42
 312:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 311              		.loc 1 312 15 view .LVU100
 312 013c 5C46     		mov	r4, fp
 313              	.L12:
 314              	.LVL35:
 352:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 315              		.loc 1 352 17 is_stmt 1 view .LVU101
 356:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 316              		.loc 1 356 21 view .LVU102
 356:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 317              		.loc 1 356 31 is_stmt 0 view .LVU103
 318 013e 0BAA     		add	r2, sp, #44
 319 0140 6119     		adds	r1, r4, r5
 320 0142 3846     		mov	r0, r7
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 15


 321 0144 FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 322              	.LVL36:
 359:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 323              		.loc 1 359 21 is_stmt 1 view .LVU104
 359:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 324              		.loc 1 359 24 is_stmt 0 view .LVU105
 325 0148 0028     		cmp	r0, #0
 326 014a E6D1     		bne	.L43
 374:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 327              		.loc 1 374 21 is_stmt 1 view .LVU106
 374:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 328              		.loc 1 374 35 is_stmt 0 view .LVU107
 329 014c 0B9B     		ldr	r3, [sp, #44]
 374:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 330              		.loc 1 374 24 view .LVU108
 331 014e 002B     		cmp	r3, #0
 332 0150 E8D1     		bne	.L11
 380:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 } while ((i < clusters) && ((FAT_index + i) < media_ptr -> fx_media_total_clusters 
 333              		.loc 1 380 21 is_stmt 1 view .LVU109
 380:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 } while ((i < clusters) && ((FAT_index + i) < media_ptr -> fx_media_total_clusters 
 334              		.loc 1 380 22 is_stmt 0 view .LVU110
 335 0152 0134     		adds	r4, r4, #1
 336              	.LVL37:
 381:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 337              		.loc 1 381 25 is_stmt 1 view .LVU111
 381:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 338              		.loc 1 381 17 is_stmt 0 view .LVU112
 339 0154 A145     		cmp	r9, r4
 340 0156 E5D9     		bls	.L11
 381:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 341              		.loc 1 381 56 discriminator 1 view .LVU113
 342 0158 2A19     		adds	r2, r5, r4
 381:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 343              		.loc 1 381 73 discriminator 1 view .LVU114
 344 015a 3B6C     		ldr	r3, [r7, #64]
 381:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 345              		.loc 1 381 100 discriminator 1 view .LVU115
 346 015c 0233     		adds	r3, r3, #2
 381:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 347              		.loc 1 381 41 discriminator 1 view .LVU116
 348 015e 9A42     		cmp	r2, r3
 349 0160 EDD3     		bcc	.L12
 350 0162 DFE7     		b	.L11
 351              	.LVL38:
 352              	.L42:
 259:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 353              		.loc 1 259 11 view .LVU117
 354 0164 C146     		mov	r9, r8
 355              	.LVL39:
 259:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 356              		.loc 1 259 11 view .LVU118
 357 0166 5B46     		mov	r3, fp
 358              	.L14:
 359              	.LVL40:
 446:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 447:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 448:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 16


 449:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 450:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 451:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 452:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Determine if the total request could not be satisfied, but a partial allocation
 453:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****            could be satisfied.  */
 454:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (maximum_clusters)
 360              		.loc 1 454 9 is_stmt 1 view .LVU119
 361              		.loc 1 454 12 is_stmt 0 view .LVU120
 362 0168 4A46     		mov	r2, r9
 363 016a 1AB9     		cbnz	r2, .L15
 364              	.LVL41:
 206:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     
 365              		.loc 1 206 14 view .LVU121
 366 016c 099A     		ldr	r2, [sp, #36]
 367              	.LVL42:
 206:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     
 368              		.loc 1 206 14 view .LVU122
 369 016e 9146     		mov	r9, r2
 370              		.loc 1 454 12 view .LVU123
 371 0170 0895     		str	r5, [sp, #32]
 372              	.LVL43:
 373              		.loc 1 454 12 view .LVU124
 374 0172 9A46     		mov	r10, r3
 375              	.L15:
 376              	.LVL44:
 455:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 456:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 457:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Yes, there was at least one cluster.  Prepare to return this
 458:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                to the caller.  */
 459:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             FAT_index =  start_FAT_index;
 460:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             clusters =   maximum_clusters;
 461:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             found =      FX_TRUE;
 462:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 463:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 464:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 465:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif
 466:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 467:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Determine if we found enough consecutive clusters to satisfy the
 468:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****        request.  */
 469:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (found)
 377              		.loc 1 469 5 is_stmt 1 view .LVU125
 378              		.loc 1 469 8 is_stmt 0 view .LVU126
 379 0174 BAF1000F 		cmp	r10, #0
 380 0178 00F0A480 		beq	.L44
 381 017c 089D     		ldr	r5, [sp, #32]
 382 017e 4C46     		mov	r4, r9
 383              	.LVL45:
 384              	.L16:
 470:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 471:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 472:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 473:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (media_ptr -> fx_media_fault_tolerant_enabled)
 474:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 475:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 476:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Record the FAT chain being applied to the file system. This information aids
 477:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                recovery effort if fault happens. */
 478:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             media_ptr -> fx_media_fault_tolerant_state |= FX_FAULT_TOLERANT_STATE_SET_FAT_CHAIN;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 17


 479:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             _fx_fault_tolerant_set_FAT_chain(media_ptr, FX_FALSE, file_ptr -> fx_file_last_physical
 480:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                                              FAT_index, media_ptr -> fx_media_fat_last, media_ptr -
 481:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 482:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 483:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 484:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 485:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 486:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 487:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if ((file_ptr -> fx_file_total_clusters) &&
 488:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 (FAT_index != file_ptr -> fx_file_last_physical_cluster + 1))
 489:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 490:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 491:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Clusters are not consecutive.  */
 492:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat &= (CHAR)0xfe; /* Set 0bit 
 493:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 494:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Rebuild FAT.  */
 495:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 FAT_value = file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster +
 496:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                             file_ptr -> fx_file_total_clusters - 1; /* Last cluster */
 497:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 498:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 for (i = file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster; i < FAT_value; ++i)
 499:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 500:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     status = _fx_utility_FAT_entry_write(media_ptr, i, i + 1);
 501:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     if (status != FX_SUCCESS)
 502:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     {
 503:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 504:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 505:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 506:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 507:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 508:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Release media protection.  */
 509:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         FX_UNPROTECT
 510:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 511:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         /* Return the bad status.  */
 512:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         return(status);
 513:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     }
 514:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 515:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 516:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Close chain.  */
 517:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 status = _fx_utility_FAT_entry_write(media_ptr, FAT_value, media_ptr -> fx_media_fa
 518:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (status != FX_SUCCESS)
 519:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 520:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 521:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 522:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 523:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 524:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 525:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Release media protection.  */
 526:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_UNPROTECT
 527:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 528:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Return the bad status.  */
 529:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     return(status);
 530:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 531:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 532:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 533:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (media_ptr -> fx_media_fault_tolerant_enabled)
 534:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 535:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 18


 536:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Clear the Fault Tolerant Set FAT Chain flag. */
 537:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     media_ptr -> fx_media_fault_tolerant_state &= (UCHAR)(~FX_FAULT_TOLERANT_STATE_
 538:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 539:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 540:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 541:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Update stream.  */
 542:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 status = _fx_directory_exFAT_entry_write(
 543:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                         media_ptr, &(file_ptr -> fx_file_dir_entry), UPDATE_STREAM);
 544:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 545:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (status != FX_SUCCESS)
 546:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 547:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 548:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 549:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 550:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 551:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 552:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Release media protection.  */
 553:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_UNPROTECT
 554:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 555:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Return the bad status.  */
 556:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     return(status);
 557:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 558:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 559:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 560:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (media_ptr -> fx_media_fault_tolerant_enabled)
 561:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 562:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 563:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Set undo phase. */
 564:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     media_ptr -> fx_media_fault_tolerant_state |= FX_FAULT_TOLERANT_STATE_SET_FAT_C
 565:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 566:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 567:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 568:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 569:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 570:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 571:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Update the link pointers in the new clusters.  */
 572:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         for (i = 0; i < (clusters - 1); i++)
 385              		.loc 1 572 21 is_stmt 1 discriminator 1 view .LVU127
 386              		.loc 1 572 35 is_stmt 0 discriminator 1 view .LVU128
 387 0180 631E     		subs	r3, r4, #1
 388              		.loc 1 572 9 discriminator 1 view .LVU129
 389 0182 5B45     		cmp	r3, fp
 390 0184 11D9     		bls	.L45
 573:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 574:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 575:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 576:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 577:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 || (media_ptr -> fx_media_fault_tolerant_enabled == FX_TRUE)
 578:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 579:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                )
 580:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 581:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 582:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 583:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Update the cluster links.  Since the allocation is
 584:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                    sequential, we just have to link each FAT entry to the
 585:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                    next one.  */
 586:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 status =  _fx_utility_FAT_entry_write(media_ptr, FAT_index + i, FAT_index + i + 1);
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 19


 391              		.loc 1 586 17 is_stmt 1 view .LVU130
 392              		.loc 1 586 27 is_stmt 0 view .LVU131
 393 0186 0BEB0501 		add	r1, fp, r5
 394 018a 4A1C     		adds	r2, r1, #1
 395 018c 3846     		mov	r0, r7
 396 018e FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 397              	.LVL46:
 587:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 588:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Check for a bad status.  */
 589:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (status != FX_SUCCESS)
 398              		.loc 1 589 17 is_stmt 1 view .LVU132
 399              		.loc 1 589 20 is_stmt 0 view .LVU133
 400 0192 8046     		mov	r8, r0
 401 0194 28B9     		cbnz	r0, .L46
 572:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 402              		.loc 1 572 41 is_stmt 1 discriminator 2 view .LVU134
 572:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 403              		.loc 1 572 42 is_stmt 0 discriminator 2 view .LVU135
 404 0196 0BF1010B 		add	fp, fp, #1
 405              	.LVL47:
 572:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 406              		.loc 1 572 42 discriminator 2 view .LVU136
 407 019a F1E7     		b	.L16
 408              	.LVL48:
 409              	.L31:
 402:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 break;
 410              		.loc 1 402 23 view .LVU137
 411 019c C146     		mov	r9, r8
 412              	.LVL49:
 402:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 break;
 413              		.loc 1 402 23 view .LVU138
 414 019e 5346     		mov	r3, r10
 415 01a0 E2E7     		b	.L14
 416              	.LVL50:
 417              	.L46:
 590:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 591:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 592:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 593:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 594:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 595:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 596:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Release media protection.  */
 597:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_UNPROTECT
 418              		.loc 1 597 21 is_stmt 1 view .LVU139
 419 01a2 0598     		ldr	r0, [sp, #20]
 420              	.LVL51:
 421              		.loc 1 597 21 is_stmt 0 view .LVU140
 422 01a4 FFF7FEFF 		bl	_tx_mutex_put
 423              	.LVL52:
 598:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 599:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Return the error status.  */
 600:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     return(status);
 424              		.loc 1 600 21 is_stmt 1 view .LVU141
 425              		.loc 1 600 27 is_stmt 0 view .LVU142
 426 01a8 99E0     		b	.L1
 427              	.LVL53:
 428              	.L45:
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 20


 601:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 602:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 603:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 604:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 605:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 606:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 607:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 608:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Mark the cluster as used.  */
 609:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 status = _fx_utility_exFAT_cluster_state_set(media_ptr, FAT_index + i, FX_EXFAT_BIT
 610:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 611:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Check for a bad status.  */
 612:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (status != FX_SUCCESS)
 613:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 614:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 615:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 616:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 617:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 618:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 619:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Release media protection.  */
 620:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_UNPROTECT
 621:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 622:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Return the error status.  */
 623:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     return(status);
 624:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 625:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 626:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 627:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 628:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 629:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 630:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 631:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 632:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 633:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 634:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Now place an EOF in the last cluster entry.  */
 635:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             status =  _fx_utility_FAT_entry_write(media_ptr, FAT_index + clusters - 1, media_ptr ->
 429              		.loc 1 635 13 is_stmt 1 view .LVU143
 430              		.loc 1 635 72 is_stmt 0 view .LVU144
 431 01aa 089B     		ldr	r3, [sp, #32]
 432 01ac 4A46     		mov	r2, r9
 433 01ae 9C18     		adds	r4, r3, r2
 434              	.LVL54:
 435              		.loc 1 635 23 view .LVU145
 436 01b0 013C     		subs	r4, r4, #1
 437 01b2 07F50053 		add	r3, r7, #8192
 438 01b6 D3F8AC24 		ldr	r2, [r3, #1196]
 439 01ba 2146     		mov	r1, r4
 440 01bc 3846     		mov	r0, r7
 441 01be FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 442              	.LVL55:
 636:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 637:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Check for a bad status.  */
 638:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (status != FX_SUCCESS)
 443              		.loc 1 638 13 is_stmt 1 view .LVU146
 444              		.loc 1 638 16 is_stmt 0 view .LVU147
 445 01c2 8046     		mov	r8, r0
 446 01c4 0028     		cmp	r0, #0
 447 01c6 49D1     		bne	.L47
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 21


 639:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 640:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 641:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 642:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 643:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 644:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 645:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Release media protection.  */
 646:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 FX_UNPROTECT
 647:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 648:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Return the error status.  */
 649:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 return(status);
 650:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 651:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 652:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 653:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 654:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 655:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 656:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 657:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Mark the cluster as used.  */
 658:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             status = _fx_utility_exFAT_cluster_state_set(media_ptr, FAT_index + clusters - 1, FX_EX
 659:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 660:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Check for a bad status.  */
 661:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (status != FX_SUCCESS)
 662:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 663:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 664:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 665:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 666:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 667:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 668:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Release media protection.  */
 669:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 FX_UNPROTECT
 670:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 671:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Return the error status.  */
 672:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 return(status);
 673:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 674:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 675:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 676:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 677:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_FAULT_TOLERANT
 678:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 679:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Flush the cached individual FAT entries */
 680:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         _fx_utility_FAT_flush(media_ptr);
 681:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 682:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 683:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 684:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             _fx_utility_exFAT_bitmap_flush(media_ptr);
 685:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 686:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 687:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif
 688:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 689:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Actually link up the new clusters to the file.  */
 690:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 691:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Determine if there are already clusters allocated for this file.  */
 692:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (file_ptr -> fx_file_total_clusters)
 448              		.loc 1 692 9 is_stmt 1 view .LVU148
 449              		.loc 1 692 22 is_stmt 0 view .LVU149
 450 01c8 3369     		ldr	r3, [r6, #16]
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 22


 451              		.loc 1 692 12 view .LVU150
 452 01ca 002B     		cmp	r3, #0
 453 01cc 4AD1     		bne	.L48
 693:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 694:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 695:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 696:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (!(file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1))
 697:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 698:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 699:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 700:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Linkup the last cluster.  */
 701:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 status =  _fx_utility_FAT_entry_write(media_ptr,
 702:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 703:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 704:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Check for a bad status.  */
 705:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 if (status != FX_SUCCESS)
 706:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 707:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 708:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 709:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 710:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 711:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 712:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Release media protection.  */
 713:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     FX_UNPROTECT
 714:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 715:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     /* Return the error status.  */
 716:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     return(status);
 717:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 718:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 719:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 720:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 721:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 722:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Determine if we are adding a sector after a write filled the previously
 723:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                allocated cluster exactly.  */
 724:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if ((file_ptr -> fx_file_current_relative_sector >=
 725:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                  (media_ptr -> fx_media_sectors_per_cluster - 1)) &&            
 726:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 727:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     media_ptr -> fx_media_bytes_per_sector))
 728:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 729:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 730:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Yes, we need to adjust all of the pertinent file parameters for
 731:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                    access into this newly allocated cluster.  */
 732:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_physical_cluster =  FAT_index;
 733:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_cluster++;
 734:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 735:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_
 736:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 737:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                      ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 738:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_logical_offset =    0;
 739:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 740:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 741:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         else
 742:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 743:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 744:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* These new clusters are also the first!  Setup the initial
 745:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                file parameters.  */
 746:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_first_physical_cluster =    FAT_index;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 23


 454              		.loc 1 746 13 is_stmt 1 view .LVU151
 455              		.loc 1 746 56 is_stmt 0 view .LVU152
 456 01ce 089D     		ldr	r5, [sp, #32]
 457              	.LVL56:
 458              		.loc 1 746 56 view .LVU153
 459 01d0 7561     		str	r5, [r6, #20]
 747:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_physical_cluster =  file_ptr -> fx_file_first_physical_clus
 460              		.loc 1 747 13 is_stmt 1 view .LVU154
 461              		.loc 1 747 58 is_stmt 0 view .LVU155
 462 01d2 3562     		str	r5, [r6, #32]
 748:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_relative_cluster =  0;
 463              		.loc 1 748 13 is_stmt 1 view .LVU156
 464              		.loc 1 748 58 is_stmt 0 view .LVU157
 465 01d4 0021     		movs	r1, #0
 466 01d6 7163     		str	r1, [r6, #52]
 749:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 467              		.loc 1 749 13 is_stmt 1 view .LVU158
 468              		.loc 1 749 79 is_stmt 0 view .LVU159
 469 01d8 3A6D     		ldr	r2, [r7, #80]
 750:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 (((ULONG64)(file_ptr -> fx_file_first_physical_cluster - FX_FAT_ENTRY_START)) *
 470              		.loc 1 750 72 view .LVU160
 471 01da A81E     		subs	r0, r5, #2
 472              	.LVL57:
 751:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                  ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 473              		.loc 1 751 36 view .LVU161
 474 01dc 7B6D     		ldr	r3, [r7, #84]
 750:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 (((ULONG64)(file_ptr -> fx_file_first_physical_cluster - FX_FAT_ENTRY_START)) *
 475              		.loc 1 750 95 view .LVU162
 476 01de A0FB0303 		umull	r0, r3, r0, r3
 749:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 477              		.loc 1 749 110 view .LVU163
 478 01e2 1218     		adds	r2, r2, r0
 479 01e4 43F10003 		adc	r3, r3, #0
 749:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_sect
 480              		.loc 1 749 56 view .LVU164
 481 01e8 B262     		str	r2, [r6, #40]
 482 01ea F362     		str	r3, [r6, #44]
 752:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_logical_offset =    0;
 483              		.loc 1 752 13 is_stmt 1 view .LVU165
 484              		.loc 1 752 56 is_stmt 0 view .LVU166
 485 01ec 3163     		str	r1, [r6, #48]
 753:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_file_offset =       0;
 486              		.loc 1 753 13 is_stmt 1 view .LVU167
 487              		.loc 1 753 53 is_stmt 0 view .LVU168
 488 01ee 0022     		movs	r2, #0
 489 01f0 0023     		movs	r3, #0
 490 01f2 C6E91023 		strd	r2, [r6, #64]
 754:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 755:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Setup the consecutive clusters at the beginning of the file.  */
 756:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_consecutive_cluster =       clusters;
 491              		.loc 1 756 13 is_stmt 1 view .LVU169
 492              		.loc 1 756 53 is_stmt 0 view .LVU170
 493 01f6 C6F81890 		str	r9, [r6, #24]
 757:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 758:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Update the first cluster in the directory entry.  */
 759:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_dir_entry.fx_dir_entry_cluster =  FAT_index;
 494              		.loc 1 759 13 is_stmt 1 view .LVU171
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 24


 495              		.loc 1 759 64 is_stmt 0 view .LVU172
 496 01fa C6F89C50 		str	r5, [r6, #156]
 497              	.L23:
 760:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 761:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 762:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             if (media_ptr -> fx_media_fault_tolerant_enabled)
 763:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 764:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 765:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 /* Clear undo phase. */
 766:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 media_ptr -> fx_media_fault_tolerant_state &= (UCHAR)(~FX_FAULT_TOLERANT_STATE_SET_
 767:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 768:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 769:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 770:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 771:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Remember the last physical cluster.  */
 772:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         file_ptr -> fx_file_last_physical_cluster =     FAT_index + clusters - 1;
 498              		.loc 1 772 9 is_stmt 1 view .LVU173
 499              		.loc 1 772 51 is_stmt 0 view .LVU174
 500 01fe F461     		str	r4, [r6, #28]
 773:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 774:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Update the available size.  */
 775:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 776:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (file_ptr -> fx_file_current_available_size > (file_ptr -> fx_file_current_available_siz
 777:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 778:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* 64-bit wrap around condition is present.  Just set the available file size to all on
 779:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                the maximum file size.  */
 780:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_available_size =  0xFFFFFFFFFFFFFFFFULL;
 781:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 782:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 783:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Check for wrap-around when updating the available size.  */
 784:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if ((media_ptr -> fx_media_FAT_type != FX_exFAT) &&
 785:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             (file_ptr -> fx_file_current_available_size + (bytes_per_cluster * clusters) > 0xFFFFFF
 786:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 787:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 788:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* 32-bit wrap around condition is present.  Just set the available file size to all on
 789:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                the maximum file size.  */
 790:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_available_size =  0xFFFFFFFFUL;
 791:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 792:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         else
 793:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 794:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 795:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 796:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Normal condition, update the available size.  */
 797:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_available_size =
 501              		.loc 1 797 13 is_stmt 1 view .LVU175
 798:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_available_size + bytes_per_cluster * clusters;
 502              		.loc 1 798 26 is_stmt 0 view .LVU176
 503 0200 326D     		ldr	r2, [r6, #80]
 504 0202 716D     		ldr	r1, [r6, #84]
 505              		.loc 1 798 80 view .LVU177
 506 0204 069B     		ldr	r3, [sp, #24]
 507 0206 4846     		mov	r0, r9
 508 0208 00FB03F3 		mul	r3, r0, r3
 509              		.loc 1 798 60 view .LVU178
 510 020c D318     		adds	r3, r2, r3
 511 020e 41F10001 		adc	r1, r1, #0
 797:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_available_size + bytes_per_cluster * clusters;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 25


 512              		.loc 1 797 56 view .LVU179
 513 0212 3365     		str	r3, [r6, #80]
 514 0214 7165     		str	r1, [r6, #84]
 799:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 800:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 801:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 802:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (file_ptr -> fx_file_dir_entry.fx_dir_entry_dont_use_fat & 1)
 803:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 804:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_consecutive_cluster += clusters;
 805:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 806:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 807:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 808:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Increment the total clusters for this file.  */
 809:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         file_ptr -> fx_file_total_clusters =
 515              		.loc 1 809 9 is_stmt 1 view .LVU180
 810:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_total_clusters + clusters;
 516              		.loc 1 810 22 is_stmt 0 view .LVU181
 517 0216 3369     		ldr	r3, [r6, #16]
 518              		.loc 1 810 48 view .LVU182
 519 0218 4B44     		add	r3, r3, r9
 809:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_total_clusters + clusters;
 520              		.loc 1 809 44 view .LVU183
 521 021a 3361     		str	r3, [r6, #16]
 811:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 812:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Decrease the available clusters on the media.  */
 813:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         media_ptr -> fx_media_available_clusters =
 522              		.loc 1 813 9 is_stmt 1 view .LVU184
 814:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             media_ptr -> fx_media_available_clusters - clusters;
 523              		.loc 1 814 23 is_stmt 0 view .LVU185
 524 021c FB6F     		ldr	r3, [r7, #124]
 525              		.loc 1 814 54 view .LVU186
 526 021e 1B1A     		subs	r3, r3, r0
 813:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             media_ptr -> fx_media_available_clusters - clusters;
 527              		.loc 1 813 50 view .LVU187
 528 0220 FB67     		str	r3, [r7, #124]
 815:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 816:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return the actual size allocated.  */
 817:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         *actual_size_allocated =  ((ULONG64)clusters) * bytes_per_cluster;
 529              		.loc 1 817 9 is_stmt 1 view .LVU188
 530              		.loc 1 817 55 is_stmt 0 view .LVU189
 531 0222 079B     		ldr	r3, [sp, #28]
 532 0224 A3FB0923 		umull	r2, r3, r3, r9
 533              		.loc 1 817 32 view .LVU190
 534 0228 1699     		ldr	r1, [sp, #88]
 535 022a 0A60     		str	r2, [r1]
 536 022c 4B60     		str	r3, [r1, #4]
 818:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 819:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #if defined(FX_UPDATE_FILE_SIZE_ON_ALLOCATE) || defined(FX_ENABLE_FAULT_TOLERANT)
 820:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 821:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Set the file size the current size plus what what was added.  */
 822:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (size < *actual_size_allocated)
 823:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 824:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_file_size +=  size;
 825:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 826:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         else
 827:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 828:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             file_ptr -> fx_file_current_file_size +=  *actual_size_allocated;
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 26


 829:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 830:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 831:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Copy the new file size into the directory entry.  */
 832:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         file_ptr -> fx_file_dir_entry.fx_dir_entry_file_size =  file_ptr -> fx_file_current_file_si
 833:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif
 834:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 835:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Update the trace event with the bytes allocated.  */
 836:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_TRACE_EVENT_UPDATE(trace_event, trace_timestamp, FX_TRACE_FILE_BEST_EFFORT_ALLOCATE, 0, 
 537              		.loc 1 836 129 is_stmt 1 view .LVU191
 837:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 838:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Write the directory entry to the media.  */
 839:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 840:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 841:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 842:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             status = _fx_directory_exFAT_entry_write(
 843:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     media_ptr, &(file_ptr -> fx_file_dir_entry), UPDATE_STREAM);
 844:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 845:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         else
 846:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 847:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 848:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             status = _fx_directory_entry_write(media_ptr, &(file_ptr -> fx_file_dir_entry));
 538              		.loc 1 848 13 view .LVU192
 539              		.loc 1 848 22 is_stmt 0 view .LVU193
 540 022e 06F16801 		add	r1, r6, #104
 541 0232 3846     		mov	r0, r7
 542 0234 FFF7FEFF 		bl	_fx_directory_entry_write
 543              	.LVL58:
 849:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_EXFAT
 850:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 851:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_EXFAT */
 852:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 853:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Check for a good status.  */
 854:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         if (status != FX_SUCCESS)
 544              		.loc 1 854 9 is_stmt 1 view .LVU194
 545              		.loc 1 854 12 is_stmt 0 view .LVU195
 546 0238 8046     		mov	r8, r0
 547 023a 0028     		cmp	r0, #0
 548 023c 39D1     		bne	.L49
 855:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         {
 856:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 857:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 858:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 859:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 860:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 861:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Release media protection.  */
 862:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             FX_UNPROTECT
 863:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 864:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             /* Return the error status.  */
 865:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             return(status);
 866:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 867:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 868:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     else
 869:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 870:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 871:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 872:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 873:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 27


 874:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 875:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Release media protection.  */
 876:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_UNPROTECT
 877:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 878:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return a size allocated of zero, since no clusters were available.  */
 879:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         *actual_size_allocated =  0;
 880:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 881:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Not enough contiguous space on the media.  Return error status.  */
 882:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(FX_NO_MORE_SPACE);
 883:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 884:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 885:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_FAULT_TOLERANT
 886:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 887:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Flush the cached individual FAT entries */
 888:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     _fx_utility_FAT_flush(media_ptr);
 889:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif
 890:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 891:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Flush the internal logical sector cache.  */
 892:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     status =  _fx_utility_logical_sector_flush(media_ptr, ((ULONG64) 1), (ULONG64) (media_ptr -> fx
 549              		.loc 1 892 5 is_stmt 1 view .LVU196
 550              		.loc 1 892 95 is_stmt 0 view .LVU197
 551 023e BA6D     		ldr	r2, [r7, #88]
 552              		.loc 1 892 15 view .LVU198
 553 0240 0023     		movs	r3, #0
 554 0242 0293     		str	r3, [sp, #8]
 555 0244 0092     		str	r2, [sp]
 556 0246 0193     		str	r3, [sp, #4]
 557 0248 0122     		movs	r2, #1
 558 024a 0023     		movs	r3, #0
 559 024c 3846     		mov	r0, r7
 560              	.LVL59:
 561              		.loc 1 892 15 view .LVU199
 562 024e FFF7FEFF 		bl	_fx_utility_logical_sector_flush
 563              	.LVL60:
 564 0252 8046     		mov	r8, r0
 565              	.LVL61:
 893:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 894:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 895:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Check for a bad status.  */
 896:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     if (status != FX_SUCCESS)
 897:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     {
 898:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 899:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 900:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 901:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Release media protection.  */
 902:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         FX_UNPROTECT
 903:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 904:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         /* Return the bad status.  */
 905:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         return(status);
 906:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 907:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 908:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* End transaction. */
 909:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     status = _fx_fault_tolerant_transaction_end(media_ptr);
 910:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 911:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 912:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Release media protection.  */
 913:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     FX_UNPROTECT
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 28


 566              		.loc 1 913 5 is_stmt 1 view .LVU200
 567 0254 0598     		ldr	r0, [sp, #20]
 568              	.LVL62:
 569              		.loc 1 913 5 is_stmt 0 view .LVU201
 570 0256 FFF7FEFF 		bl	_tx_mutex_put
 571              	.LVL63:
 914:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 915:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     /* Return status to the caller.  */
 916:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     return(status);
 572              		.loc 1 916 5 is_stmt 1 view .LVU202
 573              		.loc 1 916 11 is_stmt 0 view .LVU203
 574 025a 40E0     		b	.L1
 575              	.LVL64:
 576              	.L47:
 646:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 577              		.loc 1 646 17 is_stmt 1 view .LVU204
 578 025c 0598     		ldr	r0, [sp, #20]
 579              	.LVL65:
 646:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 580              		.loc 1 646 17 is_stmt 0 view .LVU205
 581 025e FFF7FEFF 		bl	_tx_mutex_put
 582              	.LVL66:
 649:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 583              		.loc 1 649 17 is_stmt 1 view .LVU206
 649:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 584              		.loc 1 649 23 is_stmt 0 view .LVU207
 585 0262 3CE0     		b	.L1
 586              	.LVL67:
 587              	.L48:
 701:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 588              		.loc 1 701 17 is_stmt 1 view .LVU208
 701:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 589              		.loc 1 701 27 is_stmt 0 view .LVU209
 590 0264 089A     		ldr	r2, [sp, #32]
 591 0266 F169     		ldr	r1, [r6, #28]
 592 0268 3846     		mov	r0, r7
 593              	.LVL68:
 701:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                                                       file_ptr -> fx_file_last_physical_cluster, FA
 594              		.loc 1 701 27 view .LVU210
 595 026a FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 596              	.LVL69:
 705:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 597              		.loc 1 705 17 is_stmt 1 view .LVU211
 705:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 {
 598              		.loc 1 705 20 is_stmt 0 view .LVU212
 599 026e 8046     		mov	r8, r0
 600 0270 D8B9     		cbnz	r0, .L50
 724:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                  (media_ptr -> fx_media_sectors_per_cluster - 1)) &&            
 601              		.loc 1 724 13 is_stmt 1 view .LVU213
 724:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                  (media_ptr -> fx_media_sectors_per_cluster - 1)) &&            
 602              		.loc 1 724 27 is_stmt 0 view .LVU214
 603 0272 B26B     		ldr	r2, [r6, #56]
 725:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 604              		.loc 1 725 29 view .LVU215
 605 0274 7B6D     		ldr	r3, [r7, #84]
 725:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 606              		.loc 1 725 61 view .LVU216
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 29


 607 0276 013B     		subs	r3, r3, #1
 724:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                  (media_ptr -> fx_media_sectors_per_cluster - 1)) &&            
 608              		.loc 1 724 16 view .LVU217
 609 0278 9A42     		cmp	r2, r3
 610 027a C0D3     		bcc	.L23
 726:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     media_ptr -> fx_media_bytes_per_sector))
 611              		.loc 1 726 27 view .LVU218
 612 027c 326B     		ldr	r2, [r6, #48]
 727:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             {
 613              		.loc 1 727 31 view .LVU219
 614 027e BB6A     		ldr	r3, [r7, #40]
 725:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 (file_ptr -> fx_file_current_logical_offset >=
 615              		.loc 1 725 67 view .LVU220
 616 0280 9A42     		cmp	r2, r3
 617 0282 BCD3     		bcc	.L23
 732:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_cluster++;
 618              		.loc 1 732 17 is_stmt 1 view .LVU221
 732:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_cluster++;
 619              		.loc 1 732 62 is_stmt 0 view .LVU222
 620 0284 0898     		ldr	r0, [sp, #32]
 621              	.LVL70:
 732:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_cluster++;
 622              		.loc 1 732 62 view .LVU223
 623 0286 3062     		str	r0, [r6, #32]
 733:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 624              		.loc 1 733 17 is_stmt 1 view .LVU224
 733:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 625              		.loc 1 733 26 is_stmt 0 view .LVU225
 626 0288 736B     		ldr	r3, [r6, #52]
 733:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_relative_sector =   0;
 627              		.loc 1 733 61 view .LVU226
 628 028a 0133     		adds	r3, r3, #1
 629 028c 7363     		str	r3, [r6, #52]
 734:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_
 630              		.loc 1 734 17 is_stmt 1 view .LVU227
 734:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_logical_sector =    ((ULONG)media_ptr -> fx_media_data_
 631              		.loc 1 734 61 is_stmt 0 view .LVU228
 632 028e 0021     		movs	r1, #0
 633 0290 B163     		str	r1, [r6, #56]
 735:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 634              		.loc 1 735 17 is_stmt 1 view .LVU229
 735:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 635              		.loc 1 735 83 is_stmt 0 view .LVU230
 636 0292 3A6D     		ldr	r2, [r7, #80]
 736:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                      ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 637              		.loc 1 736 43 view .LVU231
 638 0294 0238     		subs	r0, r0, #2
 737:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 file_ptr -> fx_file_current_logical_offset =    0;
 639              		.loc 1 737 40 view .LVU232
 640 0296 7B6D     		ldr	r3, [r7, #84]
 736:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                      ((ULONG)media_ptr -> fx_media_sectors_per_cluster));
 641              		.loc 1 736 66 view .LVU233
 642 0298 A0FB0303 		umull	r0, r3, r0, r3
 735:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 643              		.loc 1 735 114 view .LVU234
 644 029c 1218     		adds	r2, r2, r0
 645 029e 43F10003 		adc	r3, r3, #0
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 30


 735:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                     (((ULONG64)(FAT_index - FX_FAT_ENTRY_START)) *
 646              		.loc 1 735 60 view .LVU235
 647 02a2 B262     		str	r2, [r6, #40]
 648 02a4 F362     		str	r3, [r6, #44]
 738:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 649              		.loc 1 738 17 is_stmt 1 view .LVU236
 738:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****             }
 650              		.loc 1 738 60 is_stmt 0 view .LVU237
 651 02a6 3163     		str	r1, [r6, #48]
 652 02a8 A9E7     		b	.L23
 653              	.LVL71:
 654              	.L50:
 713:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 655              		.loc 1 713 21 is_stmt 1 view .LVU238
 656 02aa 0598     		ldr	r0, [sp, #20]
 657              	.LVL72:
 713:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 658              		.loc 1 713 21 is_stmt 0 view .LVU239
 659 02ac FFF7FEFF 		bl	_tx_mutex_put
 660              	.LVL73:
 716:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 661              		.loc 1 716 21 is_stmt 1 view .LVU240
 716:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****                 }
 662              		.loc 1 716 27 is_stmt 0 view .LVU241
 663 02b0 15E0     		b	.L1
 664              	.LVL74:
 665              	.L49:
 862:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 666              		.loc 1 862 13 is_stmt 1 view .LVU242
 667 02b2 0598     		ldr	r0, [sp, #20]
 668              	.LVL75:
 862:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 669              		.loc 1 862 13 is_stmt 0 view .LVU243
 670 02b4 FFF7FEFF 		bl	_tx_mutex_put
 671              	.LVL76:
 865:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 672              		.loc 1 865 13 is_stmt 1 view .LVU244
 865:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****         }
 673              		.loc 1 865 19 is_stmt 0 view .LVU245
 674 02b8 11E0     		b	.L1
 675              	.L52:
 676 02ba 00BF     		.align	2
 677              	.L51:
 678 02bc 454C4946 		.word	1179208773
 679 02c0 4944454D 		.word	1296385097
 680              	.LVL77:
 681              	.L44:
 876:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 682              		.loc 1 876 9 is_stmt 1 view .LVU246
 683 02c4 0598     		ldr	r0, [sp, #20]
 684 02c6 FFF7FEFF 		bl	_tx_mutex_put
 685              	.LVL78:
 879:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 686              		.loc 1 879 9 view .LVU247
 879:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 687              		.loc 1 879 32 is_stmt 0 view .LVU248
 688 02ca 0022     		movs	r2, #0
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 31


 689 02cc 0023     		movs	r3, #0
 690 02ce 1699     		ldr	r1, [sp, #88]
 691 02d0 C1E90023 		strd	r2, [r1]
 882:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 692              		.loc 1 882 9 is_stmt 1 view .LVU249
 882:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 693              		.loc 1 882 15 is_stmt 0 view .LVU250
 694 02d4 4FF00A08 		mov	r8, #10
 695              	.LVL79:
 882:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 696              		.loc 1 882 15 view .LVU251
 697 02d8 01E0     		b	.L1
 698              	.LVL80:
 699              	.L25:
 125:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 700              		.loc 1 125 15 view .LVU252
 701 02da 4FF00708 		mov	r8, #7
 702              	.LVL81:
 703              	.L1:
 917:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** }
 704              		.loc 1 917 1 view .LVU253
 705 02de 4046     		mov	r0, r8
 706 02e0 0DB0     		add	sp, sp, #52
 707              	.LCFI2:
 708              		.cfi_remember_state
 709              		.cfi_def_cfa_offset 36
 710              		@ sp needed
 711 02e2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 712              	.LVL82:
 713              	.L26:
 714              	.LCFI3:
 715              		.cfi_restore_state
 142:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c ****     }
 716              		.loc 1 142 15 view .LVU254
 717 02e6 4FF00608 		mov	r8, #6
 718 02ea F8E7     		b	.L1
 719              	.LVL83:
 720              	.L28:
 163:Middlewares/ST/filex/common/src/fx_file_extended_best_effort_allocate.c **** 
 721              		.loc 1 163 5 view .LVU255
 722 02ec 4FF01108 		mov	r8, #17
 723 02f0 F5E7     		b	.L1
 724              		.cfi_endproc
 725              	.LFE8:
 727 02f2 00BF     		.text
 728              	.Letext0:
 729              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 730              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 731              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 732              		.file 5 "Middlewares/ST/filex/common/inc/fx_utility.h"
 733              		.file 6 "Middlewares/ST/filex/common/inc/fx_directory.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s 			page 32


DEFINED SYMBOLS
                            *ABS*:00000000 fx_file_extended_best_effort_allocate.c
C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s:21     .text._fx_file_extended_best_effort_allocate:00000000 $t
C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s:27     .text._fx_file_extended_best_effort_allocate:00000000 _fx_file_extended_best_effort_allocate
C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s:678    .text._fx_file_extended_best_effort_allocate:000002bc $d
C:\Users\HP\AppData\Local\Temp\cc2bWpRw.s:683    .text._fx_file_extended_best_effort_allocate:000002c4 $t

UNDEFINED SYMBOLS
__aeabi_uldivmod
_tx_mutex_get
_tx_mutex_put
_fx_utility_FAT_entry_read
_fx_utility_FAT_entry_write
_fx_directory_entry_write
_fx_utility_logical_sector_flush

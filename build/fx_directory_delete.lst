ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_directory_delete.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._fx_directory_delete,"ax",%progbits
  20              		.align	1
  21              		.global	_fx_directory_delete
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_fx_directory_delete:
  27              	.LVL0:
  28              	.LFB8:
  29              		.file 1 "Middlewares/ST/filex/common/src/fx_directory_delete.c"
   1:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  12:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  13:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**   Directory                                                           */
  19:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  23:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  25:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  26:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  28:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #include "fx_api.h"
  29:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #include "fx_system.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 2


  30:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #include "fx_directory.h"
  31:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #include "fx_file.h"
  32:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #include "fx_utility.h"
  33:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
  34:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #include "fx_directory_exFAT.h"
  35:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
  36:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  37:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #include "fx_fault_tolerant.h"
  38:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  39:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  40:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
  41:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
  42:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  43:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  FUNCTION                                               RELEASE        */
  44:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  45:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_directory_delete                                PORTABLE C      */
  46:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                           6.1          */
  47:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  AUTHOR                                                                */
  48:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  49:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    William E. Lamie, Microsoft Corporation                             */
  50:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  51:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  DESCRIPTION                                                           */
  52:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  53:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    This function first attempts to find the specified directory.       */
  54:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    If found, the directory is examined to make sure it is empty.  If   */
  55:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    the directory is not empty, an error code is returned to the        */
  56:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    caller.  Otherwise, the directory will be deleted and its clusters  */
  57:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    will be made available.                                             */
  58:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  59:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  INPUT                                                                 */
  60:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  61:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    media_ptr                             Media control block pointer   */
  62:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    directory_name                        Directory name to delete      */
  63:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  64:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  OUTPUT                                                                */
  65:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  66:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    return status                                                       */
  67:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  68:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  CALLS                                                                 */
  69:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  70:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_directory_entry_read              Read a directory entry        */
  71:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_directory_entry_write             Write the new directory entry */
  72:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_directory_search                  Search for the file name in   */
  73:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                          the directory structure       */
  74:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_utility_logical_sector_flush      Flush the written log sector  */
  75:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_utility_exFAT_cluster_state_set   Set cluster state             */
  76:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_utility_FAT_entry_read            Read FAT entries to calculate */
  77:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                            the sub-directory size      */
  78:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_utility_FAT_entry_write           Write FAT entry               */
  79:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_utility_FAT_flush                 Flush FAT cache               */
  80:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_fault_tolerant_transaction_start  Start fault tolerant          */
  81:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                            transaction                 */
  82:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_fault_tolerant_transaction_end    End fault tolerant transaction*/
  83:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_fault_tolerant_recover            Recover FAT chain             */
  84:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    _fx_fault_tolerant_reset_log_file     Reset the log file            */
  85:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  86:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  CALLED BY                                                             */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 3


  87:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  88:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    Application Code                                                    */
  89:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  90:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  RELEASE HISTORY                                                       */
  91:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  92:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*    DATE              NAME                      DESCRIPTION             */
  93:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  94:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  95:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  96:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                            resulting in version 6.1    */
  97:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /*                                                                        */
  98:Middlewares/ST/filex/common/src/fx_directory_delete.c **** /**************************************************************************/
  99:Middlewares/ST/filex/common/src/fx_directory_delete.c **** UINT  _fx_directory_delete(FX_MEDIA *media_ptr, CHAR *directory_name)
 100:Middlewares/ST/filex/common/src/fx_directory_delete.c **** {
  30              		.loc 1 100 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 344
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 100 1 is_stmt 0 view .LVU1
  35 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 20
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 DBB0     		sub	sp, sp, #364
  44              	.LCFI1:
  45              		.cfi_def_cfa_offset 384
 101:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 102:Middlewares/ST/filex/common/src/fx_directory_delete.c **** UINT         status;
  46              		.loc 1 102 1 is_stmt 1 view .LVU2
 103:Middlewares/ST/filex/common/src/fx_directory_delete.c **** ULONG        cluster, next_cluster;
  47              		.loc 1 103 1 view .LVU3
 104:Middlewares/ST/filex/common/src/fx_directory_delete.c **** ULONG        i, directory_size;
  48              		.loc 1 104 1 view .LVU4
 105:Middlewares/ST/filex/common/src/fx_directory_delete.c **** FX_DIR_ENTRY dir_entry;
  49              		.loc 1 105 1 view .LVU5
 106:Middlewares/ST/filex/common/src/fx_directory_delete.c **** FX_DIR_ENTRY search_directory;
  50              		.loc 1 106 1 view .LVU6
 107:Middlewares/ST/filex/common/src/fx_directory_delete.c **** FX_DIR_ENTRY search_entry;
  51              		.loc 1 107 1 view .LVU7
 108:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 109:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 110:Middlewares/ST/filex/common/src/fx_directory_delete.c **** ULONG        clusters_count;
 111:Middlewares/ST/filex/common/src/fx_directory_delete.c **** ULONG        bytes_per_cluster;
 112:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 113:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 114:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 115:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 116:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 117:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Increment the number of times this service has been called.  */
 118:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     media_ptr -> fx_media_directory_deletes++;
  52              		.loc 1 118 5 view .LVU8
  53              		.loc 1 118 15 is_stmt 0 view .LVU9
  54 0004 D0F8EC30 		ldr	r3, [r0, #236]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 4


  55              		.loc 1 118 44 view .LVU10
  56 0008 0133     		adds	r3, r3, #1
  57 000a C0F8EC30 		str	r3, [r0, #236]
 119:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif
 120:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 121:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Setup pointer to media name buffer.  */
 122:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     dir_entry.fx_dir_entry_name =  media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN;
  58              		.loc 1 122 5 is_stmt 1 view .LVU11
  59              		.loc 1 122 70 is_stmt 0 view .LVU12
  60 000e 00F69C13 		addw	r3, r0, #2460
  61              		.loc 1 122 33 view .LVU13
  62 0012 3C93     		str	r3, [sp, #240]
 123:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 124:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Setup search pointer to media name buffer.  */
 125:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     search_directory.fx_dir_entry_name =  media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN 
  63              		.loc 1 125 5 is_stmt 1 view .LVU14
  64              		.loc 1 125 77 is_stmt 0 view .LVU15
  65 0014 00F69C23 		addw	r3, r0, #2716
  66              		.loc 1 125 40 view .LVU16
  67 0018 2093     		str	r3, [sp, #128]
 126:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 127:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Setup search entry pointer to media name buffer.  */
 128:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     search_entry.fx_dir_entry_name =  media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN * 3;
  68              		.loc 1 128 5 is_stmt 1 view .LVU17
  69              		.loc 1 128 73 is_stmt 0 view .LVU18
  70 001a 00F69C33 		addw	r3, r0, #2972
  71              		.loc 1 128 36 view .LVU19
  72 001e 0493     		str	r3, [sp, #16]
 129:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 130:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Clear the short name string of the three file names that will be worked with.  */
 131:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  0;
  73              		.loc 1 131 5 is_stmt 1 view .LVU20
  74              		.loc 1 131 42 is_stmt 0 view .LVU21
  75 0020 0023     		movs	r3, #0
  76 0022 8DF8F430 		strb	r3, [sp, #244]
 132:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     search_directory.fx_dir_entry_short_name[0] =  0;
  77              		.loc 1 132 5 is_stmt 1 view .LVU22
  78              		.loc 1 132 49 is_stmt 0 view .LVU23
  79 0026 8DF88430 		strb	r3, [sp, #132]
 133:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     search_entry.fx_dir_entry_short_name[0] =  0;
  80              		.loc 1 133 5 is_stmt 1 view .LVU24
  81              		.loc 1 133 45 is_stmt 0 view .LVU25
  82 002a 8DF81430 		strb	r3, [sp, #20]
 134:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 135:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Check the media to make sure it is open.  */
 136:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (media_ptr -> fx_media_id != FX_MEDIA_ID)
  83              		.loc 1 136 5 is_stmt 1 view .LVU26
  84              		.loc 1 136 19 is_stmt 0 view .LVU27
  85 002e 0268     		ldr	r2, [r0]
  86              		.loc 1 136 8 view .LVU28
  87 0030 734B     		ldr	r3, .L39
  88 0032 9A42     		cmp	r2, r3
  89 0034 03D0     		beq	.L26
 137:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 138:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 139:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Return the media not opened error.  */
 140:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         return(FX_MEDIA_NOT_OPEN);
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 5


  90              		.loc 1 140 15 view .LVU29
  91 0036 1126     		movs	r6, #17
  92              	.LVL1:
  93              	.L1:
 141:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 142:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 143:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 144:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_DIRECTORY_DELETE, media_ptr, directory_name, 0, 0, FX_TRACE_DI
 145:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 146:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Protect against other threads accessing the media.  */
 147:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     FX_PROTECT
 148:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 149:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 150:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Start transaction. */
 151:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     _fx_fault_tolerant_transaction_start(media_ptr);
 152:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 153:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 154:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Check for write protect at the media level (set by driver).  */
 155:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (media_ptr -> fx_media_driver_write_protect)
 156:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 157:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 158:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 159:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 160:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 161:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 162:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Release media protection.  */
 163:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_UNPROTECT
 164:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 165:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Return write protect error.  */
 166:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         return(FX_WRITE_PROTECT);
 167:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 168:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 169:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Search the system for the supplied directory name.  */
 170:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     status =  _fx_directory_search(media_ptr, directory_name, &dir_entry, FX_NULL, FX_NULL);
 171:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 172:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Determine if the search was successful.  */
 173:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (status != FX_SUCCESS)
 174:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 175:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 176:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 177:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 178:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 179:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 180:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Release media protection.  */
 181:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_UNPROTECT
 182:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 183:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Return the error code.  */
 184:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         return(status);
 185:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 186:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 187:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Check to make sure the found entry is a directory.  */
 188:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (!(dir_entry.fx_dir_entry_attributes & (UCHAR)(FX_DIRECTORY)))
 189:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 190:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 191:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 192:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 193:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 6


 194:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 195:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Release media protection.  */
 196:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_UNPROTECT
 197:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 198:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Return the not a directory error code.  */
 199:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         return(FX_NOT_DIRECTORY);
 200:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 201:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 202:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Check if the entry is read only */
 203:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (dir_entry.fx_dir_entry_attributes & (UCHAR)(FX_READ_ONLY))
 204:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 205:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 206:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 207:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 208:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 209:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Release media protection.  */
 210:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_UNPROTECT
 211:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 212:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Return the not a directory error code.  */
 213:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         return(FX_WRITE_PROTECT);
 214:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 215:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 216:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Copy the directory entry to the search directory structure for
 217:Middlewares/ST/filex/common/src/fx_directory_delete.c ****        looking at the specified sub-directory contents.  */
 218:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     search_directory =  dir_entry;
 219:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 220:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Ensure that the search directory's last search cluster is cleared.  */
 221:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     search_directory.fx_dir_entry_last_search_cluster =  0;
 222:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 223:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 224:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 225:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 226:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         directory_size = (ULONG)search_directory.fx_dir_entry_file_size / FX_DIR_ENTRY_SIZE;
 227:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 228:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     else
 229:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 230:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 231:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 232:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Calculate the directory size by counting the allocated
 233:Middlewares/ST/filex/common/src/fx_directory_delete.c ****            clusters for it.  */
 234:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         i =        0;
 235:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         cluster =  search_directory.fx_dir_entry_cluster;
 236:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         while (cluster < media_ptr -> fx_media_fat_reserved)
 237:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 238:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 239:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Increment the cluster count.  */
 240:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             i++;
 241:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 242:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Read the next FAT entry.  */
 243:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &next_cluster);
 244:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 245:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Check the return status.  */
 246:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (status != FX_SUCCESS)
 247:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 248:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 249:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 250:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 7


 251:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 252:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 253:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Release media protection.  */
 254:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_UNPROTECT
 255:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 256:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Return the bad status.  */
 257:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 return(status);
 258:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 259:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if ((cluster < FX_FAT_ENTRY_START) || (cluster == next_cluster) || (i > media_ptr -> fx
 261:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 262:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 263:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 264:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 265:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 266:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Release media protection.  */
 267:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_UNPROTECT
 268:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 269:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Return the bad status.  */
 270:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 return(FX_FAT_READ_ERROR);
 271:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 272:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 273:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             cluster = next_cluster;
 274:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 275:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 276:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Now we can calculate the directory size.  */
 277:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         directory_size =  (((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 278:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            ((ULONG)media_ptr -> fx_media_sectors_per_cluster) * i) /
 279:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            (ULONG)FX_DIR_ENTRY_SIZE;
 280:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 281:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Also save this in the directory entry so we don't have to
 282:Middlewares/ST/filex/common/src/fx_directory_delete.c ****            calculate it later.  */
 283:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         search_directory.fx_dir_entry_file_size =  directory_size;
 284:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 285:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 286:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 287:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 288:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Make sure the new name is not in the current directory.  */
 289:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 290:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (directory_size > 0)
 291:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 292:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 293:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* exFAT directories do not record '.' and '..' directories.  */
 294:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 295:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 296:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             i = 0;
 297:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 298:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         else
 299:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 300:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             i = 2;
 301:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 302:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #else
 303:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* The first two entries are skipped because they are just part of the sub-directory.  */
 304:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         i = 2;
 305:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 306:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 307:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         do
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 8


 308:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 309:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 310:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Read an entry from the directory.  */
 311:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             status = _fx_directory_entry_read(media_ptr, &search_directory, &i, &search_entry);
 312:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 313:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Check for error status.  */
 314:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (status != FX_SUCCESS)
 315:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 316:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 317:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 318:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 319:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 320:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 321:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Release media protection.  */
 322:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_UNPROTECT
 323:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 324:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Return error condition.  */
 325:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 return(status);
 326:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 327:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 328:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Determine if this is the last directory entry.  */
 329:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 330:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (search_entry.fx_dir_entry_type == FX_EXFAT_DIR_ENTRY_TYPE_END_MARKER)
 331:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #else
 332:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (search_entry.fx_dir_entry_name[0] == FX_DIR_ENTRY_DONE)
 333:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 334:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 335:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 break;
 336:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 337:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 338:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 339:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 340:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 341:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 342:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Skip '.' and '..' folders if exists.  */
 343:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 if ((i == 1) && (search_entry.fx_dir_entry_type == FX_EXFAT_DIR_ENTRY_TYPE_FILE_DIR
 344:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                     (search_entry.fx_dir_entry_name[0] == '.') &&
 345:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                     (search_entry.fx_dir_entry_name[1] == 0))
 346:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 {
 347:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 348:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                     continue;
 349:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 }
 350:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 if ((i == 2) && (search_entry.fx_dir_entry_type == FX_EXFAT_DIR_ENTRY_TYPE_FILE_DIR
 351:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                     (search_entry.fx_dir_entry_name[0] == '.') && (search_entry.fx_dir_entry_name[1
 352:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                     (search_entry.fx_dir_entry_name[2] == 0))
 353:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 {
 354:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 355:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                     continue;
 356:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 }
 357:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 358:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 359:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 360:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Determine if this is an empty entry.  */
 361:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 362:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (search_entry.fx_dir_entry_type != FX_EXFAT_DIR_ENTRY_TYPE_FREE)
 363:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #else
 364:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if ((UCHAR)search_entry.fx_dir_entry_name[0] != (UCHAR)FX_DIR_ENTRY_FREE)
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 9


 365:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 366:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 367:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 368:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 369:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 370:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 371:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 372:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Release media protection.  */
 373:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_UNPROTECT
 374:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 375:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Return error status.  */
 376:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 return(FX_DIR_NOT_EMPTY);
 377:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 378:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 379:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             i++;
 380:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         } while (i < directory_size);
 381:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 382:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 383:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 384:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 385:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* At this point, we are going to delete the empty directory.  */
 386:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 387:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifndef FX_MEDIA_DISABLE_SEARCH_CACHE
 388:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 389:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Invalidate the directory search saved information.  */
 390:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     media_ptr -> fx_media_last_found_name[0] =  FX_NULL;
 391:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif
 392:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 393:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Mark the sub-directory entry as available.  */
 394:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     dir_entry.fx_dir_entry_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 395:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 396:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 397:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Now write out the directory entry.  */
 398:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 399:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 400:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 401:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 402:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         status =  _fx_directory_exFAT_entry_write(media_ptr, &dir_entry, UPDATE_DELETE);
 403:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 404:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     else
 405:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 406:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 407:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         status =  _fx_directory_entry_write(media_ptr, &dir_entry);
 408:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 409:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 410:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 411:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 412:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Determine if the write was successful.  */
 413:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (status != FX_SUCCESS)
 414:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 415:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 416:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 417:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 418:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 419:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 420:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Release media protection.  */
 421:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_UNPROTECT
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 10


 422:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 423:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Return the error code.  */
 424:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         return(status);
 425:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 426:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 427:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 428:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     bytes_per_cluster =  ((ULONG)media_ptr -> fx_media_bytes_per_sector) *
 429:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         ((ULONG)media_ptr -> fx_media_sectors_per_cluster);
 430:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 431:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     i = 0;
 432:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 433:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     clusters_count = (ULONG)((search_directory.fx_dir_entry_file_size + bytes_per_cluster - 1) / by
 434:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 435:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 436:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Walk through the directory's clusters and release them.  */
 437:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     cluster =  search_directory.fx_dir_entry_cluster;
 438:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 439:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     while (cluster < media_ptr -> fx_media_fat_reserved)
 440:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 441:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 442:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Increment the cluster count.  */
 443:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         i++;
 444:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 445:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 446:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 447:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Read the next FAT entry.  */
 448:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         if (search_directory.fx_dir_entry_dont_use_fat & 1)
 449:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 450:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 451:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Check for file size range */
 452:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (i - 1 >= clusters_count)
 453:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 454:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 next_cluster = FX_LAST_CLUSTER_exFAT;
 455:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 456:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             else
 457:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 458:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 next_cluster = cluster + 1;
 459:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 460:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 461:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         else
 462:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 463:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 464:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 465:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 466:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Read the next FAT entry.  */
 467:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             status =  _fx_utility_FAT_entry_read(media_ptr, cluster, &next_cluster);
 468:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 469:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Check the return status.  */
 470:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (status != FX_SUCCESS)
 471:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 472:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 473:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 474:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 475:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 476:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 477:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Release media protection.  */
 478:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_UNPROTECT
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 11


 479:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 480:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Return the bad status.  */
 481:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 return(status);
 482:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 483:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 484:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 485:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 486:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         if ((cluster < FX_FAT_ENTRY_START) || (cluster == next_cluster) || (i > media_ptr -> fx_med
 488:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 489:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 490:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 491:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 492:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 493:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 494:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Release media protection.  */
 495:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             FX_UNPROTECT
 496:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 497:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Return the bad status.  */
 498:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             return(FX_FAT_READ_ERROR);
 499:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 500:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 501:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Release the current cluster.  */
 502:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 503:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         if (!(search_directory.fx_dir_entry_dont_use_fat & 1))
 504:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 505:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 506:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 507:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             status =  _fx_utility_FAT_entry_write(media_ptr, cluster, FX_FREE_CLUSTER);
 508:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 509:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Check the return status.  */
 510:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (status != FX_SUCCESS)
 511:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 512:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 513:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 514:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 515:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 516:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 517:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Release media protection.  */
 518:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_UNPROTECT
 519:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 520:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Return the bad status.  */
 521:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 return(status);
 522:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 523:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 524:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 525:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 526:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 527:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 528:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 529:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Mark the cluster as free.  */
 530:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             status = _fx_utility_exFAT_cluster_state_set(media_ptr, cluster, FX_EXFAT_BITMAP_CLUSTE
 531:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 532:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             /* Check the return status.  */
 533:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             if (status != FX_SUCCESS)
 534:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 535:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 12


 536:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 537:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 538:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 539:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 540:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Release media protection.  */
 541:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 FX_UNPROTECT
 542:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 543:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 /* Return the bad status.  */
 544:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                 return(status);
 545:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 546:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 547:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 548:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 549:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Increment the number of available clusters for the media.  */
 550:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         media_ptr -> fx_media_available_clusters++;
 551:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 552:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Copy next cluster to current cluster.  */
 553:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         cluster =  next_cluster;
 554:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 555:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 556:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_FAULT_TOLERANT
 557:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 558:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Flush the cached individual FAT entries */
 559:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     _fx_utility_FAT_flush(media_ptr);
 560:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif
 561:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 562:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Flush the logical sector cache.  */
 563:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     status =  _fx_utility_logical_sector_flush(media_ptr, ((ULONG64) 1), (ULONG64)(media_ptr -> fx_
 564:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 565:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 566:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Check for a bad status.  */
 567:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     if (status != FX_SUCCESS)
 568:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 569:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 570:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 571:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 572:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Release media protection.  */
 573:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         FX_UNPROTECT
 574:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 575:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         /* Return the bad status.  */
 576:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         return(status);
 577:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 578:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 579:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* End transaction. */
 580:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     status = _fx_fault_tolerant_transaction_end(media_ptr);
 581:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 582:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 583:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Release media protection.  */
 584:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     FX_UNPROTECT
 585:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 586:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     /* Directory delete is complete, return status.  */
 587:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     return(status);
 588:Middlewares/ST/filex/common/src/fx_directory_delete.c **** }
  94              		.loc 1 588 1 view .LVU30
  95 0038 3046     		mov	r0, r6
  96 003a 5BB0     		add	sp, sp, #364
  97              	.LCFI2:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 13


  98              		.cfi_remember_state
  99              		.cfi_def_cfa_offset 20
 100              		@ sp needed
 101 003c F0BD     		pop	{r4, r5, r6, r7, pc}
 102              	.LVL2:
 103              	.L26:
 104              	.LCFI3:
 105              		.cfi_restore_state
 106              		.loc 1 588 1 view .LVU31
 107 003e 0446     		mov	r4, r0
 108 0040 0D46     		mov	r5, r1
 147:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 109              		.loc 1 147 5 is_stmt 1 discriminator 2 view .LVU32
 147:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 110              		.loc 1 147 5 discriminator 2 view .LVU33
 111 0042 00F5E477 		add	r7, r0, #456
 112 0046 4FF0FF31 		mov	r1, #-1
 113              	.LVL3:
 147:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 114              		.loc 1 147 5 is_stmt 0 discriminator 2 view .LVU34
 115 004a 3846     		mov	r0, r7
 116              	.LVL4:
 147:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 117              		.loc 1 147 5 discriminator 2 view .LVU35
 118 004c FFF7FEFF 		bl	_tx_mutex_get
 119              	.LVL5:
 120 0050 0028     		cmp	r0, #0
 121 0052 40F0D280 		bne	.L23
 155:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 122              		.loc 1 155 5 is_stmt 1 view .LVU36
 155:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 123              		.loc 1 155 19 is_stmt 0 view .LVU37
 124 0056 D4F8A830 		ldr	r3, [r4, #168]
 155:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 125              		.loc 1 155 8 view .LVU38
 126 005a 002B     		cmp	r3, #0
 127 005c 34D1     		bne	.L27
 170:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 128              		.loc 1 170 5 is_stmt 1 view .LVU39
 170:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 129              		.loc 1 170 15 is_stmt 0 view .LVU40
 130 005e 0023     		movs	r3, #0
 131 0060 0093     		str	r3, [sp]
 132 0062 3CAA     		add	r2, sp, #240
 133 0064 2946     		mov	r1, r5
 134 0066 2046     		mov	r0, r4
 135 0068 FFF7FEFF 		bl	_fx_directory_search
 136              	.LVL6:
 173:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 137              		.loc 1 173 5 is_stmt 1 view .LVU41
 173:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 138              		.loc 1 173 8 is_stmt 0 view .LVU42
 139 006c 0646     		mov	r6, r0
 140 006e 80BB     		cbnz	r0, .L28
 188:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 141              		.loc 1 188 5 is_stmt 1 view .LVU43
 188:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 14


 142              		.loc 1 188 20 is_stmt 0 view .LVU44
 143 0070 9DF80C31 		ldrb	r3, [sp, #268]	@ zero_extendqisi2
 188:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 144              		.loc 1 188 8 view .LVU45
 145 0074 13F0100F 		tst	r3, #16
 146 0078 2FD0     		beq	.L29
 203:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 147              		.loc 1 203 5 is_stmt 1 view .LVU46
 203:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 148              		.loc 1 203 8 is_stmt 0 view .LVU47
 149 007a 13F0010F 		tst	r3, #1
 150 007e 31D1     		bne	.L30
 218:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 151              		.loc 1 218 5 is_stmt 1 view .LVU48
 218:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 152              		.loc 1 218 22 is_stmt 0 view .LVU49
 153 0080 7022     		movs	r2, #112
 154 0082 3CA9     		add	r1, sp, #240
 155 0084 20A8     		add	r0, sp, #128
 156              	.LVL7:
 218:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 157              		.loc 1 218 22 view .LVU50
 158 0086 FFF7FEFF 		bl	memcpy
 159              	.LVL8:
 221:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 160              		.loc 1 221 5 is_stmt 1 view .LVU51
 221:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 161              		.loc 1 221 55 is_stmt 0 view .LVU52
 162 008a 0023     		movs	r3, #0
 163 008c 3493     		str	r3, [sp, #208]
 234:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         cluster =  search_directory.fx_dir_entry_cluster;
 164              		.loc 1 234 9 is_stmt 1 view .LVU53
 234:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         cluster =  search_directory.fx_dir_entry_cluster;
 165              		.loc 1 234 11 is_stmt 0 view .LVU54
 166 008e 5893     		str	r3, [sp, #352]
 235:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         while (cluster < media_ptr -> fx_media_fat_reserved)
 167              		.loc 1 235 9 is_stmt 1 view .LVU55
 235:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         while (cluster < media_ptr -> fx_media_fat_reserved)
 168              		.loc 1 235 17 is_stmt 0 view .LVU56
 169 0090 2D9D     		ldr	r5, [sp, #180]
 170              	.LVL9:
 236:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 171              		.loc 1 236 9 is_stmt 1 view .LVU57
 172              	.L7:
 236:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 173              		.loc 1 236 15 view .LVU58
 236:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 174              		.loc 1 236 36 is_stmt 0 view .LVU59
 175 0092 04F50053 		add	r3, r4, #8192
 176 0096 D3F8A834 		ldr	r3, [r3, #1192]
 236:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 177              		.loc 1 236 15 view .LVU60
 178 009a AB42     		cmp	r3, r5
 179 009c 30D9     		bls	.L31
 240:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 180              		.loc 1 240 13 is_stmt 1 view .LVU61
 240:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 15


 181              		.loc 1 240 14 is_stmt 0 view .LVU62
 182 009e 589B     		ldr	r3, [sp, #352]
 183 00a0 0133     		adds	r3, r3, #1
 184 00a2 5893     		str	r3, [sp, #352]
 243:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 185              		.loc 1 243 13 is_stmt 1 view .LVU63
 243:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 186              		.loc 1 243 23 is_stmt 0 view .LVU64
 187 00a4 59AA     		add	r2, sp, #356
 188 00a6 2946     		mov	r1, r5
 189 00a8 2046     		mov	r0, r4
 190 00aa FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 191              	.LVL10:
 246:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 192              		.loc 1 246 13 is_stmt 1 view .LVU65
 246:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 193              		.loc 1 246 16 is_stmt 0 view .LVU66
 194 00ae 0646     		mov	r6, r0
 195 00b0 E8B9     		cbnz	r0, .L32
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 196              		.loc 1 260 13 is_stmt 1 view .LVU67
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 197              		.loc 1 260 16 is_stmt 0 view .LVU68
 198 00b2 012D     		cmp	r5, #1
 199 00b4 1FD9     		bls	.L9
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 200              		.loc 1 260 60 discriminator 1 view .LVU69
 201 00b6 599B     		ldr	r3, [sp, #356]
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 202              		.loc 1 260 48 discriminator 1 view .LVU70
 203 00b8 AB42     		cmp	r3, r5
 204 00ba 1CD0     		beq	.L9
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 205              		.loc 1 260 95 discriminator 2 view .LVU71
 206 00bc 216C     		ldr	r1, [r4, #64]
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 207              		.loc 1 260 83 discriminator 2 view .LVU72
 208 00be 589A     		ldr	r2, [sp, #352]
 260:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 209              		.loc 1 260 77 discriminator 2 view .LVU73
 210 00c0 9142     		cmp	r1, r2
 211 00c2 18D3     		bcc	.L9
 273:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 212              		.loc 1 273 21 view .LVU74
 213 00c4 1D46     		mov	r5, r3
 214              	.LVL11:
 273:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 215              		.loc 1 273 21 view .LVU75
 216 00c6 E4E7     		b	.L7
 217              	.LVL12:
 218              	.L27:
 163:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 219              		.loc 1 163 9 is_stmt 1 view .LVU76
 220 00c8 3846     		mov	r0, r7
 221 00ca FFF7FEFF 		bl	_tx_mutex_put
 222              	.LVL13:
 166:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 16


 223              		.loc 1 166 9 view .LVU77
 166:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 224              		.loc 1 166 15 is_stmt 0 view .LVU78
 225 00ce 2326     		movs	r6, #35
 226 00d0 B2E7     		b	.L1
 227              	.LVL14:
 228              	.L28:
 181:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 229              		.loc 1 181 9 is_stmt 1 view .LVU79
 230 00d2 3846     		mov	r0, r7
 231              	.LVL15:
 181:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 232              		.loc 1 181 9 is_stmt 0 view .LVU80
 233 00d4 FFF7FEFF 		bl	_tx_mutex_put
 234              	.LVL16:
 184:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 235              		.loc 1 184 9 is_stmt 1 view .LVU81
 184:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 236              		.loc 1 184 15 is_stmt 0 view .LVU82
 237 00d8 AEE7     		b	.L1
 238              	.LVL17:
 239              	.L29:
 196:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 240              		.loc 1 196 9 is_stmt 1 view .LVU83
 241 00da 3846     		mov	r0, r7
 242              	.LVL18:
 196:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 243              		.loc 1 196 9 is_stmt 0 view .LVU84
 244 00dc FFF7FEFF 		bl	_tx_mutex_put
 245              	.LVL19:
 199:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 246              		.loc 1 199 9 is_stmt 1 view .LVU85
 199:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 247              		.loc 1 199 15 is_stmt 0 view .LVU86
 248 00e0 0E26     		movs	r6, #14
 249              	.LVL20:
 199:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 250              		.loc 1 199 15 view .LVU87
 251 00e2 A9E7     		b	.L1
 252              	.LVL21:
 253              	.L30:
 210:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 254              		.loc 1 210 9 is_stmt 1 view .LVU88
 255 00e4 3846     		mov	r0, r7
 256              	.LVL22:
 210:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 257              		.loc 1 210 9 is_stmt 0 view .LVU89
 258 00e6 FFF7FEFF 		bl	_tx_mutex_put
 259              	.LVL23:
 213:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 260              		.loc 1 213 9 is_stmt 1 view .LVU90
 213:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 261              		.loc 1 213 15 is_stmt 0 view .LVU91
 262 00ea 2326     		movs	r6, #35
 263              	.LVL24:
 213:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 264              		.loc 1 213 15 view .LVU92
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 17


 265 00ec A4E7     		b	.L1
 266              	.LVL25:
 267              	.L32:
 254:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 268              		.loc 1 254 17 is_stmt 1 view .LVU93
 269 00ee 3846     		mov	r0, r7
 270              	.LVL26:
 254:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 271              		.loc 1 254 17 is_stmt 0 view .LVU94
 272 00f0 FFF7FEFF 		bl	_tx_mutex_put
 273              	.LVL27:
 257:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 274              		.loc 1 257 17 is_stmt 1 view .LVU95
 257:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 275              		.loc 1 257 23 is_stmt 0 view .LVU96
 276 00f4 A0E7     		b	.L1
 277              	.LVL28:
 278              	.L9:
 267:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 279              		.loc 1 267 17 is_stmt 1 view .LVU97
 280 00f6 3846     		mov	r0, r7
 281              	.LVL29:
 267:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 282              		.loc 1 267 17 is_stmt 0 view .LVU98
 283 00f8 FFF7FEFF 		bl	_tx_mutex_put
 284              	.LVL30:
 270:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 285              		.loc 1 270 17 is_stmt 1 view .LVU99
 270:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 286              		.loc 1 270 23 is_stmt 0 view .LVU100
 287 00fc 0326     		movs	r6, #3
 288              	.LVL31:
 270:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 289              		.loc 1 270 23 view .LVU101
 290 00fe 9BE7     		b	.L1
 291              	.LVL32:
 292              	.L31:
 277:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            ((ULONG)media_ptr -> fx_media_sectors_per_cluster) * i) /
 293              		.loc 1 277 9 is_stmt 1 view .LVU102
 277:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            ((ULONG)media_ptr -> fx_media_sectors_per_cluster) * i) /
 294              		.loc 1 277 46 is_stmt 0 view .LVU103
 295 0100 A36A     		ldr	r3, [r4, #40]
 278:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            (ULONG)FX_DIR_ENTRY_SIZE;
 296              		.loc 1 278 46 view .LVU104
 297 0102 656D     		ldr	r5, [r4, #84]
 298              	.LVL33:
 277:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            ((ULONG)media_ptr -> fx_media_sectors_per_cluster) * i) /
 299              		.loc 1 277 76 view .LVU105
 300 0104 03FB05F5 		mul	r5, r3, r5
 278:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            (ULONG)FX_DIR_ENTRY_SIZE;
 301              		.loc 1 278 79 view .LVU106
 302 0108 589B     		ldr	r3, [sp, #352]
 303 010a 03FB05F5 		mul	r5, r3, r5
 277:Middlewares/ST/filex/common/src/fx_directory_delete.c ****                            ((ULONG)media_ptr -> fx_media_sectors_per_cluster) * i) /
 304              		.loc 1 277 24 view .LVU107
 305 010e 6D09     		lsrs	r5, r5, #5
 306              	.LVL34:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 18


 283:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 307              		.loc 1 283 9 is_stmt 1 view .LVU108
 283:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 308              		.loc 1 283 49 is_stmt 0 view .LVU109
 309 0110 2E95     		str	r5, [sp, #184]
 310 0112 0023     		movs	r3, #0
 311 0114 2F93     		str	r3, [sp, #188]
 304:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 312              		.loc 1 304 9 is_stmt 1 view .LVU110
 304:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 313              		.loc 1 304 11 is_stmt 0 view .LVU111
 314 0116 0223     		movs	r3, #2
 315 0118 5893     		str	r3, [sp, #352]
 316              	.L14:
 307:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 317              		.loc 1 307 9 is_stmt 1 view .LVU112
 311:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 318              		.loc 1 311 13 view .LVU113
 311:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 319              		.loc 1 311 22 is_stmt 0 view .LVU114
 320 011a 04AB     		add	r3, sp, #16
 321 011c 58AA     		add	r2, sp, #352
 322 011e 20A9     		add	r1, sp, #128
 323 0120 2046     		mov	r0, r4
 324 0122 FFF7FEFF 		bl	_fx_directory_entry_read
 325              	.LVL35:
 314:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 326              		.loc 1 314 13 is_stmt 1 view .LVU115
 314:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 327              		.loc 1 314 16 is_stmt 0 view .LVU116
 328 0126 0646     		mov	r6, r0
 329 0128 0028     		cmp	r0, #0
 330 012a 3DD1     		bne	.L33
 332:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 331              		.loc 1 332 13 is_stmt 1 view .LVU117
 332:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 332              		.loc 1 332 29 is_stmt 0 view .LVU118
 333 012c 049B     		ldr	r3, [sp, #16]
 332:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 334              		.loc 1 332 47 view .LVU119
 335 012e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 332:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 336              		.loc 1 332 16 view .LVU120
 337 0130 33B1     		cbz	r3, .L12
 364:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 338              		.loc 1 364 13 is_stmt 1 view .LVU121
 364:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif /* FX_ENABLE_EXFAT */
 339              		.loc 1 364 16 is_stmt 0 view .LVU122
 340 0132 E52B     		cmp	r3, #229
 341 0134 3CD1     		bne	.L34
 379:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         } while (i < directory_size);
 342              		.loc 1 379 13 is_stmt 1 view .LVU123
 379:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         } while (i < directory_size);
 343              		.loc 1 379 14 is_stmt 0 view .LVU124
 344 0136 589B     		ldr	r3, [sp, #352]
 345 0138 0133     		adds	r3, r3, #1
 346 013a 5893     		str	r3, [sp, #352]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 19


 380:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 347              		.loc 1 380 17 is_stmt 1 view .LVU125
 380:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 348              		.loc 1 380 9 is_stmt 0 view .LVU126
 349 013c AB42     		cmp	r3, r5
 350 013e ECD3     		bcc	.L14
 351              	.L12:
 390:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif
 352              		.loc 1 390 5 is_stmt 1 view .LVU127
 390:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #endif
 353              		.loc 1 390 46 is_stmt 0 view .LVU128
 354 0140 0023     		movs	r3, #0
 355 0142 84F8E033 		strb	r3, [r4, #992]
 394:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 356              		.loc 1 394 5 is_stmt 1 view .LVU129
 394:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     dir_entry.fx_dir_entry_short_name[0] =  (CHAR)FX_DIR_ENTRY_FREE;
 357              		.loc 1 394 36 is_stmt 0 view .LVU130
 358 0146 E523     		movs	r3, #229
 359 0148 3C9A     		ldr	r2, [sp, #240]
 360 014a 1370     		strb	r3, [r2]
 395:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 361              		.loc 1 395 5 is_stmt 1 view .LVU131
 395:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 362              		.loc 1 395 42 is_stmt 0 view .LVU132
 363 014c 8DF8F430 		strb	r3, [sp, #244]
 407:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 364              		.loc 1 407 9 is_stmt 1 view .LVU133
 407:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 365              		.loc 1 407 19 is_stmt 0 view .LVU134
 366 0150 3CA9     		add	r1, sp, #240
 367 0152 2046     		mov	r0, r4
 368              	.LVL36:
 407:Middlewares/ST/filex/common/src/fx_directory_delete.c **** #ifdef FX_ENABLE_EXFAT
 369              		.loc 1 407 19 view .LVU135
 370 0154 FFF7FEFF 		bl	_fx_directory_entry_write
 371              	.LVL37:
 413:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 372              		.loc 1 413 5 is_stmt 1 view .LVU136
 413:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 373              		.loc 1 413 8 is_stmt 0 view .LVU137
 374 0158 0646     		mov	r6, r0
 375 015a 70BB     		cbnz	r0, .L35
 437:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 376              		.loc 1 437 5 is_stmt 1 view .LVU138
 437:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 377              		.loc 1 437 13 is_stmt 0 view .LVU139
 378 015c 2D9D     		ldr	r5, [sp, #180]
 379              	.LVL38:
 439:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 380              		.loc 1 439 5 is_stmt 1 view .LVU140
 381              	.L16:
 439:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 382              		.loc 1 439 11 view .LVU141
 439:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 383              		.loc 1 439 32 is_stmt 0 view .LVU142
 384 015e 04F50053 		add	r3, r4, #8192
 385 0162 D3F8A834 		ldr	r3, [r3, #1192]
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 20


 439:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     {
 386              		.loc 1 439 11 view .LVU143
 387 0166 AB42     		cmp	r3, r5
 388 0168 38D9     		bls	.L36
 443:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 389              		.loc 1 443 9 is_stmt 1 view .LVU144
 443:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 390              		.loc 1 443 10 is_stmt 0 view .LVU145
 391 016a 589B     		ldr	r3, [sp, #352]
 392 016c 0133     		adds	r3, r3, #1
 393 016e 5893     		str	r3, [sp, #352]
 467:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 394              		.loc 1 467 13 is_stmt 1 view .LVU146
 467:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 395              		.loc 1 467 23 is_stmt 0 view .LVU147
 396 0170 59AA     		add	r2, sp, #356
 397 0172 2946     		mov	r1, r5
 398 0174 2046     		mov	r0, r4
 399              	.LVL39:
 467:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 400              		.loc 1 467 23 view .LVU148
 401 0176 FFF7FEFF 		bl	_fx_utility_FAT_entry_read
 402              	.LVL40:
 470:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 403              		.loc 1 470 13 is_stmt 1 view .LVU149
 470:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 404              		.loc 1 470 16 is_stmt 0 view .LVU150
 405 017a 0646     		mov	r6, r0
 406 017c 08BB     		cbnz	r0, .L37
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 407              		.loc 1 487 9 is_stmt 1 view .LVU151
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 408              		.loc 1 487 12 is_stmt 0 view .LVU152
 409 017e 012D     		cmp	r5, #1
 410 0180 23D9     		bls	.L18
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 411              		.loc 1 487 56 discriminator 1 view .LVU153
 412 0182 599B     		ldr	r3, [sp, #356]
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 413              		.loc 1 487 44 discriminator 1 view .LVU154
 414 0184 AB42     		cmp	r3, r5
 415 0186 20D0     		beq	.L18
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 416              		.loc 1 487 91 discriminator 2 view .LVU155
 417 0188 226C     		ldr	r2, [r4, #64]
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 418              		.loc 1 487 79 discriminator 2 view .LVU156
 419 018a 589B     		ldr	r3, [sp, #352]
 487:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         {
 420              		.loc 1 487 73 discriminator 2 view .LVU157
 421 018c 9A42     		cmp	r2, r3
 422 018e 1CD3     		bcc	.L18
 507:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 423              		.loc 1 507 13 is_stmt 1 view .LVU158
 507:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 424              		.loc 1 507 23 is_stmt 0 view .LVU159
 425 0190 0022     		movs	r2, #0
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 21


 426 0192 2946     		mov	r1, r5
 427 0194 2046     		mov	r0, r4
 428              	.LVL41:
 507:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 429              		.loc 1 507 23 view .LVU160
 430 0196 FFF7FEFF 		bl	_fx_utility_FAT_entry_write
 431              	.LVL42:
 510:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 432              		.loc 1 510 13 is_stmt 1 view .LVU161
 510:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             {
 433              		.loc 1 510 16 is_stmt 0 view .LVU162
 434 019a 0646     		mov	r6, r0
 435 019c D0B9     		cbnz	r0, .L38
 550:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 436              		.loc 1 550 9 is_stmt 1 view .LVU163
 550:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 437              		.loc 1 550 19 is_stmt 0 view .LVU164
 438 019e E36F     		ldr	r3, [r4, #124]
 550:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 439              		.loc 1 550 49 view .LVU165
 440 01a0 0133     		adds	r3, r3, #1
 441 01a2 E367     		str	r3, [r4, #124]
 553:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 442              		.loc 1 553 9 is_stmt 1 view .LVU166
 553:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 443              		.loc 1 553 17 is_stmt 0 view .LVU167
 444 01a4 599D     		ldr	r5, [sp, #356]
 445              	.LVL43:
 553:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 446              		.loc 1 553 17 view .LVU168
 447 01a6 DAE7     		b	.L16
 448              	.LVL44:
 449              	.L33:
 322:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 450              		.loc 1 322 17 is_stmt 1 view .LVU169
 451 01a8 3846     		mov	r0, r7
 452              	.LVL45:
 322:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 453              		.loc 1 322 17 is_stmt 0 view .LVU170
 454 01aa FFF7FEFF 		bl	_tx_mutex_put
 455              	.LVL46:
 325:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 456              		.loc 1 325 17 is_stmt 1 view .LVU171
 325:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 457              		.loc 1 325 23 is_stmt 0 view .LVU172
 458 01ae 43E7     		b	.L1
 459              	.LVL47:
 460              	.L34:
 373:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 461              		.loc 1 373 17 is_stmt 1 view .LVU173
 462 01b0 3846     		mov	r0, r7
 463              	.LVL48:
 373:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 464              		.loc 1 373 17 is_stmt 0 view .LVU174
 465 01b2 FFF7FEFF 		bl	_tx_mutex_put
 466              	.LVL49:
 376:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 22


 467              		.loc 1 376 17 is_stmt 1 view .LVU175
 376:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 468              		.loc 1 376 23 is_stmt 0 view .LVU176
 469 01b6 1026     		movs	r6, #16
 470              	.LVL50:
 376:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 471              		.loc 1 376 23 view .LVU177
 472 01b8 3EE7     		b	.L1
 473              	.LVL51:
 474              	.L35:
 421:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 475              		.loc 1 421 9 is_stmt 1 view .LVU178
 476 01ba 3846     		mov	r0, r7
 477              	.LVL52:
 421:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 478              		.loc 1 421 9 is_stmt 0 view .LVU179
 479 01bc FFF7FEFF 		bl	_tx_mutex_put
 480              	.LVL53:
 424:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 481              		.loc 1 424 9 is_stmt 1 view .LVU180
 424:Middlewares/ST/filex/common/src/fx_directory_delete.c ****     }
 482              		.loc 1 424 15 is_stmt 0 view .LVU181
 483 01c0 3AE7     		b	.L1
 484              	.LVL54:
 485              	.L37:
 478:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 486              		.loc 1 478 17 is_stmt 1 view .LVU182
 487 01c2 3846     		mov	r0, r7
 488              	.LVL55:
 478:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 489              		.loc 1 478 17 is_stmt 0 view .LVU183
 490 01c4 FFF7FEFF 		bl	_tx_mutex_put
 491              	.LVL56:
 481:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 492              		.loc 1 481 17 is_stmt 1 view .LVU184
 481:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 493              		.loc 1 481 23 is_stmt 0 view .LVU185
 494 01c8 36E7     		b	.L1
 495              	.LVL57:
 496              	.L18:
 495:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 497              		.loc 1 495 13 is_stmt 1 view .LVU186
 498 01ca 3846     		mov	r0, r7
 499              	.LVL58:
 495:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 500              		.loc 1 495 13 is_stmt 0 view .LVU187
 501 01cc FFF7FEFF 		bl	_tx_mutex_put
 502              	.LVL59:
 498:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 503              		.loc 1 498 13 is_stmt 1 view .LVU188
 498:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 504              		.loc 1 498 19 is_stmt 0 view .LVU189
 505 01d0 0326     		movs	r6, #3
 506              	.LVL60:
 498:Middlewares/ST/filex/common/src/fx_directory_delete.c ****         }
 507              		.loc 1 498 19 view .LVU190
 508 01d2 31E7     		b	.L1
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 23


 509              	.LVL61:
 510              	.L38:
 518:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 511              		.loc 1 518 17 is_stmt 1 view .LVU191
 512 01d4 3846     		mov	r0, r7
 513              	.LVL62:
 518:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 514              		.loc 1 518 17 is_stmt 0 view .LVU192
 515 01d6 FFF7FEFF 		bl	_tx_mutex_put
 516              	.LVL63:
 521:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 517              		.loc 1 521 17 is_stmt 1 view .LVU193
 521:Middlewares/ST/filex/common/src/fx_directory_delete.c ****             }
 518              		.loc 1 521 23 is_stmt 0 view .LVU194
 519 01da 2DE7     		b	.L1
 520              	.LVL64:
 521              	.L36:
 563:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 522              		.loc 1 563 5 is_stmt 1 view .LVU195
 563:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 523              		.loc 1 563 94 is_stmt 0 view .LVU196
 524 01dc A26D     		ldr	r2, [r4, #88]
 563:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 525              		.loc 1 563 15 view .LVU197
 526 01de 0023     		movs	r3, #0
 527 01e0 0293     		str	r3, [sp, #8]
 528 01e2 0092     		str	r2, [sp]
 529 01e4 0193     		str	r3, [sp, #4]
 530 01e6 0122     		movs	r2, #1
 531 01e8 0023     		movs	r3, #0
 532 01ea 2046     		mov	r0, r4
 533              	.LVL65:
 563:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 534              		.loc 1 563 15 view .LVU198
 535 01ec FFF7FEFF 		bl	_fx_utility_logical_sector_flush
 536              	.LVL66:
 537 01f0 0646     		mov	r6, r0
 538              	.LVL67:
 584:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 539              		.loc 1 584 5 is_stmt 1 view .LVU199
 540 01f2 3846     		mov	r0, r7
 541              	.LVL68:
 584:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 542              		.loc 1 584 5 is_stmt 0 view .LVU200
 543 01f4 FFF7FEFF 		bl	_tx_mutex_put
 544              	.LVL69:
 587:Middlewares/ST/filex/common/src/fx_directory_delete.c **** }
 545              		.loc 1 587 5 is_stmt 1 view .LVU201
 587:Middlewares/ST/filex/common/src/fx_directory_delete.c **** }
 546              		.loc 1 587 11 is_stmt 0 view .LVU202
 547 01f8 1EE7     		b	.L1
 548              	.LVL70:
 549              	.L23:
 147:Middlewares/ST/filex/common/src/fx_directory_delete.c **** 
 550              		.loc 1 147 5 view .LVU203
 551 01fa 1126     		movs	r6, #17
 552 01fc 1CE7     		b	.L1
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 24


 553              	.L40:
 554 01fe 00BF     		.align	2
 555              	.L39:
 556 0200 4944454D 		.word	1296385097
 557              		.cfi_endproc
 558              	.LFE8:
 560              		.text
 561              	.Letext0:
 562              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 563              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 564              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 565              		.file 5 "Middlewares/ST/filex/common/inc/fx_directory.h"
 566              		.file 6 "Middlewares/ST/filex/common/inc/fx_utility.h"
 567              		.file 7 "<built-in>"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 fx_directory_delete.c
C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s:20     .text._fx_directory_delete:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s:26     .text._fx_directory_delete:00000000 _fx_directory_delete
C:\Users\HP\AppData\Local\Temp\ccKfrTkb.s:556    .text._fx_directory_delete:00000200 $d

UNDEFINED SYMBOLS
_tx_mutex_get
_fx_directory_search
memcpy
_fx_utility_FAT_entry_read
_tx_mutex_put
_fx_directory_entry_read
_fx_directory_entry_write
_fx_utility_FAT_entry_write
_fx_utility_logical_sector_flush

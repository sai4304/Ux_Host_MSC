ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"fx_file_attributes_set.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text._fx_file_attributes_set,"ax",%progbits
  20              		.align	1
  21              		.global	_fx_file_attributes_set
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	_fx_file_attributes_set:
  27              	.LVL0:
  28              	.LFB8:
  29              		.file 1 "Middlewares/ST/filex/common/src/fx_file_attributes_set.c"
   1:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
   2:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
   3:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
   5:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  10:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
  11:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  12:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  13:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
  14:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
  15:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**                                                                       */
  16:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /** FileX Component                                                       */
  17:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**                                                                       */
  18:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**   File                                                                */
  19:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**                                                                       */
  20:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
  21:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
  22:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  23:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #define FX_SOURCE_CODE
  24:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  25:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  26:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /* Include necessary system files.  */
  27:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  28:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #include "fx_api.h"
  29:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #include "fx_system.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 2


  30:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #include "fx_directory.h"
  31:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #include "fx_file.h"
  32:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #include "fx_utility.h"
  33:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
  34:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #include "fx_fault_tolerant.h"
  35:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
  36:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  37:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  38:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
  39:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  40:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  FUNCTION                                               RELEASE        */
  41:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  42:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    _fx_file_attributes_set                             PORTABLE C      */
  43:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                           6.1          */
  44:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  AUTHOR                                                                */
  45:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  46:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    William E. Lamie, Microsoft Corporation                             */
  47:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  48:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  DESCRIPTION                                                           */
  49:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  50:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    This function first attempts to find the specified file.  If found, */
  51:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    the attribute set request is valid and the directory entry will be  */
  52:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    modified with the new attributes.  Otherwise, if the file is not    */
  53:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    found, the appropriate error code is returned to the caller.        */
  54:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  55:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  INPUT                                                                 */
  56:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  57:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    media_ptr                             Media control block pointer   */
  58:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    file_name                             File name pointer             */
  59:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    attributes                            New file attributes           */
  60:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  61:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  OUTPUT                                                                */
  62:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  63:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    return status                                                       */
  64:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  65:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  CALLS                                                                 */
  66:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  67:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    _fx_directory_entry_write             Write the new directory entry */
  68:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    _fx_directory_search                  Search for the file name in   */
  69:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                          the directory structure       */
  70:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    _fx_fault_tolerant_transaction_start  Start fault tolerant          */
  71:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                            transaction                 */
  72:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    _fx_fault_tolerant_transaction_end    End fault tolerant transaction*/
  73:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    _fx_fault_tolerant_recover            Recover FAT chain             */
  74:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    _fx_fault_tolerant_reset_log_file     Reset the log file            */
  75:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  76:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  CALLED BY                                                             */
  77:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  78:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    Application Code                                                    */
  79:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  80:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  RELEASE HISTORY                                                       */
  81:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  82:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*    DATE              NAME                      DESCRIPTION             */
  83:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  84:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  05-19-2020     William E. Lamie         Initial Version 6.0           */
  85:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*  09-30-2020     William E. Lamie         Modified comment(s),          */
  86:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                            resulting in version 6.1    */
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 3


  87:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /*                                                                        */
  88:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** /**************************************************************************/
  89:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** UINT  _fx_file_attributes_set(FX_MEDIA *media_ptr, CHAR *file_name, UINT attributes)
  90:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** {
  30              		.loc 1 90 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 112
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 90 1 is_stmt 0 view .LVU1
  35 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 9EB0     		sub	sp, sp, #120
  45              	.LCFI1:
  46              		.cfi_def_cfa_offset 144
  47 0006 9046     		mov	r8, r2
  91:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  92:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** UINT         status;
  48              		.loc 1 92 1 is_stmt 1 view .LVU2
  93:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** ULONG        open_count;
  49              		.loc 1 93 1 view .LVU3
  94:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** FX_FILE     *search_ptr;
  50              		.loc 1 94 1 view .LVU4
  95:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** FX_DIR_ENTRY dir_entry;
  51              		.loc 1 95 1 view .LVU5
  96:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** UCHAR        not_a_file_attr;
  52              		.loc 1 96 1 view .LVU6
  97:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  98:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  99:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifndef FX_MEDIA_STATISTICS_DISABLE
 100:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 101:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Increment the number of times this service has been called.  */
 102:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     media_ptr -> fx_media_file_attributes_sets++;
  53              		.loc 1 102 5 view .LVU7
  54              		.loc 1 102 15 is_stmt 0 view .LVU8
  55 0008 D0F82431 		ldr	r3, [r0, #292]
  56              		.loc 1 102 47 view .LVU9
  57 000c 0133     		adds	r3, r3, #1
  58 000e C0F82431 		str	r3, [r0, #292]
 103:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif
 104:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 105:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Setup pointer to media name buffer.  */
 106:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     dir_entry.fx_dir_entry_name =  media_ptr -> fx_media_name_buffer + FX_MAX_LONG_NAME_LEN;
  59              		.loc 1 106 5 is_stmt 1 view .LVU10
  60              		.loc 1 106 70 is_stmt 0 view .LVU11
  61 0012 00F69C13 		addw	r3, r0, #2460
  62              		.loc 1 106 33 view .LVU12
  63 0016 0293     		str	r3, [sp, #8]
 107:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 108:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Clear the short name string.  */
 109:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     dir_entry.fx_dir_entry_short_name[0] =  0;
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 4


  64              		.loc 1 109 5 is_stmt 1 view .LVU13
  65              		.loc 1 109 42 is_stmt 0 view .LVU14
  66 0018 0023     		movs	r3, #0
  67 001a 8DF80C30 		strb	r3, [sp, #12]
 110:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 111:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Check the media to make sure it is open.  */
 112:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     if (media_ptr -> fx_media_id != FX_MEDIA_ID)
  68              		.loc 1 112 5 is_stmt 1 view .LVU15
  69              		.loc 1 112 19 is_stmt 0 view .LVU16
  70 001e 0268     		ldr	r2, [r0]
  71              	.LVL1:
  72              		.loc 1 112 8 view .LVU17
  73 0020 2D4B     		ldr	r3, .L17
  74 0022 9A42     		cmp	r2, r3
  75 0024 04D0     		beq	.L12
 113:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 114:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 115:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Return the media not opened error.  */
 116:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         return(FX_MEDIA_NOT_OPEN);
  76              		.loc 1 116 15 view .LVU18
  77 0026 1127     		movs	r7, #17
  78              	.LVL2:
  79              	.L1:
 117:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 118:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
 119:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
 120:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 121:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         not_a_file_attr = FX_DIRECTORY;
 122:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 123:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     else
 124:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 125:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif /* FX_ENABLE_EXFAT */
 126:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         not_a_file_attr = FX_DIRECTORY | FX_VOLUME;
 127:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
 128:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 129:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif /* FX_ENABLE_EXFAT */
 130:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 131:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* If trace is enabled, insert this event into the trace buffer.  */
 132:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     FX_TRACE_IN_LINE_INSERT(FX_TRACE_FILE_ATTRIBUTES_SET, media_ptr, file_name, attributes, 0, FX_T
 133:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 134:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Protect against other threads accessing the media.  */
 135:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     FX_PROTECT
 136:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 137:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Check for write protect at the media level (set by driver).  */
 138:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     if (media_ptr -> fx_media_driver_write_protect)
 139:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 140:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 141:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Release media protection.  */
 142:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         FX_UNPROTECT
 143:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 144:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Return write protect error.  */
 145:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         return(FX_WRITE_PROTECT);
 146:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 147:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 148:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Search the system for the supplied file name.  */
 149:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     status =  _fx_directory_search(media_ptr, file_name, &dir_entry, FX_NULL, FX_NULL);
 150:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 5


 151:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Determine if the search was successful.  */
 152:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     if (status != FX_SUCCESS)
 153:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 154:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 155:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Release media protection.  */
 156:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         FX_UNPROTECT
 157:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 158:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Return the error code.  */
 159:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         return(status);
 160:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 161:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 162:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Check to make sure the found entry is a file.  */
 163:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     if (dir_entry.fx_dir_entry_attributes & not_a_file_attr)
 164:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 165:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 166:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Release media protection.  */
 167:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         FX_UNPROTECT
 168:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 169:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Return the not a file error code.  */
 170:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         return(FX_NOT_A_FILE);
 171:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 172:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 173:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Search the opened files to see if this file is currently
 174:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****        opened.  */
 175:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     open_count =  media_ptr -> fx_media_opened_file_count;
 176:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 177:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     while (open_count)
 178:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 179:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 180:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Look at each opened file to see if the same file is opened.  */
 181:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         if ((search_ptr -> fx_file_dir_entry.fx_dir_entry_log_sector == dir_entry.fx_dir_entry_log_
 182:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 183:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         {
 184:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 185:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             /* Release media protection.  */
 186:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             FX_UNPROTECT
 187:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 188:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             /* The file is currently open.  */
 189:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             return(FX_ACCESS_ERROR);
 190:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         }
 191:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 192:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Adjust the pointer and decrement the search count.  */
 193:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         search_ptr =  search_ptr -> fx_file_opened_next;
 194:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         open_count--;
 195:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 196:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 197:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Place the new attributes in the directory entry.  */
 198:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     dir_entry.fx_dir_entry_attributes =  (UCHAR)attributes;
 199:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 200:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 201:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Start transaction. */
 202:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     _fx_fault_tolerant_transaction_start(media_ptr);
 203:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 204:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 205:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Now write out the directory entry.  */
 206:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
 207:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     if (media_ptr -> fx_media_FAT_type == FX_exFAT)
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 6


 208:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 209:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         status = _fx_directory_exFAT_entry_write(media_ptr, &dir_entry, UPDATE_FILE);
 210:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 211:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     else
 212:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 213:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif /* FX_ENABLE_EXFAT */
 214:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         status = _fx_directory_entry_write(media_ptr, &dir_entry);
 215:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
 216:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 217:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif /* FX_ENABLE_EXFAT */
 218:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 219:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_FAULT_TOLERANT
 220:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Check for a bad status.  */
 221:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     if (status != FX_SUCCESS)
 222:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 223:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 224:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         FX_FAULT_TOLERANT_TRANSACTION_FAIL(media_ptr);
 225:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 226:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Release media protection.  */
 227:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         FX_UNPROTECT
 228:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 229:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         /* Return the bad status.  */
 230:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         return(status);
 231:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 232:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 233:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* End transaction. */
 234:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     status = _fx_fault_tolerant_transaction_end(media_ptr);
 235:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #endif /* FX_ENABLE_FAULT_TOLERANT */
 236:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 237:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* Release media protection.  */
 238:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     FX_UNPROTECT
 239:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 240:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     /* File attribute set is complete, return status.  */
 241:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     return(status);
 242:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** }
  80              		.loc 1 242 1 view .LVU19
  81 0028 3846     		mov	r0, r7
  82 002a 1EB0     		add	sp, sp, #120
  83              	.LCFI2:
  84              		.cfi_remember_state
  85              		.cfi_def_cfa_offset 24
  86              		@ sp needed
  87 002c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
  88              	.LVL3:
  89              	.L12:
  90              	.LCFI3:
  91              		.cfi_restore_state
  92              		.loc 1 242 1 view .LVU20
  93 0030 0446     		mov	r4, r0
  94 0032 0F46     		mov	r7, r1
 126:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
  95              		.loc 1 126 9 is_stmt 1 discriminator 2 view .LVU21
  96              	.LVL4:
 135:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  97              		.loc 1 135 5 discriminator 2 view .LVU22
 135:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
  98              		.loc 1 135 5 discriminator 2 view .LVU23
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 7


  99 0034 00F5E476 		add	r6, r0, #456
 100 0038 4FF0FF31 		mov	r1, #-1
 101              	.LVL5:
 135:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 102              		.loc 1 135 5 is_stmt 0 discriminator 2 view .LVU24
 103 003c 3046     		mov	r0, r6
 104              	.LVL6:
 135:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 105              		.loc 1 135 5 discriminator 2 view .LVU25
 106 003e FFF7FEFF 		bl	_tx_mutex_get
 107              	.LVL7:
 108 0042 0028     		cmp	r0, #0
 109 0044 45D1     		bne	.L10
 138:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 110              		.loc 1 138 5 is_stmt 1 view .LVU26
 138:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 111              		.loc 1 138 19 is_stmt 0 view .LVU27
 112 0046 D4F8A830 		ldr	r3, [r4, #168]
 138:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 113              		.loc 1 138 8 view .LVU28
 114 004a 93B9     		cbnz	r3, .L13
 149:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 115              		.loc 1 149 5 is_stmt 1 view .LVU29
 149:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 116              		.loc 1 149 15 is_stmt 0 view .LVU30
 117 004c 0023     		movs	r3, #0
 118 004e 0093     		str	r3, [sp]
 119 0050 02AA     		add	r2, sp, #8
 120 0052 3946     		mov	r1, r7
 121 0054 2046     		mov	r0, r4
 122 0056 FFF7FEFF 		bl	_fx_directory_search
 123              	.LVL8:
 152:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 124              		.loc 1 152 5 is_stmt 1 view .LVU31
 152:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 125              		.loc 1 152 8 is_stmt 0 view .LVU32
 126 005a 0746     		mov	r7, r0
 127              	.LVL9:
 152:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 128              		.loc 1 152 8 view .LVU33
 129 005c 70B9     		cbnz	r0, .L14
 163:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 130              		.loc 1 163 5 is_stmt 1 view .LVU34
 163:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 131              		.loc 1 163 18 is_stmt 0 view .LVU35
 132 005e 9DF82430 		ldrb	r3, [sp, #36]	@ zero_extendqisi2
 163:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 133              		.loc 1 163 8 view .LVU36
 134 0062 13F0180F 		tst	r3, #24
 135 0066 0DD1     		bne	.L15
 175:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 136              		.loc 1 175 5 is_stmt 1 view .LVU37
 175:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     search_ptr =  media_ptr -> fx_media_opened_file_list;
 137              		.loc 1 175 16 is_stmt 0 view .LVU38
 138 0068 D4F8CC20 		ldr	r2, [r4, #204]
 139              	.LVL10:
 176:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     while (open_count)
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 8


 140              		.loc 1 176 5 is_stmt 1 view .LVU39
 176:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     while (open_count)
 141              		.loc 1 176 16 is_stmt 0 view .LVU40
 142 006c D4F8C830 		ldr	r3, [r4, #200]
 143              	.LVL11:
 177:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 144              		.loc 1 177 5 is_stmt 1 view .LVU41
 177:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 145              		.loc 1 177 11 is_stmt 0 view .LVU42
 146 0070 0FE0     		b	.L6
 147              	.LVL12:
 148              	.L13:
 142:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 149              		.loc 1 142 9 is_stmt 1 view .LVU43
 150 0072 3046     		mov	r0, r6
 151 0074 FFF7FEFF 		bl	_tx_mutex_put
 152              	.LVL13:
 145:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 153              		.loc 1 145 9 view .LVU44
 145:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 154              		.loc 1 145 15 is_stmt 0 view .LVU45
 155 0078 2327     		movs	r7, #35
 156              	.LVL14:
 145:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 157              		.loc 1 145 15 view .LVU46
 158 007a D5E7     		b	.L1
 159              	.LVL15:
 160              	.L14:
 156:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 161              		.loc 1 156 9 is_stmt 1 view .LVU47
 162 007c 3046     		mov	r0, r6
 163              	.LVL16:
 156:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 164              		.loc 1 156 9 is_stmt 0 view .LVU48
 165 007e FFF7FEFF 		bl	_tx_mutex_put
 166              	.LVL17:
 159:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 167              		.loc 1 159 9 is_stmt 1 view .LVU49
 159:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 168              		.loc 1 159 15 is_stmt 0 view .LVU50
 169 0082 D1E7     		b	.L1
 170              	.LVL18:
 171              	.L15:
 167:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 172              		.loc 1 167 9 is_stmt 1 view .LVU51
 173 0084 3046     		mov	r0, r6
 174              	.LVL19:
 167:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 175              		.loc 1 167 9 is_stmt 0 view .LVU52
 176 0086 FFF7FEFF 		bl	_tx_mutex_put
 177              	.LVL20:
 170:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 178              		.loc 1 170 9 is_stmt 1 view .LVU53
 170:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 179              		.loc 1 170 15 is_stmt 0 view .LVU54
 180 008a 0527     		movs	r7, #5
 181              	.LVL21:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 9


 170:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 182              		.loc 1 170 15 view .LVU55
 183 008c CCE7     		b	.L1
 184              	.LVL22:
 185              	.L7:
 193:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         open_count--;
 186              		.loc 1 193 9 is_stmt 1 view .LVU56
 193:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         open_count--;
 187              		.loc 1 193 20 is_stmt 0 view .LVU57
 188 008e DB6D     		ldr	r3, [r3, #92]
 189              	.LVL23:
 194:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 190              		.loc 1 194 9 is_stmt 1 view .LVU58
 194:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     }
 191              		.loc 1 194 19 is_stmt 0 view .LVU59
 192 0090 013A     		subs	r2, r2, #1
 193              	.LVL24:
 194              	.L6:
 177:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****     {
 195              		.loc 1 177 11 is_stmt 1 view .LVU60
 196 0092 9AB1     		cbz	r2, .L16
 181:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 197              		.loc 1 181 9 view .LVU61
 181:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 198              		.loc 1 181 45 is_stmt 0 view .LVU62
 199 0094 D3F8AC00 		ldr	r0, [r3, #172]
 181:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 200              		.loc 1 181 12 view .LVU63
 201 0098 1399     		ldr	r1, [sp, #76]
 202 009a D3F8A870 		ldr	r7, [r3, #168]
 203 009e 129D     		ldr	r5, [sp, #72]
 204 00a0 8842     		cmp	r0, r1
 205 00a2 08BF     		it	eq
 206 00a4 AF42     		cmpeq	r7, r5
 207 00a6 F2D1     		bne	.L7
 182:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         {
 208              		.loc 1 182 45 discriminator 1 view .LVU64
 209 00a8 D3F8B000 		ldr	r0, [r3, #176]
 182:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         {
 210              		.loc 1 182 83 discriminator 1 view .LVU65
 211 00ac 1499     		ldr	r1, [sp, #80]
 181:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****             (search_ptr -> fx_file_dir_entry.fx_dir_entry_byte_offset == dir_entry.fx_dir_entry_byt
 212              		.loc 1 181 108 discriminator 1 view .LVU66
 213 00ae 8842     		cmp	r0, r1
 214 00b0 EDD1     		bne	.L7
 186:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 215              		.loc 1 186 13 is_stmt 1 view .LVU67
 216 00b2 3046     		mov	r0, r6
 217 00b4 FFF7FEFF 		bl	_tx_mutex_put
 218              	.LVL25:
 189:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         }
 219              		.loc 1 189 13 view .LVU68
 189:Middlewares/ST/filex/common/src/fx_file_attributes_set.c ****         }
 220              		.loc 1 189 19 is_stmt 0 view .LVU69
 221 00b8 0627     		movs	r7, #6
 222 00ba B5E7     		b	.L1
 223              	.LVL26:
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 10


 224              	.L16:
 198:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 225              		.loc 1 198 5 is_stmt 1 view .LVU70
 198:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 226              		.loc 1 198 39 is_stmt 0 view .LVU71
 227 00bc 8DF82480 		strb	r8, [sp, #36]
 214:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
 228              		.loc 1 214 9 is_stmt 1 view .LVU72
 214:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
 229              		.loc 1 214 18 is_stmt 0 view .LVU73
 230 00c0 02A9     		add	r1, sp, #8
 231 00c2 2046     		mov	r0, r4
 232 00c4 FFF7FEFF 		bl	_fx_directory_entry_write
 233              	.LVL27:
 214:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** #ifdef FX_ENABLE_EXFAT
 234              		.loc 1 214 18 view .LVU74
 235 00c8 0746     		mov	r7, r0
 236              	.LVL28:
 238:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 237              		.loc 1 238 5 is_stmt 1 view .LVU75
 238 00ca 3046     		mov	r0, r6
 239              	.LVL29:
 238:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 240              		.loc 1 238 5 is_stmt 0 view .LVU76
 241 00cc FFF7FEFF 		bl	_tx_mutex_put
 242              	.LVL30:
 241:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** }
 243              		.loc 1 241 5 is_stmt 1 view .LVU77
 241:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** }
 244              		.loc 1 241 11 is_stmt 0 view .LVU78
 245 00d0 AAE7     		b	.L1
 246              	.LVL31:
 247              	.L10:
 135:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 248              		.loc 1 135 5 view .LVU79
 249 00d2 1127     		movs	r7, #17
 250              	.LVL32:
 135:Middlewares/ST/filex/common/src/fx_file_attributes_set.c **** 
 251              		.loc 1 135 5 view .LVU80
 252 00d4 A8E7     		b	.L1
 253              	.L18:
 254 00d6 00BF     		.align	2
 255              	.L17:
 256 00d8 4944454D 		.word	1296385097
 257              		.cfi_endproc
 258              	.LFE8:
 260              		.text
 261              	.Letext0:
 262              		.file 2 "Middlewares/ST/threadx/ports/cortex_m4/gnu/inc/tx_port.h"
 263              		.file 3 "Middlewares/ST/threadx/common/inc/tx_api.h"
 264              		.file 4 "Middlewares/ST/filex/common/inc/fx_api.h"
 265              		.file 5 "Middlewares/ST/filex/common/inc/fx_directory.h"
ARM GAS  C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 fx_file_attributes_set.c
C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s:20     .text._fx_file_attributes_set:00000000 $t
C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s:26     .text._fx_file_attributes_set:00000000 _fx_file_attributes_set
C:\Users\HP\AppData\Local\Temp\ccaLGm8I.s:256    .text._fx_file_attributes_set:000000d8 $d

UNDEFINED SYMBOLS
_tx_mutex_get
_fx_directory_search
_tx_mutex_put
_fx_directory_entry_write
